(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("DPlayer",[],t):"object"==typeof exports?exports.DPlayer=t():e.DPlayer=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=/mobile/i.test(window.navigator.userAgent),a={secondToTime:function(e){var t=function(e){return e<10?"0"+e:""+e},n=parseInt(e/60),i=parseInt(e-60*n);return t(n)+":"+t(i)},getElementViewLeft:function(e){var t=e.offsetLeft,n=e.offsetParent,i=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;null!==n&&n!==e;)t+=n.offsetLeft,n=n.offsetParent;else for(;null!==n;)t+=n.offsetLeft,n=n.offsetParent;return t-i},getScrollPosition:function(){return{left:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,top:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},setScrollPosition:function(e){var t=e.left,n=void 0===t?0:t,i=e.top,a=void 0===i?0:i;this.isFirefox?(document.documentElement.scrollLeft=n,document.documentElement.scrollTop=a):window.scrollTo(n,a)},isMobile:i,isFirefox:/firefox/i.test(window.navigator.userAgent),isChrome:/chrome/i.test(window.navigator.userAgent),storage:{set:function(e,t){localStorage.setItem(e,t)},get:function(e){return localStorage.getItem(e)}},cumulativeOffset:function(e){var t=0,n=0;do{t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:n}},nameMap:{dragStart:i?"touchstart":"mousedown",dragMove:i?"touchmove":"mousemove",dragEnd:i?"touchend":"mouseup"}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2);var i=n(3),a=function(e){return e&&e.__esModule?e:{default:e}}(i);console.log("\n %c DPlayer 1.21.0 8e69ada %c http://dplayer.js.org \n\n","color: #fadfa3; background: #030307; padding:5px 0;","background: #fadfa3; padding:5px 0;"),t.default=a.default},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(4),r=i(s),l=n(0),c=i(l),u=n(9),d=i(u),p=n(12),h=i(p),y=n(13),m=i(y),f=n(14),v=i(f),g=n(15),b=i(g),k=n(16),w=i(k),S=n(17),T=i(S),L=n(18),x=i(L),M=n(19),_=i(M),E=n(20),q=i(E),B=n(21),P=i(B),O=n(22),j=i(O),C=n(23),z=i(C),F=n(25),I=i(F),W=n(26),D=i(W),H=n(27),A=i(H),R=n(28),V=i(R),N=0,X=[],Q=function(){function e(t){var n=this;a(this,e),this.options=(0,d.default)(t),this.options.video.quality&&(this.qualityIndex=this.options.video.defaultQuality,this.quality=this.options.video.quality[this.options.video.defaultQuality]),this.tran=new h.default(this.options.lang).tran,this.icons=new v.default(this.options),this.events=new w.default,this.user=new x.default(this),this.container=this.options.container,this.container.classList.add("dplayer"),this.options.danmaku||this.container.classList.add("dplayer-no-danmaku"),this.options.live&&this.container.classList.add("dplayer-live"),c.default.isMobile&&this.container.classList.add("dplayer-mobile"),this.arrow=this.container.offsetWidth<=500,this.arrow&&this.container.classList.add("dplayer-arrow"),this.template=new m.default({container:this.container,options:this.options,index:N,tran:this.tran,icons:this.icons}),this.video=this.template.video,this.bar=new q.default(this.template),this.bezel=new j.default(this.template.bezel),this.fullScreen=new T.default(this),this.controller=new z.default(this),this.options.danmaku&&(this.danmaku=new b.default({container:this.template.danmaku,opacity:this.user.get("opacity"),callback:function(){setTimeout(function(){n.template.danmakuLoading.style.display="none",n.options.autoplay?n.play():c.default.isMobile&&n.pause()},0)},error:function(e){n.notice(e)},apiBackend:this.options.apiBackend,borderColor:this.options.theme,height:this.arrow?24:30,time:function(){return n.video.currentTime},unlimited:this.user.get("unlimited"),api:{id:this.options.danmaku.id,address:this.options.danmaku.api,token:this.options.danmaku.token,maximum:this.options.danmaku.maximum,addition:this.options.danmaku.addition,user:this.options.danmaku.user},events:this.events}),this.comment=new D.default(this)),this.setting=new I.default(this),document.addEventListener("click",function(){n.focus=!1},!0),this.container.addEventListener("click",function(){n.focus=!0},!0),this.paused=!0,this.time=new P.default(this),this.hotkey=new A.default(this),this.contextmenu=new V.default(this),this.initVideo(this.video,this.quality&&this.quality.type||this.options.video.type),!this.danmaku&&this.options.autoplay&&this.play(),N++,X.push(this)}return o(e,[{key:"seek",value:function(e){e=Math.max(e,0),this.video.duration&&(e=Math.min(e,this.video.duration)),this.video.currentTime<e?this.notice(this.tran("FF")+" "+(e-this.video.currentTime).toFixed(0)+" "+this.tran("s")):this.video.currentTime>e&&this.notice(this.tran("REW")+" "+(this.video.currentTime-e).toFixed(0)+" "+this.tran("s")),this.video.currentTime=e,this.danmaku&&this.danmaku.seek(),this.bar.set("played",e/this.video.duration,"width")}},{key:"play",value:function(){var e=this;if(this.paused=!1,this.video.paused&&this.bezel.switch(this.icons.get("play")),this.template.playButton.innerHTML=this.icons.get("pause"),r.default.resolve(this.video.play()).catch(function(){e.pause()}).then(function(){}),this.time.enable(),this.container.classList.add("dplayer-playing"),this.danmaku&&this.danmaku.play(),this.options.mutex)for(var t=0;t<X.length;t++)this!==X[t]&&X[t].pause()}},{key:"pause",value:function(){this.paused=!0,this.container.classList.remove("dplayer-loading"),this.video.paused||this.bezel.switch(this.icons.get("pause")),this.ended=!1,this.template.playButton.innerHTML=this.icons.get("play"),this.video.pause(),this.time.disable(),this.container.classList.remove("dplayer-playing"),this.danmaku&&this.danmaku.pause()}},{key:"switchVolumeIcon",value:function(){this.volume()>=.95?this.template.volumeIcon.innerHTML=this.icons.get("volume-up"):this.volume()>0?this.template.volumeIcon.innerHTML=this.icons.get("volume-down"):this.template.volumeIcon.innerHTML=this.icons.get("volume-off")}},{key:"volume",value:function(e,t,n){if(e=parseFloat(e),!isNaN(e)){e=Math.max(e,0),e=Math.min(e,1),this.bar.set("volume",e,"width");var i=(100*e).toFixed(0)+"%";this.template.volumeBarWrapWrap.dataset.balloon=i,t||this.user.set("volume",e),n||this.notice(this.tran("Volume")+" "+(100*e).toFixed(0)+"%"),this.video.volume=e,this.video.muted&&(this.video.muted=!1),this.switchVolumeIcon()}return this.video.volume}},{key:"toggle",value:function(){this.video.paused?this.play():this.pause()}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"switchVideo",value:function(e,t){this.pause(),this.video.poster=e.pic?e.pic:"",this.video.src=e.url,this.initMSE(this.video,e.type||"auto"),t&&(this.template.danmakuLoading.style.display="block",this.bar.set("played",0,"width"),this.bar.set("loaded",0,"width"),this.template.ptime.innerHTML="00:00",this.template.danmaku.innerHTML="",this.danmaku&&this.danmaku.reload({id:t.id,address:t.api,token:t.token,maximum:t.maximum,addition:t.addition,user:t.user}))}},{key:"initMSE",value:function(e,t){var n=this;if(this.type=t,this.options.video.customType&&this.options.video.customType[t])"[object Function]"===Object.prototype.toString.call(this.options.video.customType[t])?this.options.video.customType[t](this.video,this):console.error("Illegal customType: "+t);else switch("auto"===this.type&&(/m3u8(#|\?|$)/i.exec(e.src)?this.type="hls":/.flv(#|\?|$)/i.exec(e.src)?this.type="flv":/.mpd(#|\?|$)/i.exec(e.src)?this.type="dash":this.type="normal"),this.type){case"hls":if(Hls)if(Hls.isSupported()){var i=new Hls;i.loadSource(e.src),i.attachMedia(e)}else this.notice("Error: Hls is not supported.");else this.notice("Error: Can't find Hls.");break;case"flv":if(flvjs&&flvjs.isSupported())if(flvjs.isSupported()){var a=flvjs.createPlayer({type:"flv",url:e.src});a.attachMediaElement(e),a.load()}else this.notice("Error: flvjs is not supported.");else this.notice("Error: Can't find flvjs.");break;case"dash":dashjs?dashjs.MediaPlayer().create().initialize(e,e.src,!1):this.notice("Error: Can't find dashjs.");break;case"webtorrent":if(WebTorrent)if(WebTorrent.WEBRTC_SUPPORT){this.container.classList.add("dplayer-loading");var o=new WebTorrent,s=e.src;o.add(s,function(e){e.files.find(function(e){return e.name.endsWith(".mp4")}).renderTo(n.video,{autoplay:n.options.autoplay},function(){n.container.classList.remove("dplayer-loading")})})}else this.notice("Error: Webtorrent is not supported.");else this.notice("Error: Can't find Webtorrent.")}}},{key:"initVideo",value:function(e,t){var n=this;this.initMSE(e,t),this.on("durationchange",function(){1!==e.duration&&(n.template.dtime.innerHTML=c.default.secondToTime(e.duration))}),this.on("progress",function(){var t=e.buffered.length?e.buffered.end(e.buffered.length-1)/e.duration:0;n.bar.set("loaded",t,"width")}),this.on("error",function(){n.tran&&n.notice&&(n.type,n.notice(n.tran("This video fails to load"),-1))}),this.ended=!1,this.on("ended",function(){n.bar.set("played",1,"width"),n.setting.loop?(n.seek(0),e.play()):(n.ended=!0,n.pause()),n.danmaku&&(n.danmaku.danIndex=0)}),this.on("play",function(){n.paused&&n.play()}),this.on("pause",function(){n.paused||n.pause()});for(var i=0;i<this.events.videoEvents.length;i++)!function(t){e.addEventListener(n.events.videoEvents[t],function(){n.events.trigger(n.events.videoEvents[t])})}(i);this.volume(this.user.get("volume"),!0,!0),this.options.subtitle&&(this.subtitle=new _.default(this.template.subtitle,this.video,this.options.subtitle,this.events),this.user.get("subtitle")||this.subtitle.hide())}},{key:"switchQuality",value:function(e){var t=this;if(this.qualityIndex!==e&&!this.switchingQuality){this.qualityIndex=e,this.switchingQuality=!0,this.quality=this.options.video.quality[e],this.template.qualityButton.innerHTML=this.quality.name;var n=this.video.paused;this.video.pause();var i=this.template.tplVideo(!1,null,this.options.screenshot,"auto",this.quality.url,this.options.subtitle),a=(new DOMParser).parseFromString(i,"text/html").body.firstChild;this.template.videoWrap.insertBefore(a,this.template.videoWrap.getElementsByTagName("div")[0]),this.prevVideo=this.video,this.video=a,this.initVideo(this.video,this.quality.type||this.options.video.type),this.seek(this.prevVideo.currentTime),this.notice(this.tran("Switching to")+" "+this.quality.name+" "+this.tran("quality"),-1),this.events.trigger("quality_start",this.quality),this.on("canplay",function(){if(t.prevVideo){if(t.video.currentTime!==t.prevVideo.currentTime)return void t.seek(t.prevVideo.currentTime);t.template.videoWrap.removeChild(t.prevVideo),t.video.classList.add("dplayer-video-current"),n||t.video.play(),t.prevVideo=null,t.notice(t.tran("Switched to")+" "+t.quality.name+" "+t.tran("quality")),t.switchingQuality=!1,t.events.trigger("quality_end")}})}}},{key:"notice",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;this.template.notice.innerHTML=e,this.template.notice.style.opacity=i,this.noticeTime&&clearTimeout(this.noticeTime),this.events.trigger("notice_show",e),this.noticeTime=setTimeout(function(){t.template.notice.style.opacity=0,t.events.trigger("notice_hide")},n)}},{key:"resize",value:function(){this.danmaku&&this.danmaku.resize(),this.events.trigger("resize")}},{key:"speed",value:function(e){this.video.playbackRate=e}},{key:"destroy",value:function(){X.splice(X.indexOf(this),1),this.pause(),this.controller.destroy(),this.time.destroy(),this.video.src="",this.container.innerHTML="",this.events.trigger("destroy");for(var e in this)this.hasOwnProperty(e)&&"paused"!==e&&delete this[e]}}]),e}();t.default=Q},function(e,t,n){"use strict";(function(e){function n(){}function i(e,t){return function(){e.apply(t,arguments)}}function a(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,u._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?o:s)(t.promise,e._value);var i;try{i=n(e._value)}catch(e){return void s(t.promise,e)}o(t.promise,i)})}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===(void 0===t?"undefined":d(t))||"function"==typeof t)){var n=t.then;if(t instanceof u)return e._state=3,e._value=t,void r(e);if("function"==typeof n)return void c(i(n,t),e)}e._state=1,e._value=t,r(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,r(e)}function r(e){2===e._state&&0===e._deferreds.length&&u._immediateFn(function(){e._handled||u._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function c(e,t){var n=!1;try{e(function(e){n||(n=!0,o(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}function u(e){if(!(this instanceof u))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}Object.defineProperty(t,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=setTimeout,h=u.prototype;h.catch=function(e){return this.then(null,e)},h.then=function(e,t){var i=new this.constructor(n);return a(this,new l(e,t,i)),i},u.all=function(e){return new u(function(t,n){function i(e,s){try{if(s&&("object"===(void 0===s?"undefined":d(s))||"function"==typeof s)){var r=s.then;if("function"==typeof r)return void r.call(s,function(t){i(e,t)},n)}a[e]=s,0==--o&&t(a)}catch(e){n(e)}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var a=Array.prototype.slice.call(e);if(0===a.length)return t([]);for(var o=a.length,s=0;s<a.length;s++)i(s,a[s])})},u.resolve=function(e){return e&&"object"===(void 0===e?"undefined":d(e))&&e.constructor===u?e:new u(function(t){t(e)})},u.reject=function(e){return new u(function(t,n){n(e)})},u.race=function(e){return new u(function(t,n){for(var i=0,a=e.length;i<a;i++)e[i].then(t,n)})},u._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){p(e,0)},u._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.default=u}).call(t,n(5).setImmediate)},function(e,t,n){"use strict";function i(e,t){this._id=e,this._clearFn=t}var a=Function.prototype.apply;t.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(6),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){"use strict";(function(e,t){!function(e,n){function i(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[l]=i,r(l),l++}function a(e){delete c[e]}function o(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}function s(e){if(u)setTimeout(s,0,e);else{var t=c[e];if(t){u=!0;try{o(t)}finally{a(e),u=!1}}}}if(!e.setImmediate){var r,l=1,c={},u=!1,d=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?function(){r=function(e){t.nextTick(function(){s(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&s(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){s(e.data)},r=function(t){e.port2.postMessage(t)}}():d&&"onreadystatechange"in d.createElement("script")?function(){var e=d.documentElement;r=function(t){var n=d.createElement("script");n.onreadystatechange=function(){s(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){r=function(e){setTimeout(s,0,e)}}(),p.setImmediate=i,p.clearImmediate=a}}("undefined"==typeof self?void 0===e?void 0:e:self)}).call(t,n(7),n(8))},function(e,t,n){"use strict";var i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":a(window))&&(i=window)}e.exports=i},function(e,t,n){"use strict";function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(d===setTimeout)return setTimeout(e,0);if((d===i||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function s(e){if(p===clearTimeout)return clearTimeout(e);if((p===a||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function r(){f&&y&&(f=!1,y.length?m=y.concat(m):v=-1,m.length&&l())}function l(){if(!f){var e=o(r);f=!0;for(var t=m.length;t;){for(y=m,m=[];++v<t;)y&&y[v].run();v=-1,t=m.length}y=null,f=!1,s(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var d,p,h=e.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:i}catch(e){d=i}try{p="function"==typeof clearTimeout?clearTimeout:a}catch(e){p=a}}();var y,m=[],f=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new c(e,t)),1!==m.length||f||o(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(10),s=i(o),r=n(11),l=i(r);t.default=function(e){var t={container:e.element||document.getElementsByClassName("dplayer")[0],live:!1,autoplay:!1,theme:"#b7daff",loop:!1,lang:(navigator.language||navigator.browserLanguage).toLowerCase(),screenshot:!1,hotkey:!0,preload:"auto",volume:.7,apiBackend:l.default,video:{},icons:{play:["0 0 16 32","M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"],pause:["0 0 17 32","M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"],"volume-up":["0 0 21 32","M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056z"],"volume-down":["0 0 21 32","M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"],"volume-off":["0 0 21 32","M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"],loop:["0 0 32 32","M1.882 16.941c0 4.152 3.221 7.529 7.177 7.529v1.882c-4.996 0-9.060-4.222-9.060-9.412s4.064-9.412 9.060-9.412h7.96l-3.098-3.098 1.331-1.331 5.372 5.37-5.37 5.372-1.333-1.333 3.1-3.098h-7.962c-3.957 0-7.177 3.377-7.177 7.529zM22.94 7.529v1.882c3.957 0 7.177 3.377 7.177 7.529s-3.221 7.529-7.177 7.529h-7.962l3.098-3.098-1.331-1.331-5.37 5.37 5.372 5.372 1.331-1.331-3.1-3.1h7.96c4.998 0 9.062-4.222 9.062-9.412s-4.064-9.412-9.060-9.412z"],full:["0 0 32 33","M6.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v4h4c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333zM30.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h4v-4c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM30.667 12c-0.8 0-1.333-0.533-1.333-1.333v-4h-4c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM1.333 12c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333h-4v4c0 0.8-0.533 1.333-1.333 1.333z"],"full-in":["0 0 32 33","M24.965 24.38h-18.132c-1.366 0-2.478-1.113-2.478-2.478v-11.806c0-1.364 1.111-2.478 2.478-2.478h18.132c1.366 0 2.478 1.113 2.478 2.478v11.806c0 1.364-1.11 2.478-2.478 2.478zM6.833 10.097v11.806h18.134l-0.002-11.806h-18.132zM2.478 28.928h5.952c0.684 0 1.238-0.554 1.238-1.239 0-0.684-0.554-1.238-1.238-1.238h-5.952v-5.802c0-0.684-0.554-1.239-1.238-1.239s-1.239 0.556-1.239 1.239v5.802c0 1.365 1.111 2.478 2.478 2.478zM30.761 19.412c-0.684 0-1.238 0.554-1.238 1.238v5.801h-5.951c-0.686 0-1.239 0.554-1.239 1.238 0 0.686 0.554 1.239 1.239 1.239h5.951c1.366 0 2.478-1.111 2.478-2.478v-5.801c0-0.683-0.554-1.238-1.239-1.238zM0 5.55v5.802c0 0.683 0.554 1.238 1.238 1.238s1.238-0.555 1.238-1.238v-5.802h5.952c0.684 0 1.238-0.554 1.238-1.238s-0.554-1.238-1.238-1.238h-5.951c-1.366-0.001-2.478 1.111-2.478 2.476zM32 11.35v-5.801c0-1.365-1.11-2.478-2.478-2.478h-5.951c-0.686 0-1.239 0.554-1.239 1.238s0.554 1.238 1.239 1.238h5.951v5.801c0 0.683 0.554 1.237 1.238 1.237 0.686 0.002 1.239-0.553 1.239-1.236z"],setting:["0 0 32 28","M28.633 17.104c0.035 0.21 0.026 0.463-0.026 0.76s-0.14 0.598-0.262 0.904c-0.122 0.306-0.271 0.581-0.445 0.825s-0.367 0.419-0.576 0.524c-0.209 0.105-0.393 0.157-0.55 0.157s-0.332-0.035-0.524-0.105c-0.175-0.052-0.393-0.1-0.655-0.144s-0.528-0.052-0.799-0.026c-0.271 0.026-0.541 0.083-0.812 0.17s-0.502 0.236-0.694 0.445c-0.419 0.437-0.664 0.934-0.734 1.493s0.009 1.092 0.236 1.598c0.175 0.349 0.148 0.699-0.079 1.048-0.105 0.14-0.271 0.284-0.498 0.432s-0.476 0.284-0.747 0.406-0.555 0.218-0.851 0.288c-0.297 0.070-0.559 0.105-0.786 0.105-0.157 0-0.306-0.061-0.445-0.183s-0.236-0.253-0.288-0.393h-0.026c-0.192-0.541-0.52-1.009-0.982-1.402s-1-0.589-1.611-0.589c-0.594 0-1.131 0.197-1.611 0.589s-0.816 0.851-1.009 1.375c-0.087 0.21-0.218 0.362-0.393 0.458s-0.367 0.144-0.576 0.144c-0.244 0-0.52-0.044-0.825-0.131s-0.611-0.197-0.917-0.327c-0.306-0.131-0.581-0.284-0.825-0.458s-0.428-0.349-0.55-0.524c-0.087-0.122-0.135-0.266-0.144-0.432s0.057-0.397 0.197-0.694c0.192-0.402 0.266-0.86 0.223-1.375s-0.266-0.991-0.668-1.428c-0.244-0.262-0.541-0.432-0.891-0.511s-0.681-0.109-0.995-0.092c-0.367 0.017-0.742 0.087-1.127 0.21-0.244 0.070-0.489 0.052-0.734-0.052-0.192-0.070-0.371-0.231-0.537-0.485s-0.314-0.533-0.445-0.838c-0.131-0.306-0.231-0.62-0.301-0.943s-0.087-0.59-0.052-0.799c0.052-0.384 0.227-0.629 0.524-0.734 0.524-0.21 0.995-0.555 1.415-1.035s0.629-1.017 0.629-1.611c0-0.611-0.21-1.144-0.629-1.598s-0.891-0.786-1.415-0.996c-0.157-0.052-0.288-0.179-0.393-0.38s-0.157-0.406-0.157-0.616c0-0.227 0.035-0.48 0.105-0.76s0.162-0.55 0.275-0.812 0.244-0.502 0.393-0.72c0.148-0.218 0.31-0.38 0.485-0.485 0.14-0.087 0.275-0.122 0.406-0.105s0.275 0.052 0.432 0.105c0.524 0.21 1.070 0.275 1.637 0.197s1.070-0.327 1.506-0.747c0.21-0.209 0.362-0.467 0.458-0.773s0.157-0.607 0.183-0.904c0.026-0.297 0.026-0.568 0-0.812s-0.048-0.419-0.065-0.524c-0.035-0.105-0.066-0.227-0.092-0.367s-0.013-0.262 0.039-0.367c0.105-0.244 0.293-0.458 0.563-0.642s0.563-0.336 0.878-0.458c0.314-0.122 0.62-0.214 0.917-0.275s0.533-0.092 0.707-0.092c0.227 0 0.406 0.074 0.537 0.223s0.223 0.301 0.275 0.458c0.192 0.471 0.507 0.886 0.943 1.244s0.952 0.537 1.546 0.537c0.611 0 1.153-0.17 1.624-0.511s0.803-0.773 0.996-1.297c0.070-0.14 0.179-0.284 0.327-0.432s0.301-0.223 0.458-0.223c0.244 0 0.511 0.035 0.799 0.105s0.572 0.166 0.851 0.288c0.279 0.122 0.537 0.279 0.773 0.472s0.423 0.402 0.563 0.629c0.087 0.14 0.113 0.293 0.079 0.458s-0.070 0.284-0.105 0.354c-0.227 0.506-0.297 1.039-0.21 1.598s0.341 1.048 0.76 1.467c0.419 0.419 0.934 0.651 1.546 0.694s1.179-0.057 1.703-0.301c0.14-0.087 0.31-0.122 0.511-0.105s0.371 0.096 0.511 0.236c0.262 0.244 0.493 0.616 0.694 1.113s0.336 1 0.406 1.506c0.035 0.297-0.013 0.528-0.144 0.694s-0.266 0.275-0.406 0.327c-0.542 0.192-1.004 0.528-1.388 1.009s-0.576 1.026-0.576 1.637c0 0.594 0.162 1.113 0.485 1.559s0.747 0.764 1.27 0.956c0.122 0.070 0.227 0.14 0.314 0.21 0.192 0.157 0.323 0.358 0.393 0.602v0zM16.451 19.462c0.786 0 1.528-0.149 2.227-0.445s1.305-0.707 1.821-1.231c0.515-0.524 0.921-1.131 1.218-1.821s0.445-1.428 0.445-2.214c0-0.786-0.148-1.524-0.445-2.214s-0.703-1.292-1.218-1.808c-0.515-0.515-1.122-0.921-1.821-1.218s-1.441-0.445-2.227-0.445c-0.786 0-1.524 0.148-2.214 0.445s-1.292 0.703-1.808 1.218c-0.515 0.515-0.921 1.118-1.218 1.808s-0.445 1.428-0.445 2.214c0 0.786 0.149 1.524 0.445 2.214s0.703 1.297 1.218 1.821c0.515 0.524 1.118 0.934 1.808 1.231s1.428 0.445 2.214 0.445v0z"],right:["0 0 32 32","M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"],comment:["0 0 32 32","M27.128 0.38h-22.553c-2.336 0-4.229 1.825-4.229 4.076v16.273c0 2.251 1.893 4.076 4.229 4.076h4.229v-2.685h8.403l-8.784 8.072 1.566 1.44 7.429-6.827h9.71c2.335 0 4.229-1.825 4.229-4.076v-16.273c0-2.252-1.894-4.076-4.229-4.076zM28.538 19.403c0 1.5-1.262 2.717-2.819 2.717h-8.36l-0.076-0.070-0.076 0.070h-11.223c-1.557 0-2.819-1.217-2.819-2.717v-13.589c0-1.501 1.262-2.718 2.819-2.718h19.734c1.557 0 2.819-0.141 2.819 1.359v14.947zM9.206 10.557c-1.222 0-2.215 0.911-2.215 2.036s0.992 2.035 2.215 2.035c1.224 0 2.216-0.911 2.216-2.035s-0.992-2.036-2.216-2.036zM22.496 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.224 0 2.215-0.911 2.215-2.035s-0.991-2.036-2.215-2.036zM15.852 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.222 0 2.215-0.911 2.215-2.035s-0.992-2.036-2.215-2.036z"],"comment-off":["0 0 32 32","M27.090 0.131h-22.731c-2.354 0-4.262 1.839-4.262 4.109v16.401c0 2.269 1.908 4.109 4.262 4.109h4.262v-2.706h8.469l-8.853 8.135 1.579 1.451 7.487-6.88h9.787c2.353 0 4.262-1.84 4.262-4.109v-16.401c0-2.27-1.909-4.109-4.262-4.109v0zM28.511 19.304c0 1.512-1.272 2.738-2.841 2.738h-8.425l-0.076-0.070-0.076 0.070h-11.311c-1.569 0-2.841-1.226-2.841-2.738v-13.696c0-1.513 1.272-2.739 2.841-2.739h19.889c1.569 0 2.841-0.142 2.841 1.37v15.064z"],send:["0 0 32 32","M13.725 30l3.9-5.325-3.9-1.125v6.45zM0 17.5l11.050 3.35 13.6-11.55-10.55 12.425 11.8 3.65 6.1-23.375-32 15.5z"],pallette:["0 0 32 32","M19.357 2.88c1.749 0 3.366 0.316 4.851 0.946 1.485 0.632 2.768 1.474 3.845 2.533s1.922 2.279 2.532 3.661c0.611 1.383 0.915 2.829 0.915 4.334 0 1.425-0.304 2.847-0.915 4.271-0.611 1.425-1.587 2.767-2.928 4.028-0.855 0.813-1.811 1.607-2.869 2.38s-2.136 1.465-3.233 2.075c-1.099 0.61-2.198 1.098-3.296 1.465-1.098 0.366-2.115 0.549-3.051 0.549-1.343 0-2.441-0.438-3.296-1.311-0.854-0.876-1.281-2.41-1.281-4.608 0-0.366 0.020-0.773 0.060-1.221s0.062-0.895 0.062-1.343c0-0.773-0.183-1.353-0.55-1.738-0.366-0.387-0.793-0.58-1.281-0.58-0.652 0-1.21 0.295-1.678 0.886s-0.926 1.23-1.373 1.921c-0.447 0.693-0.905 1.334-1.372 1.923s-1.028 0.886-1.679 0.886c-0.529 0-1.048-0.427-1.556-1.282s-0.763-2.259-0.763-4.212c0-2.197 0.529-4.241 1.587-6.133s2.462-3.529 4.21-4.912c1.75-1.383 3.762-2.471 6.041-3.264 2.277-0.796 4.617-1.212 7.018-1.253zM7.334 15.817c0.569 0 1.047-0.204 1.434-0.611s0.579-0.875 0.579-1.404c0-0.569-0.193-1.047-0.579-1.434s-0.864-0.579-1.434-0.579c-0.529 0-0.987 0.193-1.373 0.579s-0.58 0.864-0.58 1.434c0 0.53 0.194 0.998 0.58 1.404 0.388 0.407 0.845 0.611 1.373 0.611zM12.216 11.79c0.691 0 1.292-0.254 1.8-0.763s0.762-1.107 0.762-1.8c0-0.732-0.255-1.343-0.762-1.831-0.509-0.489-1.109-0.732-1.8-0.732-0.732 0-1.342 0.244-1.831 0.732-0.488 0.488-0.732 1.098-0.732 1.831 0 0.693 0.244 1.292 0.732 1.8s1.099 0.763 1.831 0.763zM16.366 25.947c0.692 0 1.282-0.214 1.77-0.64s0.732-0.987 0.732-1.678-0.244-1.261-0.732-1.709c-0.489-0.448-1.078-0.671-1.77-0.671-0.65 0-1.21 0.223-1.678 0.671s-0.702 1.018-0.702 1.709c0 0.692 0.234 1.25 0.702 1.678s1.027 0.64 1.678 0.64zM19.113 9.592c0.651 0 1.129-0.203 1.433-0.611 0.305-0.406 0.459-0.874 0.459-1.404 0-0.488-0.154-0.947-0.459-1.373-0.304-0.427-0.782-0.641-1.433-0.641-0.529 0-1.008 0.193-1.434 0.58s-0.64 0.865-0.64 1.434c0 0.571 0.213 1.049 0.64 1.434 0.427 0.389 0.905 0.581 1.434 0.581zM24.848 12.826c0.57 0 1.067-0.213 1.495-0.64 0.427-0.427 0.64-0.947 0.64-1.556 0-0.57-0.214-1.068-0.64-1.495-0.428-0.427-0.927-0.64-1.495-0.64-0.611 0-1.129 0.213-1.555 0.64-0.428 0.427-0.642 0.926-0.642 1.495 0 0.611 0.213 1.129 0.642 1.556s0.947 0.64 1.555 0.64z"],camera:["0 0 32 32","M16 23c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6zM16 13c-2.206 0-4 1.794-4 4s1.794 4 4 4c2.206 0 4-1.794 4-4s-1.794-4-4-4zM27 28h-22c-1.654 0-3-1.346-3-3v-16c0-1.654 1.346-3 3-3h3c0.552 0 1 0.448 1 1s-0.448 1-1 1h-3c-0.551 0-1 0.449-1 1v16c0 0.552 0.449 1 1 1h22c0.552 0 1-0.448 1-1v-16c0-0.551-0.448-1-1-1h-11c-0.552 0-1-0.448-1-1s0.448-1 1-1h11c1.654 0 3 1.346 3 3v16c0 1.654-1.346 3-3 3zM24 10.5c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5zM15 4c0 0.552-0.448 1-1 1h-4c-0.552 0-1-0.448-1-1v0c0-0.552 0.448-1 1-1h4c0.552 0 1 0.448 1 1v0z"],subtitle:["0 0 32 32","M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z"]},iconsColor:"#ffffff",contextmenu:[],mutex:!0};for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n]);return e.video&&!e.video.type&&(e.video.type="auto"),"object"===a(e.danmaku)&&e.danmaku&&!e.danmaku.user&&(e.danmaku.user="DIYgod"),e.subtitle&&(!e.subtitle.type&&(e.subtitle.type="webvtt"),!e.subtitle.fontSize&&(e.subtitle.fontSize="20px"),!e.subtitle.bottom&&(e.subtitle.bottom="40px"),!e.subtitle.color&&(e.subtitle.color="#fff")),e.video.quality&&(e.video.url=[e.video.quality[e.video.defaultQuality].url]),e.lang&&(e.lang=e.lang.toLowerCase()),e.icons&&(e.icons=(0,s.default)({},t.icons,e.icons)),e.contextmenu=e.contextmenu.concat([{text:"About author",link:"https://diygod.me"},{text:"About DPlayer",link:"https://github.com/MoePlayer/DPlayer"},{text:"DPlayer feedback",link:"https://github.com/DIYgod/DPlayer/issues"},{text:"DPlayer 1.21.0 8e69ada",link:"https://github.com/MoePlayer/DPlayer/releases"}]),e}},function(e,t,n){"use strict";function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,l=i(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var u in n)o.call(n,u)&&(l[u]=n[u]);if(a){r=a(n);for(var d=0;d<r.length;d++)s.call(n,r[d])&&(l[r[d]]=n[r[d]])}}return l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,n,i,a){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState){if(o.status>=200&&o.status<300||304===o.status){var e=JSON.parse(o.responseText);return 0!==e.code?i(o,e):n(o,e)}a(o)}},o.open(null!==t?"POST":"GET",e,!0),o.send(null!==t?JSON.stringify(t):null)};t.default={send:function(e,t,n){i(e,t,function(e,t){console.log("Post danmaku: ",t),n&&n()},function(e,t){alert(t.msg)},function(e){console.log("Request was unsuccessful: "+e.status)})},read:function(e,t){i(e,null,function(e,n){t(null,n.danmaku)},function(e,n){t({status:e.status,response:n})},function(e){t({status:e.status,response:null})})}}},function(e,t,n){"use strict";function i(e){var t=this;this.lang=e,this.tran=function(e){return a[t.lang]&&a[t.lang][e]?a[t.lang][e]:e}}Object.defineProperty(t,"__esModule",{value:!0});var a={"zh-cn":{"Danmaku is loading":"\u5f39\u5e55\u52a0\u8f7d\u4e2d",Top:"\u9876\u90e8",Bottom:"\u5e95\u90e8",Rolling:"\u6eda\u52a8","Input danmaku, hit Enter":"\u8f93\u5165\u5f39\u5e55\uff0c\u56de\u8f66\u53d1\u9001","About author":"\u5173\u4e8e\u4f5c\u8005","DPlayer feedback":"\u64ad\u653e\u5668\u610f\u89c1\u53cd\u9988","About DPlayer":"\u5173\u4e8e DPlayer \u64ad\u653e\u5668",Loop:"\u6d17\u8111\u5faa\u73af",Speed:"\u901f\u5ea6","Opacity for danmaku":"\u5f39\u5e55\u900f\u660e\u5ea6",Normal:"\u6b63\u5e38","Please input danmaku content!":"\u8981\u8f93\u5165\u5f39\u5e55\u5185\u5bb9\u554a\u5582\uff01","Set danmaku color":"\u8bbe\u7f6e\u5f39\u5e55\u989c\u8272","Set danmaku type":"\u8bbe\u7f6e\u5f39\u5e55\u7c7b\u578b","Show danmaku":"\u663e\u793a\u5f39\u5e55","This video fails to load":"\u89c6\u9891\u52a0\u8f7d\u5931\u8d25","Switching to":"\u6b63\u5728\u5207\u6362\u81f3","Switched to":"\u5df2\u7ecf\u5207\u6362\u81f3",quality:"\u753b\u8d28",FF:"\u5feb\u8fdb",REW:"\u5feb\u9000","Unlimited danmaku":"\u6d77\u91cf\u5f39\u5e55","Send danmaku":"\u53d1\u9001\u5f39\u5e55",Setting:"\u8bbe\u7f6e","Full screen":"\u5168\u5c4f","Web full screen":"\u9875\u9762\u5168\u5c4f",Send:"\u53d1\u9001",Screenshot:"\u622a\u56fe",s:"\u79d2","Show subtitle":"\u663e\u793a\u5b57\u5e55","Hide subtitle":"\u9690\u85cf\u5b57\u5e55",Volume:"\u97f3\u91cf",Live:"\u76f4\u64ad"},"zh-tw":{"Danmaku is loading":"\u5f48\u5e55\u52a0\u8f09\u4e2d",Top:"\u9802\u90e8",Bottom:"\u5e95\u90e8",Rolling:"\u6efe\u52d5","Input danmaku, hit Enter":"\u8f38\u5165\u5f48\u5e55\uff0cEnter \u767c\u9001","About author":"\u95dc\u65bc\u4f5c\u8005","DPlayer feedback":"\u64ad\u653e\u5668\u610f\u898b\u53cd\u994b","About DPlayer":"\u95dc\u65bc DPlayer \u64ad\u653e\u5668",Loop:"\u5faa\u74b0\u64ad\u653e",Speed:"\u901f\u5ea6","Opacity for danmaku":"\u5f48\u5e55\u900f\u660e\u5ea6",Normal:"\u6b63\u5e38","Please input danmaku content!":"\u8acb\u8f38\u5165\u5f48\u5e55\u5185\u5bb9\u554a\uff01","Set danmaku color":"\u8a2d\u7f6e\u5f48\u5e55\u984f\u8272","Set danmaku type":"\u8a2d\u7f6e\u5f48\u5e55\u985e\u578b","Show danmaku":"\u986f\u793a\u5f48\u5e55","This video fails to load":"\u8996\u983b\u52a0\u8f09\u5931\u6557","Switching to":"\u6b63\u5728\u5207\u63db\u81f3","Switched to":"\u5df2\u7d93\u5207\u63db\u81f3",quality:"\u756b\u8cea",FF:"\u5feb\u9032",REW:"\u5feb\u9000","Unlimited danmaku":"\u6d77\u91cf\u5f48\u5e55","Send danmaku":"\u767c\u9001\u5f48\u5e55",Setting:"\u8a2d\u7f6e","Full screen":"\u5168\u5c4f","Web full screen":"\u9801\u9762\u5168\u5c4f",Send:"\u767c\u9001",Screenshot:"\u622a\u5716",s:"\u79d2","Show subtitle":"\u986f\u793a\u5b57\u5e55","Hide subtitle":"\u96b1\u85cf\u5b57\u5e55",Volume:"\u97f3\u91cf",Live:"\u76f4\u64ad"}};t.default=i},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.container=t.container,this.options=t.options,this.index=t.index,this.tran=t.tran,this.icons=t.icons,this.init()}return a(e,[{key:"init",value:function(){this.container.innerHTML=this.tpl(this.options,this.index,this.tran,this.icons),this.volumeBar=this.container.querySelector(".dplayer-volume-bar-inner"),this.volumeBarWrap=this.container.querySelector(".dplayer-volume-bar"),this.volumeBarWrapWrap=this.container.querySelector(".dplayer-volume-bar-wrap"),this.volumeButton=this.container.querySelector(".dplayer-volume"),this.volumeIcon=this.container.querySelector(".dplayer-volume-icon .dplayer-icon-content"),this.playedBar=this.container.querySelector(".dplayer-played"),this.loadedBar=this.container.querySelector(".dplayer-loaded"),this.playedBarWrap=this.container.querySelector(".dplayer-bar-wrap"),this.playedBarTime=this.container.querySelector(".dplayer-bar-time"),this.danmaku=this.container.querySelector(".dplayer-danmaku"),this.danmakuLoading=this.container.querySelector(".dplayer-danloading"),this.video=this.container.querySelector(".dplayer-video-current"),this.bezel=this.container.querySelector(".dplayer-bezel-icon"),this.playButton=this.container.querySelector(".dplayer-play-icon"),this.videoWrap=this.container.querySelector(".dplayer-video-wrap"),this.controllerMask=this.container.querySelector(".dplayer-controller-mask"),this.ptime=this.container.querySelector(".dplayer-ptime"),this.settingButton=this.container.querySelector(".dplayer-setting-icon"),this.settingBox=this.container.querySelector(".dplayer-setting-box"),this.mask=this.container.querySelector(".dplayer-mask"),this.loop=this.container.querySelector(".dplayer-setting-loop"),this.loopToggle=this.container.querySelector(".dplayer-setting-loop .dplayer-toggle-setting-input"),this.showDanmaku=this.container.querySelector(".dplayer-setting-showdan"),this.showDanmakuToggle=this.container.querySelector(".dplayer-showdan-setting-input"),this.unlimitDanmaku=this.container.querySelector(".dplayer-setting-danunlimit"),this.unlimitDanmakuToggle=this.container.querySelector(".dplayer-danunlimit-setting-input"),this.speed=this.container.querySelector(".dplayer-setting-speed"),this.speedItem=this.container.querySelectorAll(".dplayer-setting-speed-item"),this.danmakuOpacityBar=this.container.querySelector(".dplayer-danmaku-bar-inner"),this.danmakuOpacityBarWrap=this.container.querySelector(".dplayer-danmaku-bar"),this.danmakuOpacityBarWrapWrap=this.container.querySelector(".dplayer-danmaku-bar-wrap"),this.danmakuOpacityBox=this.container.querySelector(".dplayer-setting-danmaku"),this.dtime=this.container.querySelector(".dplayer-dtime"),this.controller=this.container.querySelector(".dplayer-controller"),this.commentInput=this.container.querySelector(".dplayer-comment-input"),this.commentButton=this.container.querySelector(".dplayer-comment-icon"),this.commentSettingBox=this.container.querySelector(".dplayer-comment-setting-box"),this.commentSettingButton=this.container.querySelector(".dplayer-comment-setting-icon"),this.commentSettingFill=this.container.querySelector(".dplayer-comment-setting-icon .dplayer-fill"),this.commentSendButton=this.container.querySelector(".dplayer-send-icon"),this.commentSendFill=this.container.querySelector(".dplayer-send-icon .dplayer-fill"),this.commentColorSettingBox=this.container.querySelector(".dplayer-comment-setting-color"),this.browserFullButton=this.container.querySelector(".dplayer-full-icon"),this.webFullButton=this.container.querySelector(".dplayer-full-in-icon"),this.menu=this.container.querySelector(".dplayer-menu"),this.qualityList=this.container.querySelector(".dplayer-quality-list"),this.camareButton=this.container.querySelector(".dplayer-camera-icon"),this.subtitleButton=this.container.querySelector(".dplayer-subtitle-icon"),this.subtitleButtonInner=this.container.querySelector(".dplayer-subtitle-icon .dplayer-icon-content"),this.subtitle=this.container.querySelector(".dplayer-subtitle"),this.qualityButton=this.container.querySelector(".dplayer-quality-icon"),this.barPreview=this.container.querySelector(".dplayer-bar-preview"),this.barWrap=this.container.querySelector(".dplayer-bar-wrap"),this.notice=this.container.querySelector(".dplayer-notice")}},{key:"tpl",value:function(e,t,n,i){return'<div class="dplayer-mask"></div><div class="dplayer-video-wrap">'+this.tplVideo(!0,e.video.pic,e.screenshot,e.preload,e.video.url,e.subtitle)+(e.logo?'<div class="dplayer-logo"><img src="'+e.logo+'"></div>':"")+'<div class="dplayer-danmaku" style="'+(e.danmaku?this.tplDanmakumargin(e.danmaku.margin):"")+'"><div class="dplayer-danmaku-item dplayer-danmaku-item--demo"></div></div><div class="dplayer-subtitle"></div><div class="dplayer-bezel"><span class="dplayer-bezel-icon"></span>'+(e.danmaku?'<span class="dplayer-danloading">'+n("Danmaku is loading")+"</span>":"")+'<span class="diplayer-loading-icon"><svg height="100%" version="1.1" viewBox="0 0 22 22" width="100%"><svg x="7" y="1"><circle class="diplayer-loading-dot diplayer-loading-dot-0" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-1" cx="4" cy="4" r="2"></circle></svg><svg x="13" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-2" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-3" cx="4" cy="4" r="2"></circle></svg><svg x="7" y="13"><circle class="diplayer-loading-dot diplayer-loading-dot-4" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-5" cx="4" cy="4" r="2"></circle></svg><svg x="1" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-6" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-7" cx="4" cy="4" r="2"></circle></svg></svg></span></div></div><div class="dplayer-controller-mask"></div><div class="dplayer-controller"><div class="dplayer-icons dplayer-comment-box"><button class="dplayer-icon dplayer-comment-setting-icon" data-balloon="'+n("Setting")+'" data-balloon-pos="up"><span class="dplayer-icon-content">'+i.get("pallette")+'</span></button><div class="dplayer-comment-setting-box"><div class="dplayer-comment-setting-color"><div class="dplayer-comment-setting-title">'+n("Set danmaku color")+'</div><label><input type="radio" name="dplayer-danmaku-color-'+t+'" value="#fff" checked><span style="background: #fff;"></span></label><label><input type="radio" name="dplayer-danmaku-color-'+t+'" value="#e54256"><span style="background: #e54256"></span></label><label><input type="radio" name="dplayer-danmaku-color-'+t+'" value="#ffe133"><span style="background: #ffe133"></span></label><label><input type="radio" name="dplayer-danmaku-color-'+t+'" value="#64DD17"><span style="background: #64DD17"></span></label><label><input type="radio" name="dplayer-danmaku-color-'+t+'" value="#39ccff"><span style="background: #39ccff"></span></label><label><input type="radio" name="dplayer-danmaku-color-'+t+'" value="#D500F9"><span style="background: #D500F9"></span></label></div><div class="dplayer-comment-setting-type"><div class="dplayer-comment-setting-title">'+n("Set danmaku type")+'</div><label><input type="radio" name="dplayer-danmaku-type-'+t+'" value="top"><span>'+n("Top")+'</span></label><label><input type="radio" name="dplayer-danmaku-type-'+t+'" value="right" checked><span>'+n("Rolling")+'</span></label><label><input type="radio" name="dplayer-danmaku-type-'+t+'" value="bottom"><span>'+n("Bottom")+'</span></label></div></div><input class="dplayer-comment-input" type="text" placeholder="'+n("Input danmaku, hit Enter")+'" maxlength="30"><button class="dplayer-icon dplayer-send-icon" data-balloon="'+n("Send")+'" data-balloon-pos="up"><span class="dplayer-icon-content">'+i.get("send")+'</span></button></div><div class="dplayer-icons dplayer-icons-left"><button class="dplayer-icon dplayer-play-icon"><span class="dplayer-icon-content">'+i.get("play")+'</span></button><div class="dplayer-volume"><button class="dplayer-icon dplayer-volume-icon"><span class="dplayer-icon-content">'+i.get("volume-down")+'</span></button><div class="dplayer-volume-bar-wrap" data-balloon-pos="up"><div class="dplayer-volume-bar"><div class="dplayer-volume-bar-inner" style="background: '+e.theme+';"><span class="dplayer-thumb" style="background: '+e.theme+'"></span></div></div></div></div><span class="dplayer-time"><span class="dplayer-ptime">0:00</span> / <span class="dplayer-dtime">0:00</span></span>'+(e.live?'<span class="dplayer-live-badge"><span class="dplayer-live-dot" style="background: '+e.theme+';"></span>'+n("Live")+"</span>":"")+'</div><div class="dplayer-icons dplayer-icons-right">'+(e.video.quality?'<div class="dplayer-quality"><button class="dplayer-icon dplayer-quality-icon">'+e.video.quality[e.video.defaultQuality].name+'</button><div class="dplayer-quality-mask">'+this.tplQualityList(e.video.quality)+"</div></div>":"")+(e.screenshot?'<a href="#" class="dplayer-icon dplayer-camera-icon" data-balloon="'+n("Screenshot")+'" data-balloon-pos="up"><span class="dplayer-icon-content">'+i.get("camera")+"</span></a>":"")+'<div class="dplayer-comment"><button class="dplayer-icon dplayer-comment-icon" data-balloon="'+n("Send danmaku")+'" data-balloon-pos="up"><span class="dplayer-icon-content">'+i.get("comment")+"</span></button></div>"+(e.subtitle?'<div class="dplayer-subtitle-btn"><button class="dplayer-icon dplayer-subtitle-icon" data-balloon="'+n("Hide subtitle")+'" data-balloon-pos="up"><span class="dplayer-icon-content">'+i.get("subtitle")+"</span></button></div>":"")+'<div class="dplayer-setting"><button class="dplayer-icon dplayer-setting-icon" data-balloon="'+n("Setting")+'" data-balloon-pos="up"><span class="dplayer-icon-content">'+i.get("setting")+'</span></button><div class="dplayer-setting-box"><div class="dplayer-setting-origin-panel"><div class="dplayer-setting-item dplayer-setting-speed"><span class="dplayer-label">'+n("Speed")+'</span><div class="dplayer-toggle">'+i.get("right")+'</div></div><div class="dplayer-setting-item dplayer-setting-loop"><span class="dplayer-label">'+n("Loop")+'</span><div class="dplayer-toggle"><input class="dplayer-toggle-setting-input" type="checkbox" name="dplayer-toggle"><label for="dplayer-toggle"></label></div></div><div class="dplayer-setting-item dplayer-setting-showdan"><span class="dplayer-label">'+n("Show danmaku")+'</span><div class="dplayer-toggle"><input class="dplayer-showdan-setting-input" type="checkbox" name="dplayer-toggle-dan"><label for="dplayer-toggle-dan"></label></div></div><div class="dplayer-setting-item dplayer-setting-danunlimit"><span class="dplayer-label">'+n("Unlimited danmaku")+'</span><div class="dplayer-toggle"><input class="dplayer-danunlimit-setting-input" type="checkbox" name="dplayer-toggle-danunlimit"><label for="dplayer-toggle-danunlimit"></label></div></div><div class="dplayer-setting-item dplayer-setting-danmaku"><span class="dplayer-label">'+n("Opacity for danmaku")+'</span><div class="dplayer-danmaku-bar-wrap"><div class="dplayer-danmaku-bar"><div class="dplayer-danmaku-bar-inner"><span class="dplayer-thumb"></span></div></div></div></div></div><div class="dplayer-setting-speed-panel"><div class="dplayer-setting-speed-item" data-speed="0.5"><span class="dplayer-label">0.5</span></div><div class="dplayer-setting-speed-item" data-speed="0.75"><span class="dplayer-label">0.75</span></div><div class="dplayer-setting-speed-item" data-speed="1"><span class="dplayer-label">'+n("Normal")+'</span></div><div class="dplayer-setting-speed-item" data-speed="1.25"><span class="dplayer-label">1.25</span></div><div class="dplayer-setting-speed-item" data-speed="1.5"><span class="dplayer-label">1.5</span></div><div class="dplayer-setting-speed-item" data-speed="2"><span class="dplayer-label">2</span></div></div></div></div><div class="dplayer-full"><button class="dplayer-icon dplayer-full-in-icon" data-balloon="'+n("Web full screen")+'" data-balloon-pos="up"><span class="dplayer-icon-content">'+i.get("full-in")+'</span></button><button class="dplayer-icon dplayer-full-icon" data-balloon="'+n("Full screen")+'" data-balloon-pos="up"><span class="dplayer-icon-content">'+i.get("full")+'</span></button></div></div><div class="dplayer-bar-wrap"><div class="dplayer-bar-time hidden">00:00</div><div class="dplayer-bar-preview"></div><div class="dplayer-bar"><div class="dplayer-loaded" style="width: 0;"></div><div class="dplayer-played" style="width: 0; background: '+e.theme+'"><span class="dplayer-thumb" style="background: '+e.theme+'"></span></div></div></div></div>'+this.tplContextmenuList(e.contextmenu,n)+'<div class="dplayer-notice"></div>'}},{key:"tplDanmakumargin",value:function(e){var t="";if(e)for(var n in e)t+=n+":"+e[n]+";";return t}},{key:"tplContextmenuList",value:function(e,t){for(var n='<div class="dplayer-menu">',i=0;i<e.length;i++)n+='<div class="dplayer-menu-item"><a target="_blank" href="'+e[i].link+'">'+t(e[i].text)+"</a></div>";return n+="</div>"}},{key:"tplQualityList",value:function(e){for(var t='<div class="dplayer-quality-list">',n=0;n<e.length;n++)t+='<div class="dplayer-quality-item" data-index="'+n+'">'+e[n].name+"</div>";return t+="</div>"}},{key:"tplVideo",value:function(e,t,n,i,a,o){var s=o&&"webvtt"===o.type;return'<video class="dplayer-video '+(e?'dplayer-video-current"':"")+'" '+(t?'poster="'+t+'"':"")+" webkit-playsinline playsinline "+(n||s?'crossorigin="anonymous"':"")+" "+(i?'preload="'+i+'"':"")+' src="'+a+'">'+(s?'<track kind="metadata" default src="'+o.url+'"></track>':"")+"</video>"}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.icons=t.icons,this.iconColor=t.iconsColor}return a(e,[{key:"get",value:function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+(this.icons[e][2]||"100%")+'" height="'+(this.icons[e][2]||"100%")+'" version="1.1" viewBox="'+this.icons[e][0]+'"><path class="dplayer-fill" style="fill:'+this.iconColor+'" d="'+this.icons[e][1]+'" id="dplayer-'+e+'"></path></svg>'}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t){i(this,e),this.options=t,this.container=this.options.container,this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.dan=[],this.showing=!0,this._opacity=this.options.opacity,this.events=this.options.events,this.unlimited=this.options.unlimited,this._measure(""),this.load()}return o(e,[{key:"load",value:function(){var e=this,t=void 0;t=this.options.api.maximum?this.options.api.address+"v2/?id="+this.options.api.id+"&max="+this.options.api.maximum:this.options.api.address+"v2/?id="+this.options.api.id;var n=(this.options.api.addition||[]).slice(0);n.push(t),this.events&&this.events.trigger("danmaku_load_start",n),this._readAllEndpoints(n,function(t){e.dan=[].concat.apply([],t).sort(function(e,t){return e.time-t.time}),window.requestAnimationFrame(function(){e.frame()}),e.options.callback(),e.events&&e.events.trigger("danmaku_load_end")})}},{key:"reload",value:function(e){this.options.api=e,this.dan=[],this.clear(),this.load()}},{key:"_readAllEndpoints",value:function(e,t){for(var n=this,i=[],a=0,o=0;o<e.length;++o)this.options.apiBackend.read(e[o],function(o){return function(s,r){if(++a,s)s.response?n.options.error(s.response.msg):n.options.error("Request was unsuccessful: "+s.status),i[o]=[];else{var l=["right","top","bottom"];i[o]=r?r.map(function(e){return{time:e[0],type:l[e[1]],color:e[2],author:e[3],text:e[4]}}):[]}if(a===e.length)return t(i)}}(o))}},{key:"send",value:function(e,t){var n={token:this.options.api.token,player:this.options.api.id,author:this.options.api.user,time:this.options.time(),text:e.text,color:e.color,type:e.type};this.options.apiBackend.send(this.options.api.address+"v2/",n,t),this.dan.splice(this.danIndex,0,n),this.danIndex++;var i={text:this.htmlEncode(n.text),color:n.color,type:n.type,border:"2px solid "+this.options.borderColor};this.draw(i),this.events&&this.events.trigger("danmaku_send",n)}},{key:"frame",value:function(){var e=this;if(this.dan.length&&!this.paused&&this.showing){for(var t=this.dan[this.danIndex],n=[];t&&this.options.time()>parseFloat(t.time);)n.push(t),t=this.dan[++this.danIndex];this.draw(n)}window.requestAnimationFrame(function(){e.frame()})}},{key:"opacity",value:function(e){if(void 0!==e){for(var t=this.container.getElementsByClassName("dplayer-danmaku-item"),n=0;n<t.length;n++)t[n].style.opacity=e;this._opacity=e,this.events&&this.events.trigger("danmaku_opacity",this._opacity)}return this._opacity}},{key:"draw",value:function(e){var t=this;if(this.showing){var n=this.options.height,i=this.container.offsetWidth,o=this.container.offsetHeight,s=parseInt(o/n),r=function(e){var n=e.offsetWidth||parseInt(e.style.width),i=e.getBoundingClientRect().right||t.container.getBoundingClientRect().right+n;return t.container.getBoundingClientRect().right-i},l=function(e){return(i+e)/5},c=function(e,n,o){for(var c=i/l(o),u=0;t.unlimited||u<s;u++){var d=function(a){var o=t.danTunnel[n][a+""];if(!o||!o.length)return t.danTunnel[n][a+""]=[e],e.addEventListener("animationend",function(){t.danTunnel[n][a+""].splice(0,1)}),{v:a%s};if("right"!==n)return"continue";for(var u=0;u<o.length;u++){var d=r(o[u])-10;if(d<=i-c*l(parseInt(o[u].style.width))||d<=0)break;if(u===o.length-1)return t.danTunnel[n][a+""].push(e),e.addEventListener("animationend",function(){t.danTunnel[n][a+""].splice(0,1)}),{v:a%s}}}(u);switch(d){case"continue":continue;default:if("object"===(void 0===d?"undefined":a(d)))return d.v}}return-1};"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]);for(var u=document.createDocumentFragment(),d=0;d<e.length;d++)!function(a){e[a].type||(e[a].type="right"),e[a].color||(e[a].color="#fff");var o=document.createElement("div");o.classList.add("dplayer-danmaku-item"),o.classList.add("dplayer-danmaku-"+e[a].type),e[a].border?o.innerHTML='<span style="border:'+e[a].border+'">'+e[a].text+"</span>":o.innerHTML=e[a].text,o.style.opacity=t._opacity,o.style.color=e[a].color,o.addEventListener("animationend",function(){t.container.removeChild(o)});var s=t._measure(e[a].text),r=void 0;switch(e[a].type){case"right":r=c(o,e[a].type,s),r>=0&&(o.style.width=s+1+"px",o.style.top=n*r+"px",o.style.transform="translateX(-"+i+"px)");break;case"top":r=c(o,e[a].type),r>=0&&(o.style.top=n*r+"px");break;case"bottom":r=c(o,e[a].type),r>=0&&(o.style.bottom=n*r+"px");break;default:console.error("Can't handled danmaku type: "+e[a].type)}r>=0&&(o.classList.add("dplayer-danmaku-move"),u.appendChild(o))}(d);return this.container.appendChild(u),u}}},{key:"play",value:function(){this.paused=!1}},{key:"pause",value:function(){this.paused=!0}},{key:"_measure",value:function(e){if(!this.context){var t=getComputedStyle(this.container.getElementsByClassName("dplayer-danmaku-item")[0],null);this.context=document.createElement("canvas").getContext("2d"),this.context.font=t.getPropertyValue("font")}return this.context.measureText(e).width}},{key:"seek",value:function(){this.clear();for(var e=0;e<this.dan.length;e++){if(this.dan[e].time>=this.options.time()){this.danIndex=e;break}this.danIndex=this.dan.length}}},{key:"clear",value:function(){this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.options.container.innerHTML="",this.events&&this.events.trigger("danmaku_clear")}},{key:"htmlEncode",value:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2f;")}},{key:"resize",value:function(){for(var e=this.container.offsetWidth,t=this.container.getElementsByClassName("dplayer-danmaku-item"),n=0;n<t.length;n++)t[n].style.transform="translateX(-"+e+"px)"}},{key:"hide",value:function(){this.showing=!1,this.pause(),this.clear(),this.events&&this.events.trigger("danmaku_hide")}},{key:"show",value:function(){this.seek(),this.showing=!0,this.play(),this.events&&this.events.trigger("danmaku_show")}},{key:"unlimit",value:function(e){this.unlimited=e}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e),this.events={},this.videoEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["screenshot","thumbnails_show","thumbnails_hide","danmaku_show","danmaku_hide","danmaku_clear","danmaku_loaded","danmaku_send","danmaku_opacity","contextmenu_show","contextmenu_hide","notice_show","notice_hide","quality_start","quality_end","destroy","resize","fullscreen","fullscreen_cancel","webfullscreen","webfullscreen_cancel","subtitle_show","subtitle_hide","subtitle_change"]}return a(e,[{key:"on",value:function(e,t){this.type(e)&&"function"==typeof t&&(this.events[e]||(this.events[e]=[]),this.events[e].push(t))}},{key:"trigger",value:function(e,t){if(this.events[e]&&this.events[e].length)for(var n=0;n<this.events[e].length;n++)this.events[e][n](t)}},{key:"type",value:function(e){return-1!==this.playerEvents.indexOf(e)?"player":-1!==this.videoEvents.indexOf(e)?"video":(console.error("Unknown event name: "+e),null)}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(){function e(t){var n=this;i(this,e),this.player=t,this.player.events.on("webfullscreen",function(){n.player.resize()}),this.player.events.on("webfullscreen_cancel",function(){n.player.resize(),s.default.setScrollPosition(n.lastScrollPosition)});var a=function(){n.player.resize(),n.isFullScreen("browser")?n.player.events.trigger("fullscreen"):(s.default.setScrollPosition(n.lastScrollPosition),n.player.events.trigger("fullscreen_cancel"))};this.player.container.addEventListener("fullscreenchange",a),this.player.container.addEventListener("mozfullscreenchange",a),this.player.container.addEventListener("webkitfullscreenchange",a)}return a(e,[{key:"isFullScreen",value:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser"){case"browser":return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;case"web":return this.player.container.classList.contains("dplayer-fulled")}}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser",t="browser"===e?"web":"browser",n=this.isFullScreen(t);switch(n||(this.lastScrollPosition=s.default.getScrollPosition()),e){case"browser":this.player.container.requestFullscreen?this.player.container.requestFullscreen():this.player.container.mozRequestFullScreen?this.player.container.mozRequestFullScreen():this.player.container.webkitRequestFullscreen?this.player.container.webkitRequestFullscreen():this.player.video.webkitEnterFullscreen&&this.player.video.webkitEnterFullscreen();break;case"web":this.player.container.classList.add("dplayer-fulled"),document.body.classList.add("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen")}n&&this.cancel(t)}},{key:"cancel",value:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser"){case"browser":document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen();break;case"web":this.player.container.classList.remove("dplayer-fulled"),document.body.classList.remove("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen_cancel")}}},{key:"toggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser";this.isFullScreen(e)?this.cancel(e):this.request(e)}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(){function e(t){i(this,e),this.storageName={opacity:"dplayer-danmaku-opacity",volume:"dplayer-volume",unlimited:"dplayer-danmaku-unlimited",danmaku:"dplayer-danmaku-show",subtitle:"dplayer-subtitle-show"},this.default={opacity:.7,volume:t.options.volume||.7,unlimited:(t.options.danmaku&&t.options.danmaku.unlimited?1:0)||0,danmaku:1,subtitle:1},this.data={},this.init()}return a(e,[{key:"init",value:function(){for(var e in this.storageName){var t=this.storageName[e];this.data[e]=parseFloat(s.default.storage.get(t)||this.default[e])}}},{key:"get",value:function(e){return this.data[e]}},{key:"set",value:function(e,t){this.data[e]=t,s.default.storage.set(this.storageName[e],t)}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,n,a,o){i(this,e),this.container=t,this.video=n,this.options=a,this.events=o,this.init()}return a(e,[{key:"init",value:function(){var e=this;if(this.container.style.fontSize=this.options.fontSize,this.container.style.bottom=this.options.bottom,this.container.style.color=this.options.color,this.video.textTracks&&this.video.textTracks[0]){var t=this.video.textTracks[0];t.oncuechange=function(){var n=t.activeCues[0];if(n){e.container.innerHTML="";var i=document.createElement("p");i.appendChild(n.getCueAsHTML()),e.container.appendChild(i)}else e.container.innerHTML="";e.events.trigger("subtitle_change")}}}},{key:"show",value:function(){this.container.classList.remove("dplayer-subtitle-hide"),this.events.trigger("subtitle_show")}},{key:"hide",value:function(){this.container.classList.add("dplayer-subtitle-hide"),this.events.trigger("subtitle_hide")}},{key:"toggle",value:function(){this.container.classList.contains("dplayer-subtitle-hide")?this.show():this.hide()}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.elements={},this.elements.volume=t.volumeBar,this.elements.played=t.playedBar,this.elements.loaded=t.loadedBar,this.elements.danmaku=t.danmakuOpacityBar}return a(e,[{key:"set",value:function(e,t,n){t=Math.max(t,0),t=Math.min(t,1),this.elements[e].style[n]=100*t+"%"}},{key:"get",value:function(e){return parseFloat(this.elements[e].style.width)/100}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(){function e(t){i(this,e),this.player=t,window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),this.types=["loading","progress"],this.init()}return a(e,[{key:"init",value:function(){for(var e=0;e<this.types.length;e++){this["init"+this.types[e]+"Checker"]()}}},{key:"initloadingChecker",value:function(){var e=this,t=0,n=0,i=!1;this.loadingChecker=setInterval(function(){e.enableloadingChecker&&(n=e.player.video.currentTime,i||n!==t||e.player.video.paused||(e.player.container.classList.add("dplayer-loading"),i=!0),i&&n>t&&!e.player.video.paused&&(e.player.container.classList.remove("dplayer-loading"),i=!1),t=n)},100)}},{key:"initprogressChecker",value:function(){var e=this;this.progressChecker=setInterval(function(){if(e.enableprogressChecker){e.player.bar.set("played",e.player.video.currentTime/e.player.video.duration,"width");var t=s.default.secondToTime(e.player.video.currentTime);e.player.template.ptime.innerHTML!==t&&(e.player.template.ptime.innerHTML=s.default.secondToTime(e.player.video.currentTime))}},100)}},{key:"enable",value:function(e){if(e)this["enable"+e+"Checker"]=!0;else for(var t=0;t<this.types.length;t++){var n=this.types[t];this["enable"+n+"Checker"]=!0}}},{key:"disable",value:function(e){if(e)this["enable"+e+"Checker"]=!1;else for(var t=0;t<this.types.length;t++){var n=this.types[t];this["enable"+n+"Checker"]=!1}}},{key:"destroy",value:function(e){if(e)clearInterval(this[e+"Checker"]);else for(var t=0;t<this.types.length;t++)clearInterval(this[this.types[t]+"Checker"])}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){var n=this;i(this,e),this.container=t,this.container.addEventListener("animationend",function(){n.container.classList.remove("dplayer-bezel-transition")})}return a(e,[{key:"switch",value:function(e){this.container.innerHTML=e,this.container.classList.add("dplayer-bezel-transition")}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(0),r=i(s),l=n(24),c=i(l),u=function(){function e(t){var n=this;a(this,e),this.player=t,this.autoHideTimer=0,r.default.isMobile||(this.player.container.addEventListener("mousemove",function(){n.setAutoHide()}),this.player.container.addEventListener("click",function(){n.setAutoHide()}),this.player.on("play",function(){n.setAutoHide()}),this.player.on("pause",function(){n.setAutoHide()})),this.initPlayButton(),this.initThumbnails(),this.initPlayedBar(),this.initFullButton(),this.initQualityButton(),this.initScreenshotButton(),this.initSubtitleButton(),r.default.isMobile||this.initVolumeButton()}return o(e,[{key:"initPlayButton",value:function(){var e=this;this.player.template.playButton.addEventListener("click",function(){e.player.toggle()}),r.default.isMobile?(this.player.template.videoWrap.addEventListener("click",function(){e.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){e.toggle()})):(this.player.template.videoWrap.addEventListener("click",function(){e.player.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){e.player.toggle()}))}},{key:"initThumbnails",value:function(){var e=this;this.player.options.video.thumbnails&&(this.thumbnails=new c.default({container:this.player.template.barPreview,barWidth:this.player.template.barWrap.offsetWidth,url:this.player.options.video.thumbnails,events:this.player.events}),this.player.on("loadedmetadata",function(){e.thumbnails.resize(160,e.player.video.videoHeight/e.player.video.videoWidth*160)}))}},{key:"initPlayedBar",value:function(){var e=this,t=function(t){var n=((t.clientX||t.changedTouches[0].clientX)-r.default.getElementViewLeft(e.player.template.playedBarWrap))/e.player.template.playedBarWrap.clientWidth;n=Math.max(n,0),n=Math.min(n,1),e.player.bar.set("played",n,"width"),e.player.template.ptime.innerHTML=r.default.secondToTime(n*e.player.video.duration)},n=function n(i){document.removeEventListener(r.default.nameMap.dragEnd,n),document.removeEventListener(r.default.nameMap.dragMove,t);var a=((i.clientX||i.changedTouches[0].clientX)-r.default.getElementViewLeft(e.player.template.playedBarWrap))/e.player.template.playedBarWrap.clientWidth;a=Math.max(a,0),a=Math.min(a,1),e.player.bar.set("played",a,"width"),e.player.seek(e.player.bar.get("played")*e.player.video.duration),e.player.time.enable("progress")};this.player.template.playedBarWrap.addEventListener(r.default.nameMap.dragStart,function(){e.player.time.disable("progress"),document.addEventListener(r.default.nameMap.dragMove,t),document.addEventListener(r.default.nameMap.dragEnd,n)}),this.player.template.playedBarWrap.addEventListener(r.default.nameMap.dragMove,function(t){if(e.player.video.duration){var n=r.default.cumulativeOffset(e.player.template.playedBarWrap).left,i=(t.clientX||t.changedTouches[0].clientX)-n;if(i<0||i>e.player.template.playedBarWrap.offsetWidth)return;var a=e.player.video.duration*(i/e.player.template.playedBarWrap.offsetWidth);e.thumbnails&&e.thumbnails.move(i),e.player.template.playedBarTime.style.left=i-20+"px",e.player.template.playedBarTime.innerText=r.default.secondToTime(a),e.player.template.playedBarTime.classList.remove("hidden")}}),this.player.template.playedBarWrap.addEventListener("mouseenter",function(){e.player.video.duration&&(e.thumbnails&&e.thumbnails.show(),e.player.template.playedBarTime.classList.remove("hidden"))}),this.player.template.playedBarWrap.addEventListener("mouseleave",function(){e.player.video.duration&&(e.thumbnails&&e.thumbnails.hide(),e.player.template.playedBarTime.classList.add("hidden"))})}},{key:"initFullButton",value:function(){var e=this;this.player.template.browserFullButton.addEventListener("click",function(){e.player.fullScreen.toggle("browser")}),this.player.template.webFullButton.addEventListener("click",function(){e.player.fullScreen.toggle("web")})}},{key:"initVolumeButton",value:function(){var e=this,t=function(t){var n=t||window.event,i=((n.clientX||n.changedTouches[0].clientX)-r.default.getElementViewLeft(e.player.template.volumeBarWrap)-5.5)/35;e.player.volume(i)},n=function n(){document.removeEventListener(r.default.nameMap.dragEnd,n),document.removeEventListener(r.default.nameMap.dragMove,t),e.player.template.volumeButton.classList.remove("dplayer-volume-active")};this.player.template.volumeBarWrapWrap.addEventListener("click",function(t){var n=t||window.event,i=((n.clientX||n.changedTouches[0].clientX)-r.default.getElementViewLeft(e.player.template.volumeBarWrap)-5.5)/35;e.player.volume(i)}),this.player.template.volumeBarWrapWrap.addEventListener(r.default.nameMap.dragStart,function(){document.addEventListener(r.default.nameMap.dragMove,t),document.addEventListener(r.default.nameMap.dragEnd,n),e.player.template.volumeButton.classList.add("dplayer-volume-active")}),this.player.template.volumeIcon.addEventListener("click",function(){e.player.video.muted?(e.player.video.muted=!1,e.player.switchVolumeIcon(),e.player.bar.set("volume",e.player.volume(),"width")):(e.player.video.muted=!0,e.player.template.volumeIcon.innerHTML=e.player.icons.get("volume-off"),e.player.bar.set("volume",0,"width"))})}},{key:"initQualityButton",value:function(){var e=this;this.player.options.video.quality&&this.player.template.qualityList.addEventListener("click",function(t){t.target.classList.contains("dplayer-quality-item")&&e.player.switchQuality(t.target.dataset.index)})}},{key:"initScreenshotButton",value:function(){var e=this;this.player.options.screenshot&&this.player.template.camareButton.addEventListener("click",function(){var t=document.createElement("canvas");t.width=e.player.video.videoWidth,t.height=e.player.video.videoHeight,t.getContext("2d").drawImage(e.player.video,0,0,t.width,t.height);var n=t.toDataURL();e.player.template.camareButton.href=n,e.player.template.camareButton.download="DPlayer.png",e.player.events.trigger("screenshot",n)})}},{key:"initSubtitleButton",value:function(){var e=this;this.player.options.subtitle&&(this.player.events.on("subtitle_show",function(){e.player.template.subtitleButton.dataset.balloon=e.player.tran("Hide subtitle"),e.player.template.subtitleButtonInner.style.opacity="",e.player.user.set("subtitle",1)}),this.player.events.on("subtitle_hide",function(){e.player.template.subtitleButton.dataset.balloon=e.player.tran("Show subtitle"),e.player.template.subtitleButtonInner.style.opacity="0.4",e.player.user.set("subtitle",0)}),this.player.template.subtitleButton.addEventListener("click",function(){e.player.subtitle.toggle()}))}},{key:"setAutoHide",value:function(){var e=this;this.show(),clearTimeout(this.autoHideTimer),this.autoHideTimer=setTimeout(function(){!e.player.video.played.length||e.player.paused||e.disableAutoHide||e.hide()},3e3)}},{key:"show",value:function(){this.player.container.classList.remove("dplayer-hide-controller")}},{key:"hide",value:function(){this.player.container.classList.add("dplayer-hide-controller"),this.player.setting.hide(),this.player.comment&&this.player.comment.hide()}},{key:"isShow",value:function(){return!this.player.container.classList.contains("dplayer-hide-controller")}},{key:"toggle",value:function(){this.isShow()?this.hide():this.show()}},{key:"destroy",value:function(){clearTimeout(this.autoHideTimer)}}]),e}();t.default=u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.container=t.container,this.barWidth=t.barWidth,this.container.style.backgroundImage="url('"+t.url+"')",this.events=t.events}return a(e,[{key:"resize",value:function(e,t){this.container.style.width=e+"px",this.container.style.height=t+"px",this.container.style.top=2-t+"px"}},{key:"show",value:function(){this.container.style.display="block",this.events&&this.events.trigger("thumbnails_show")}},{key:"move",value:function(e){this.container.style.backgroundPosition="-"+160*(Math.ceil(e/this.barWidth*100)-1)+"px 0",this.container.style.left=e-this.container.offsetWidth/2+"px"}},{key:"hide",value:function(){this.container.style.display="none",this.events&&this.events.trigger("thumbnails_hide")}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(){function e(t){var n=this;i(this,e),this.player=t,this.player.template.mask.addEventListener("click",function(){n.hide()}),this.player.template.settingButton.addEventListener("click",function(){n.show()}),this.loop=this.player.options.loop,this.player.template.loopToggle.checked=this.loop,this.player.template.loop.addEventListener("click",function(){n.player.template.loopToggle.checked=!n.player.template.loopToggle.checked,n.player.template.loopToggle.checked?n.loop=!0:n.loop=!1,n.hide()}),this.showDanmaku=this.player.user.get("danmaku"),this.showDanmaku||this.player.danmaku&&this.player.danmaku.hide(),this.player.template.showDanmakuToggle.checked=this.showDanmaku,this.player.template.showDanmaku.addEventListener("click",function(){n.player.template.showDanmakuToggle.checked=!n.player.template.showDanmakuToggle.checked,n.player.template.showDanmakuToggle.checked?(n.showDanmaku=!0,n.player.danmaku.show()):(n.showDanmaku=!1,n.player.danmaku.hide()),n.player.user.set("danmaku",n.showDanmaku?1:0),n.hide()}),this.unlimitDanmaku=this.player.user.get("unlimited"),this.player.template.unlimitDanmakuToggle.checked=this.unlimitDanmaku,this.player.template.unlimitDanmaku.addEventListener("click",function(){n.player.template.unlimitDanmakuToggle.checked=!n.player.template.unlimitDanmakuToggle.checked,n.player.template.unlimitDanmakuToggle.checked?(n.unlimitDanmaku=!0,n.player.danmaku.unlimit(!0)):(n.unlimitDanmaku=!1,n.player.danmaku.unlimit(!1)),n.player.user.set("unlimited",n.unlimitDanmaku?1:0),n.hide()}),this.player.template.speed.addEventListener("click",function(){n.player.template.settingBox.classList.add("dplayer-setting-box-narrow"),n.player.template.settingBox.classList.add("dplayer-setting-box-speed")});for(var a=0;a<this.player.template.speedItem.length;a++)!function(e){n.player.template.speedItem[e].addEventListener("click",function(){n.player.speed(n.player.template.speedItem[e].dataset.speed),n.hide()})}(a);if(this.player.danmaku){this.player.on("danmaku_opacity",function(e){n.player.bar.set("danmaku",e,"width"),n.player.user.set("opacity",e)}),this.player.danmaku.opacity(this.player.user.get("opacity"));var o=function(e){var t=e||window.event,i=((t.clientX||t.changedTouches[0].clientX)-s.default.getElementViewLeft(n.player.template.danmakuOpacityBarWrap))/130;i=Math.max(i,0),i=Math.min(i,1),n.player.danmaku.opacity(i)},r=function e(){document.removeEventListener(s.default.nameMap.dragEnd,e),document.removeEventListener(s.default.nameMap.dragMove,o),n.player.template.danmakuOpacityBox.classList.remove("dplayer-setting-danmaku-active")};this.player.template.danmakuOpacityBarWrapWrap.addEventListener("click",function(e){var t=e||window.event,i=((t.clientX||t.changedTouches[0].clientX)-s.default.getElementViewLeft(n.player.template.danmakuOpacityBarWrap))/130;i=Math.max(i,0),i=Math.min(i,1),n.player.danmaku.opacity(i)}),this.player.template.danmakuOpacityBarWrapWrap.addEventListener(s.default.nameMap.dragStart,function(){document.addEventListener(s.default.nameMap.dragMove,o),document.addEventListener(s.default.nameMap.dragEnd,r),n.player.template.danmakuOpacityBox.classList.add("dplayer-setting-danmaku-active")})}}return a(e,[{key:"hide",value:function(){var e=this;this.player.template.settingBox.classList.remove("dplayer-setting-box-open"),this.player.template.mask.classList.remove("dplayer-mask-show"),setTimeout(function(){e.player.template.settingBox.classList.remove("dplayer-setting-box-narrow"),e.player.template.settingBox.classList.remove("dplayer-setting-box-speed")},300),this.player.controller.disableAutoHide=!1}},{key:"show",value:function(){this.player.template.settingBox.classList.add("dplayer-setting-box-open"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.controller.disableAutoHide=!0}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){var n=this;i(this,e),this.player=t,this.player.template.mask.addEventListener("click",function(){n.hide()}),this.player.template.commentButton.addEventListener("click",function(){n.show()}),this.player.template.commentSettingButton.addEventListener("click",function(){n.toggleSetting()}),this.player.template.commentColorSettingBox.addEventListener("click",function(){if(n.player.template.commentColorSettingBox.querySelector("input:checked+span")){var e=n.player.template.commentColorSettingBox.querySelector("input:checked").value;n.player.template.commentSettingFill.style.fill=e,n.player.template.commentInput.style.color=e,n.player.template.commentSendFill.style.fill=e}}),this.player.template.commentInput.addEventListener("click",function(){n.hideSetting()}),this.player.template.commentInput.addEventListener("keydown",function(e){13===(e||window.event).keyCode&&n.send()}),this.player.template.commentSendButton.addEventListener("click",function(){n.send()})}return a(e,[{key:"show",value:function(){this.player.controller.disableAutoHide=!0,this.player.template.controller.classList.add("dplayer-controller-comment"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.container.classList.add("dplayer-show-controller"),this.player.template.commentInput.focus()}},{key:"hide",value:function(){this.player.template.controller.classList.remove("dplayer-controller-comment"),this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.container.classList.remove("dplayer-show-controller"),this.player.controller.disableAutoHide=!1,this.hideSetting()}},{key:"showSetting",value:function(){this.player.template.commentSettingBox.classList.add("dplayer-comment-setting-open")}},{key:"hideSetting",value:function(){this.player.template.commentSettingBox.classList.remove("dplayer-comment-setting-open")}},{key:"toggleSetting",value:function(){this.player.template.commentSettingBox.classList.contains("dplayer-comment-setting-open")?this.hideSetting():this.showSetting()}},{key:"send",value:function(){var e=this;if(this.player.template.commentInput.blur(),!this.player.template.commentInput.value.replace(/^\s+|\s+$/g,""))return void this.player.notice(this.player.tran("Please input danmaku content!"));this.player.danmaku.send({text:this.player.template.commentInput.value,color:this.player.container.querySelector(".dplayer-comment-setting-color input:checked").value,type:this.player.container.querySelector(".dplayer-comment-setting-type input:checked").value},function(){e.player.template.commentInput.value="",e.hide()})}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function e(t){i(this,e),t.options.hotkey&&document.addEventListener("keydown",function(e){if(t.focus){var n=document.activeElement.tagName.toUpperCase(),i=document.activeElement.getAttribute("contenteditable");if("INPUT"!==n&&"TEXTAREA"!==n&&""!==i&&"true"!==i){var a=e||window.event,o=void 0;switch(a.keyCode){case 32:a.preventDefault(),t.toggle();break;case 37:a.preventDefault(),t.seek(t.video.currentTime-5),t.controller.setAutoHide();break;case 39:a.preventDefault(),t.seek(t.video.currentTime+5),t.controller.setAutoHide();break;case 38:a.preventDefault(),o=t.volume()+.1,t.volume(o);break;case 40:a.preventDefault(),o=t.volume()-.1,t.volume(o)}}}}),document.addEventListener("keydown",function(e){switch((e||window.event).keyCode){case 27:t.fullScreen.isFullScreen("web")&&t.fullScreen.cancel("web")}})};t.default=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){var n=this;i(this,e),this.player=t,this.player.container.addEventListener("contextmenu",function(e){var t=e||window.event;t.preventDefault();var i=n.player.container.getBoundingClientRect();n.show(t.clientX-i.left,t.clientY-i.top),n.player.template.mask.addEventListener("click",function(){n.hide()})})}return a(e,[{key:"show",value:function(e,t){this.player.template.menu.classList.add("dplayer-menu-show");var n=this.player.container.getBoundingClientRect();e+this.player.template.menu.offsetWidth>=n.width?(this.player.template.menu.style.right=n.width-e+"px",this.player.template.menu.style.left="initial"):(this.player.template.menu.style.left=e+"px",this.player.template.menu.style.right="initial"),t+this.player.template.menu.offsetHeight>=n.height?(this.player.template.menu.style.bottom=n.height-t+"px",this.player.template.menu.style.top="initial"):(this.player.template.menu.style.top=t+"px",this.player.template.menu.style.bottom="initial"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.events.trigger("contextmenu_show")}},{key:"hide",value:function(){this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.template.menu.classList.remove("dplayer-menu-show"),this.player.events.trigger("contextmenu_hide")}}]),e}();t.default=o}]).default});

},{}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var c = console.log,
    d = document,
    n = navigator,
    w = window;

var categories = exports.categories = function categories() {

  var readyState = setInterval(function () {

    if (d.readyState === 'complete') {

      //Kategoriak ekarri
      var fetchAllCategories = function fetchAllCategories(data, requestFromBGSync) {
        //Beharrezko sekzioak ezkutatu
        d.querySelectorAll('.section').forEach(function (section) {
          section.classList.add('u-hide');
        });
        d.querySelector('.categories').classList.remove('u-hide');
        d.querySelector('.tv').classList.remove('u-hide');

        fetch(data).then(function (response) {
          return response.json();
        }).then(function (json) {

          if (!requestFromBGSync) {
            localStorage.removeItem('category-list');
          }

          localStorage.setItem('localJsonCategories', JSON.stringify(json));

          json.member.forEach(function (jsonCat) {
            tpl += '\n              <li>\n                <a href="#" class="category-id" data-category="' + jsonCat["@id"] + '">\n                \t' + jsonCat.title + '\n                </a>\n              </li>\n              ';
          });

          d.querySelector('.categories__list').innerHTML = tpl;
        }).catch(function (err) {
          return localStorage.setItem('category-list', data);
        });
      };

      //Aplikaziora sartzen denean egin beharrekoa


      clearInterval(readyState);

      var tpl = '';

      //Nabigazio botoia
      d.getElementById("categories-btn").addEventListener('click', function (e) {
        d.querySelector('.off-canvas-menu').classList.toggle('is-open');

        //Kategorian ikonoa (menu off-canvas)
        if (d.querySelector('.nav-icon').classList.contains("is-active")) {
          d.querySelector('.nav-icon').classList.remove('is-active');
        } else {
          d.querySelector('.nav-icon').classList.add('is-active');
        }
      });
      //scape tekla bidez itxi menua
      d.addEventListener('keyup', function (e) {
        if (e.keyCode == 27) {
          d.querySelector('.off-canvas-menu').classList.remove('is-open');
          d.querySelector('.nav-icon').classList.remove('is-active');
        }
      });var data = '//still-castle-99749.herokuapp.com/program-type-list';

      localStorage.setItem('category-list', data);

      fetchAllCategories(data, false);

      //Background Sync (programak)
      if ('serviceWorker' in n && 'SyncManager' in w) {
        var registerBGSync = function registerBGSync() {
          n.serviceWorker.ready.then(function (registration) {
            return registration.sync.register('nahieran-tv-categories').then(function () {
              return c('Atzeko sinkronizazioa erregistratua');
            }).catch(function (err) {
              return c('Errorea atzeko sinkronizazioa erregistratzean', err);
            });
          });
        };

        registerBGSync();
      }
      //Background Sync (programak)
      n.serviceWorker.addEventListener('message', function (e) {
        c('Atzeko sinkronizazioa message bidez: ', e.data);
        if (e.data === 'online nahieran-tv-categories') fetchAllCategories(localStorage.getItem('category-list'), true);
      });
    } //readyState
  }, 100); //interval

  return '\n    <div class="categories off-canvas-menu">\n      <div class="loader"></div>\n      <ul class="categories__list"></ul>\n    </div>\n    ';
};

},{}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var c = console.log,
    d = document,
    n = navigator,
    w = window;

var categoriesSingle = exports.categoriesSingle = function categoriesSingle() {

  var readyState = setInterval(function () {

    if (d.readyState === 'complete') {

      //Kategoria zerrenda ekarri
      var fetchCategory = function fetchCategory(jsonData, requestFromBGSync, catName) {

        var data = jsonData.slice(5),
            tpl = '';

        d.querySelector('.off-canvas-menu').classList.remove('is-open');
        d.querySelector('.nav-icon').classList.remove('is-active');
        //Loader erakutsi
        d.querySelector('.loader-cat').classList.add('loader-show');
        d.querySelector('.loader-template-cat').classList.add('loader-show');
        //Beharrezko sekzioak ezkutatu
        d.querySelectorAll('.section').forEach(function (section) {
          section.classList.add('u-hide');
        });

        //Bideoa martxan badago ere, geratu
        if (d.querySelector(".dplayer-video")) {
          d.querySelector(".dplayer-video").pause();
        }

        fetch(data).then(function (response) {
          return response.json();
        }).then(function (json) {

          if (!requestFromBGSync) {
            localStorage.removeItem('category');
          }

          //Loader ezkutatu
          d.querySelector('.loader-cat').classList.remove('loader-show');
          d.querySelector('.loader-template-cat').classList.remove('loader-show');

          d.querySelector('.single-cat').classList.remove('u-hide');

          json.member.forEach(function (jsonCat) {
            tpl += '\n                <li>\n                  <a href="#" class="program-id" data-program="' + jsonCat["@id"] + '">\n                    ' + jsonCat.title + '\n                    </a>\n                  </li>\n                  ';
          });

          d.querySelector('.single-cat__list').innerHTML = tpl;
          d.querySelector('.single-cat__header').innerHTML = '\n              <div class="tv__title">' + catName + '</div>\n              <span class="tv__number">(' + json.member.length + ')</span> saio erakusten\n              ';
        }).catch(function (err) {
          return console.log(err);
        });
      }; //fetchCategory

      clearInterval(readyState);d.querySelector('.categories__list').addEventListener('click', function (e) {

        e.preventDefault();

        if (e.target.classList.contains('category-id')) {
          var catName = e.target.innerHTML;
          var data = e.target.getAttribute('data-category');

          localStorage.setItem('category', data);
          localStorage.setItem('category-name', catName);

          fetchCategory(data, false, catName);

          //Background Sync (kategoria)
          if ('serviceWorker' in n && 'SyncManager' in w) {
            var registerBGSync = function registerBGSync() {
              n.serviceWorker.ready.then(function (registration) {
                return registration.sync.register('nahieran-category').then(function () {
                  return c('Atzeko sinkronizazioa erregistratua');
                }).catch(function (err) {
                  return c('Errorea atzeko sinkronizazioa erregistratzean', err);
                });
              });
            };

            registerBGSync();
          }
        }
      });
      //Background Sync (kategoria)
      n.serviceWorker.addEventListener('message', function (e) {
        console.log('Atzeko sinkronizazioa message bidez aktibatua: ', e.data);
        if (e.data === 'online nahieran-category') fetchCategory(localStorage.getItem('category'), true, localStorage.getItem('category-name'));
      });
    } //readyState
  }, 100); //interval

  return '\n    <div class="loader-template loader-template-cat">\n    \t<div class="loader loader-cat"></div>\n    </div>\n    <div class="single-cat section u-hide">\n      <header class="section-header tv__header single-cat__header"></header>\n      <ul class="tv__list single-cat__list"></ul>\n    </div>\n    ';
};

},{}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.init = exports.isOnline = exports.pwa = undefined;

var _tv = require('./tv');

var c = console.log,
    d = document,
    n = navigator,
    w = window;

var pwa = exports.pwa = function pwa() {
  //Service Workerra erregistratu
  if ('serviceWorker' in n) {
    n.serviceWorker.register('./sw.js').then(function (registration) {
      c('Service Worker erregistratua', registration.scope);
    }).catch(function (err) {
      return c('Registro de Service Worker fallido', err);
    });
  }
};

var isOnline = exports.isOnline = function isOnline() {
  //Konexioaren egoera (online/offline)
  var metaTagTheme = d.querySelector('meta[name=theme-color]');

  function networkStatus(e) {

    if (n.onLine) {
      metaTagTheme.setAttribute('content', '#ffffff');
      d.querySelector(".main-footer__status").classList.remove("offline");
      d.querySelector(".offline").innerHTML = "";
    } else {
      metaTagTheme.setAttribute('content', '#c9c9c9');
      d.querySelector(".main-footer__status").classList.add("offline");
      d.querySelector(".offline").innerHTML = "<div class='text'>Sarea berreskuratzen...</div>";
    }
  }

  w.addEventListener('online', networkStatus);
  w.addEventListener('offline', networkStatus);
};

var init = exports.init = function init() {

  var readyState = setInterval(function () {
    //Aplikazioa/leihoa eguneratu
    if (d.readyState === 'complete') {
      clearInterval(readyState);
      d.getElementById("reload-app").addEventListener('click', function (e) {
        location.reload();
      });
    }
  }, 100);

  return '\n  <header class="main-header">\n    <div class="main-header__cols">\n      <img src="./assets/eitb-logo-blue.svg" alt="Nahieran" class="main-header__logo" id="reload-app">\n      <span class="main-header__slogan">nahieran</span>\n    </div>\n    <div class="main-header__cols right">\n      <div class="nav-icon" id="categories-btn">\n      \t<div class="nav-icon__bar"></div>\n      \t<div class="nav-icon__bar"></div>\n      \t<div class="nav-icon__bar"></div>\n      </div>\n    </div>\n  </header>\n\n  ' + (0, _tv.tv)() + '\n\n  <footer class="main-footer">\n    <div class="main-footer__status"></div>\n    <div class="main-footer__row">\n      <div class="main-footer__col-logo">\n      \t<img src="./assets/eitb-logo-white.svg" alt="eitb nahieran" class="main-footer__logo">\n      \t<div class="main-footer__text">Azken eguneraketa:\n      \t\t<span class="saved-date">' + localStorage.getItem("jsonDate") + '</span>\n      \t</div>\n      </div>\n      <div class="main-footer__col-btn deleteStorage">\n      \t<img src="./assets/reload.svg" alt="Datuak eguneratu" class="main-footer__reload">\n      </div>\n    </div>\n\n    <div class="main-footer__row">\n      <div class="main-footer__powered-by">\n      \tPWA garapena <a onclick="window.location=\'https://twitter.com/asiermusa\'" href="#">@asiermusa</a> |\n      \teitb APIa <a onclick="window.location=\'https://twitter.com/erralin\'" href="#">@erralin</a>\n      </div>\n    </div>\n  </footer>\n  ';
};

},{"./tv":5}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.tv = undefined;

var _categories = require('./categories');

var _tvProgram = require('./tvProgram');

var _tvProgramEpisode = require('./tvProgramEpisode');

var _categoriesSingle = require('./categoriesSingle');

var c = console.log,
    d = document,
    n = navigator,
    w = window;

var filtering = function filtering(ul) {

  d.getElementById('find-programs').addEventListener('keyup', function (e) {

    var json = JSON.parse(localStorage.getItem('localJson')),
        lista = null,
        tpl = '';

    lista = json.member.filter(function (list) {
      return list.title.toLowerCase().includes(e.target.value.toLowerCase());
    });

    lista.forEach(function (json) {
      tpl += '\n      <li>\n        <a href="#" class="program-id" data-program="' + json["@id"] + '">\n        ' + json.title + '\n        </a>\n      </li>\n      ';
    });

    d.querySelector(ul).innerHTML = tpl;
    d.querySelector('.tv__header').innerHTML = '<span class="tv__number">' + lista.length + '</span> saio erakusten';
  });
};

var tv = exports.tv = function tv() {

  var readyState = setInterval(function () {

    if (d.readyState === 'complete') {

      //Programa erakutsi (buklea)
      var getPrograms = function getPrograms(json) {

        var tpl = '';

        JSON.parse(json).member.forEach(function (json) {

          tpl += '\n            <li>\n              <a href="#" class="program-id" data-program="' + json["@id"] + '">\n                ' + json.title + '\n              </a>\n            </li>\n            ';
        });

        d.querySelector('.tv__list').innerHTML = tpl;
        d.querySelector('.tv__header').innerHTML = 'Saio guztiak erakusten <span class="tv__number">(' + JSON.parse(json).member.length + ')</span>';
        //Loader ezkutatu
        d.querySelector('.loader-tv').classList.remove('loader-show');
        d.querySelector('.loader-template-tv').classList.remove('loader-show');
        //Footerrean APIaren eguneraketa data bistaratu
        d.querySelector('.main-footer__text').classList.add('is-cache');
      };

      //Programak ekarri


      var fetchAllPrograms = function fetchAllPrograms(data, requestFromBGSync, reset) {

        var tpl = '';

        //Loader erakutsi
        d.querySelector('.loader-template-tv').classList.add('loader-show');
        d.querySelector('.loader-tv').classList.add('loader-show');
        //Beharrezko sekzioak ezkutatu
        d.querySelectorAll('.section').forEach(function (section) {
          section.classList.add('u-hide');
        });
        d.querySelector('.categories').classList.remove('u-hide');
        d.querySelector('.tv').classList.remove('u-hide');

        //Bideoa martxan badago ere, geratu
        if (d.querySelector(".dplayer-video")) {
          d.querySelector(".dplayer-video").pause();
        }

        //APIa deitu behar bada...
        if (reset) {

          fetch(data).then(function (response) {
            return response.json();
          }).then(function (json) {

            if (!requestFromBGSync) {
              localStorage.removeItem('tv');
            }

            localStorage.setItem('localJson', JSON.stringify(json));

            var savedDate = new Date(),
                date = savedDate.getFullYear() + '/' + ('0' + (savedDate.getMonth() + 1)).slice(-2) + '/' + ('0' + savedDate.getDate()).slice(-2) + ' - ',
                time = ('0' + savedDate.getHours()).slice(-2) + ":" + ('0' + savedDate.getMinutes()).slice(-2),
                dateTime = date + ' ' + time;

            localStorage.setItem("jsonDate", dateTime);
            d.querySelector('.saved-date').innerHTML = localStorage.getItem("jsonDate");

            getPrograms(localStorage.getItem('localJson'));

            //Notifikazio bidez ohartarazi
            if (w.Notification && Notification.permission !== 'denied') {
              Notification.requestPermission(function (status) {
                console.log(status);
                var n = new Notification('Nahieran', {
                  body: 'Programa zerrenda eguneratu da :)',
                  icon: './assets/favicon.png'
                });
              });
            }
          }).catch(function (err) {
            localStorage.setItem('tv', data);
          });

          //Programak local-ean gordeta badago
        } else {
          getPrograms(data);
        }
      }; //fetchAllPrograms

      //Filtroa egin


      clearInterval(readyState);filtering('.tv__list');

      //Gordetako APIa ezabatu eta berria ekartzeko - EZABATU
      d.querySelector('.deleteStorage').addEventListener('click', function (e) {

        e.preventDefault();
        if (confirm('Programa zerrenda eguneratu nahi al duzu?') == true) {
          localStorage.removeItem('localJson');
          localStorage.removeItem('jsonDate');

          var reset = true,
              data = '//still-castle-99749.herokuapp.com/playlist';

          localStorage.setItem('tv', data);

          fetchAllPrograms(data, false, reset);

          //Background Sync (programak)
          if ('serviceWorker' in n && 'SyncManager' in w) {
            var registerBGSync = function registerBGSync() {
              n.serviceWorker.ready.then(function (registration) {
                return registration.sync.register('nahieran-tv').then(function () {
                  return c('Atzeko sinkronizazioa erregistratua');
                }).catch(function (err) {
                  return c('Errorea atzeko sinkronizazioa erregistratzean', err);
                });
              });
            };

            registerBGSync();
          }
        }
      });

      //Aplikaziora sartzen denean egin beharrekoa (APIa deitu edo ez)
      if (localStorage.getItem('localJson')) {
        fetchAllPrograms(localStorage.getItem('localJson'), false, false);
      } else {
        var reset = true,
            data = '//still-castle-99749.herokuapp.com/playlist';

        localStorage.setItem('tv', data);

        fetchAllPrograms(data, false, reset);

        //Background Sync (programak)
        if ('serviceWorker' in n && 'SyncManager' in w) {
          var registerBGSync = function registerBGSync() {
            n.serviceWorker.ready.then(function (registration) {
              return registration.sync.register('nahieran-tv').then(function () {
                return c('Atzeko sinkronizazioa erregistratua');
              }).catch(function (err) {
                return c('Errorea atzeko sinkronizazioa erregistratzean', err);
              });
            });
          };

          registerBGSync();
        }
      }
      //Background Sync (programak)
      n.serviceWorker.addEventListener('message', function (e) {
        c('Atzeko sinkronizazioa message bidez: ', e.data);
        if (e.data === 'online nahieran-tv') fetchAllPrograms(localStorage.getItem('tv'), true, false);
      });
    } //readyState
  }, 100); //interval

  return '\n    ' + (0, _categories.categories)() + '\n    <div class="tv section">\n      <div class="tv__form">\n        <input type="text" id="find-programs" class="tv__input" placeholder="eitbko saioen artean bilatu..." title="Saioak bilatu">\n      </div>\n      <header class="section-header tv__header"></header>\n      <ul class="tv__list"></ul>\n      <div class="loader-template loader-template-tv">\n        <div class="loader loader-tv"></div>\n      </div>\n    </div>\n    ' + (0, _tvProgram.selectProgram)() + '\n    ' + (0, _tvProgramEpisode.selectEpisode)() + '\n    ' + (0, _categoriesSingle.categoriesSingle)() + '\n    ';
};

},{"./categories":2,"./categoriesSingle":3,"./tvProgram":6,"./tvProgramEpisode":7}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var c = console.log,
    d = document,
    n = navigator,
    w = window;

var selectProgram = exports.selectProgram = function selectProgram() {

  var readyState = setInterval(function () {

    if (d.readyState === 'complete') {

      //Programa ekarri (zerrenda)
      var fetchProgram = function fetchProgram(jsonData, requestFromBGSync) {

        var data = jsonData.slice(5),
            tpl = '',
            date = '';

        //Beharrezko sekzioak ezkutatu
        d.querySelectorAll('.section').forEach(function (section) {
          section.classList.add('u-hide');
        });

        //Loader erakutsi
        d.querySelector('.loader-program').classList.add('loader-show');
        d.querySelector('.loader-template-program').classList.add('loader-show');

        //Bideoa martxan badago ere, geratu
        if (d.querySelector(".dplayer-video")) {
          d.querySelector(".dplayer-video").pause();
        }

        fetch(data).then(function (response) {
          return response.json();
        }).then(function (json) {

          if (!requestFromBGSync) {
            localStorage.removeItem('tv-program');
          }

          d.querySelector('.program').classList.remove('u-hide');
          //Loader ezkutatu
          d.querySelector('.loader-program').classList.remove('loader-show');
          d.querySelector('.loader-template-program').classList.remove('loader-show');

          json.member.forEach(function (json) {
            if (json.broadcast_date) {
              date = json.broadcast_date.slice(0, 10);
            }
            tpl += '\n                <li class="custom-episode" data-episode="' + json["@id"] + '">\n      \t\t\t\t\t  <div class="program__image">\n                    <img src="' + json.episode_image.slice(5) + '" class="program__img custom-episode" data-episode="' + json["@id"] + '">\n                  </div>\n\n                  <div class="program__content custom-episode" data-episode="' + json["@id"] + '">\n                    ' + json.title + '\n                  <div class="program__date">' + date + '</div>\n                  </div>\n                </li>\n                ';
          });

          d.querySelector('.program__list').innerHTML = tpl;
          d.querySelector('.program__header').innerHTML = '\n          \t\t<div class="program__title">' + json.name + '</div>\n              <div class="program__desc">' + json.desc_group + '</div>\n              ';
        }).catch(function (err) {
          return console.log(err);
        });
      };

      //Programa ekarri (click ebentua)


      clearInterval(readyState);d.getElementById("app").addEventListener('click', function (e) {

        e.preventDefault();
        if (e.target.classList.contains('program-id')) {

          var data = e.target.getAttribute('data-program');

          localStorage.setItem('tv-program', data);

          fetchProgram(data, false);

          //Background Sync (programak)
          if ('serviceWorker' in n && 'SyncManager' in w) {
            var registerBGSync = function registerBGSync() {
              n.serviceWorker.ready.then(function (registration) {
                return registration.sync.register('nahieran-tv-program').then(function () {
                  return c('Atzeko sinkronizazioa erregistratua');
                }).catch(function (err) {
                  return c('Errorea atzeko sinkronizazioa erregistratzean', err);
                });
              });
            };

            registerBGSync();
          }
        }
      });
      //Background Sync (programak)
      n.serviceWorker.addEventListener('message', function (e) {
        console.log('Atzeko sinkronizazioa message bidez aktibatua: ', e.data);
        if (e.data === 'online nahieran-tv-program') fetchProgram(localStorage.getItem('tv-program'), true);
      });
    } //readyState
  }, 100); //interval

  return '\n    <div class="loader-template loader-template-program">\n  \t  <div class="loader loader-program"></div>\n    </div>\n    <div class="program section u-hide">\n  \t  <header class="section-header program__header"></header>\n      <ul class="program__list"></ul>\n    </div>\n    ';
};

},{}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.selectEpisode = undefined;

var _DPlayer = require('DPlayer');

var _DPlayer2 = _interopRequireDefault(_DPlayer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var c = console.log,
    d = document,
    n = navigator,
    w = window;

var selectEpisode = exports.selectEpisode = function selectEpisode() {

  var readyState = setInterval(function () {

    if (d.readyState === 'complete') {

      //episode kargatu
      var fetchEpisode = function fetchEpisode(jsonData, requestFromBGSync) {

        var data = jsonData.slice(5);

        //Loader erakutsi
        d.querySelector('.loader-episode').classList.add('loader-show');
        d.querySelector('.loader-template-episode').classList.add('loader-show');

        //Beharrezko sekzioak ezkutatu
        d.querySelectorAll('.section').forEach(function (section) {
          section.classList.add('u-hide');
        });

        //APIa deitu (episode)
        fetch(data).then(function (response) {
          return response.json();
        }).then(function (json) {

          var dp = "";

          d.querySelector('.episode').classList.remove('u-hide');

          if (!requestFromBGSync) {
            localStorage.removeItem('tv-program-episode');
          }

          //Loader ezkutatu
          d.querySelector('.loader-episode').classList.remove('loader-show');
          d.querySelector('.loader-template-episode').classList.remove('loader-show');

          var urlEnd = json.url.slice(-3);

          if (urlEnd === 'mp4') {
            urlEnd = json.url;
          } else {
            urlEnd = json.formats[7].url;
          }

          if (d.getElementById('dplayer')) {
            dp = new _DPlayer2.default({
              container: d.getElementById('dplayer'),
              autoplay: false,
              theme: '#008cd0',
              video: {
                url: urlEnd
              }
            });
          }

          //Bideoaren src kodea aldatu (https bidez funtzionatzeko)           
          d.querySelector(".dplayer-video").setAttribute("src", urlEnd.slice(5));

          d.querySelector('.episode__error').classList.remove('show');

          d.querySelector('.episode__header').innerHTML = '\n              <div class="episode__title">' + json.title + '</div>\n              <div class="episode__desc">' + json.description + '</div>\n              ';
        }).catch(function (err) {
          localStorage.setItem('tv-program-episode', jsonData);
          d.querySelector('.episode__error').innerHTML = 'Konexioak huts egin du';
          d.querySelector('.episode__error').classList.add('show');
        });
      }; //fetchEpisode

      //Programa zerrendatik episode ekarri (click)


      clearInterval(readyState);

      //Atzera joan (programetara)
      d.getElementById('episode__back').addEventListener('click', function (e) {
        //Beharrezko sekzioak ezkutatu
        d.querySelectorAll('.section').forEach(function (section) {
          section.classList.add('u-hide');
        });
        d.querySelector('.program').classList.remove('u-hide');

        //Bideoa martxan badago ere, geratu
        if (d.querySelector(".dplayer-video")) {
          d.querySelector(".dplayer-video").pause();
        }
      });d.querySelector('.program__list').addEventListener('click', function (e) {
        e.preventDefault();

        if (e.target.classList.contains('custom-episode')) {

          var data = e.target.getAttribute('data-episode');

          localStorage.setItem('tv-program-episode', data);
          fetchEpisode(data, false);

          //Background Sync (episode)
          if ('serviceWorker' in n && 'SyncManager' in w) {
            var registerBGSync = function registerBGSync() {
              n.serviceWorker.ready.then(function (registration) {
                return registration.sync.register('nahieran-tv-program-episode').then(function () {
                  return c('Atzeko sinkronizazioa erregistratua');
                }).catch(function (err) {
                  return c('Errorea atzeko sinkronizazioa erregistratzean', err);
                });
              });
            };

            registerBGSync();
          }
        }
      });
      //Background Sync (episode)
      n.serviceWorker.addEventListener('message', function (e) {
        c('Atzeko sinkronizazioa message bidez: ', e.data);
        if (e.data === 'online nahieran-tv-program-episode' || e.data === 'online test-tag-from-devtools') fetchEpisode(localStorage.getItem('tv-program-episode'), true);
      });
    } //readyState
  }, 100); //interval

  return '\n    <div class="loader-template loader-template-episode">\n      <div class="loader loader-episode"></div>\n    </div>\n\n    <div class="episode section u-hide">\n      <header class="section-header episode__header"></header>\n      <div class="episode__play">\n        <div id="dplayer"></div>\n      </div>\n      <div class="episode__error"></div>\n      <div class="episode__nav"><a href="#" id="episode__back">< Atzera</a></div>\n    </div>\n    ';
};

},{"DPlayer":1}],8:[function(require,module,exports){
'use strict';

var _init = require('./components/init');

document.getElementById('app').innerHTML = (0, _init.init)();

//Aplikzioa web progresiboa erregistratu
(0, _init.pwa)();
//Online/ffline gauden zehaztu
(0, _init.isOnline)();

},{"./components/init":4}]},{},[8])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvRFBsYXllci9kaXN0L0RQbGF5ZXIubWluLmpzIiwic3JjL2pzL2NvbXBvbmVudHMvY2F0ZWdvcmllcy5qcyIsInNyYy9qcy9jb21wb25lbnRzL2NhdGVnb3JpZXNTaW5nbGUuanMiLCJzcmMvanMvY29tcG9uZW50cy9pbml0LmpzIiwic3JjL2pzL2NvbXBvbmVudHMvdHYuanMiLCJzcmMvanMvY29tcG9uZW50cy90dlByb2dyYW0uanMiLCJzcmMvanMvY29tcG9uZW50cy90dlByb2dyYW1FcGlzb2RlLmpzIiwic3JjL2pzL3NjcmlwdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7Ozs7Ozs7QUNEQSxJQUFNLElBQUksUUFBUSxHQUFsQjtBQUFBLElBQ0UsSUFBSSxRQUROO0FBQUEsSUFFRSxJQUFJLFNBRk47QUFBQSxJQUdFLElBQUksTUFITjs7QUFLTyxJQUFNLGtDQUFhLFNBQWIsVUFBYSxHQUFNOztBQUU5QixNQUFNLGFBQWEsWUFBWSxZQUFNOztBQUVuQyxRQUFLLEVBQUUsVUFBRixLQUFrQixVQUF2QixFQUFvQzs7QUF5QmxDO0FBekJrQyxVQTBCekIsa0JBMUJ5QixHQTBCbEMsU0FBUyxrQkFBVCxDQUE0QixJQUE1QixFQUFrQyxpQkFBbEMsRUFBcUQ7QUFDbkQ7QUFDQSxVQUFFLGdCQUFGLENBQW1CLFVBQW5CLEVBQStCLE9BQS9CLENBQXdDLG1CQUFXO0FBQ2pELGtCQUFRLFNBQVIsQ0FBa0IsR0FBbEIsQ0FBc0IsUUFBdEI7QUFDRCxTQUZEO0FBR0EsVUFBRSxhQUFGLENBQWdCLGFBQWhCLEVBQStCLFNBQS9CLENBQXlDLE1BQXpDLENBQWdELFFBQWhEO0FBQ0EsVUFBRSxhQUFGLENBQWdCLEtBQWhCLEVBQXVCLFNBQXZCLENBQWlDLE1BQWpDLENBQXdDLFFBQXhDOztBQUVBLGNBQU0sSUFBTixFQUNHLElBREgsQ0FD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LEVBQWtEO0FBQUEsZ0JBQ3ZDLGNBRHVDLEdBQ2hELFNBQVMsY0FBVCxHQUEyQjtBQUN6QixnQkFBRSxhQUFGLENBQWdCLEtBQWhCLENBQ0MsSUFERCxDQUNNLHdCQUFnQjtBQUNwQix1QkFBTyxhQUFhLElBQWIsQ0FBa0IsUUFBbEIsQ0FBMkIsNkJBQTNCLEVBQ0osSUFESSxDQUNFO0FBQUEseUJBQU0sRUFBRSxxQ0FBRixDQUFOO0FBQUEsaUJBREYsRUFFSixLQUZJLENBRUc7QUFBQSx5QkFBTyxFQUFFLCtDQUFGLEVBQW1ELEdBQW5ELENBQVA7QUFBQSxpQkFGSCxDQUFQO0FBR0QsZUFMRDtBQU1ELGFBUitDOztBQVNoRDtBQUNEO0FBQ0Y7QUFDRixPQXZCRDtBQXdCQTtBQUNBLFFBQUUsYUFBRixDQUFnQixnQkFBaEIsQ0FBaUMsU0FBakMsRUFBNEMsYUFBSztBQUMvQyxVQUFFLHVDQUFGLEVBQTJDLEVBQUUsSUFBN0M7QUFDQSxZQUFJLEVBQUUsSUFBRixLQUFXLG9DQUFYLElBQW1ELEVBQUUsSUFBRixLQUFXLCtCQUFsRSxFQUNFLGFBQWEsYUFBYSxPQUFiLENBQXFCLG9CQUFyQixDQUFiLEVBQXlELElBQXpEO0FBQ0gsT0FKRDtBQU1ELEtBekhrQyxDQXlIakM7QUFDSCxHQTFIa0IsRUEwSGhCLEdBMUhnQixDQUFuQixDQUZpQyxDQTRIekI7O0FBRVI7QUFjRCxDQTVJTTs7Ozs7QUNQUDs7QUFFQSxTQUFTLGNBQVQsQ0FBd0IsS0FBeEIsRUFBK0IsU0FBL0IsR0FBMkMsaUJBQTNDOztBQUVBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiRFBsYXllclwiLFtdLHQpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuRFBsYXllcj10KCk6ZS5EUGxheWVyPXQoKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoaSl7aWYobltpXSlyZXR1cm4gbltpXS5leHBvcnRzO3ZhciBhPW5baV09e2k6aSxsOiExLGV4cG9ydHM6e319O3JldHVybiBlW2ldLmNhbGwoYS5leHBvcnRzLGEsYS5leHBvcnRzLHQpLGEubD0hMCxhLmV4cG9ydHN9dmFyIG49e307cmV0dXJuIHQubT1lLHQuYz1uLHQuZD1mdW5jdGlvbihlLG4saSl7dC5vKGUsbil8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4se2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDppfSl9LHQubj1mdW5jdGlvbihlKXt2YXIgbj1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gdC5kKG4sXCJhXCIsbiksbn0sdC5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSx0LnA9XCIvXCIsdCh0LnM9MSl9KFtmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9L21vYmlsZS9pLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpLGE9e3NlY29uZFRvVGltZTpmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtyZXR1cm4gZTwxMD9cIjBcIitlOlwiXCIrZX0sbj1wYXJzZUludChlLzYwKSxpPXBhcnNlSW50KGUtNjAqbik7cmV0dXJuIHQobikrXCI6XCIrdChpKX0sZ2V0RWxlbWVudFZpZXdMZWZ0OmZ1bmN0aW9uKGUpe3ZhciB0PWUub2Zmc2V0TGVmdCxuPWUub2Zmc2V0UGFyZW50LGk9ZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0K2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0O2lmKGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50fHxkb2N1bWVudC5tb3pGdWxsU2NyZWVuRWxlbWVudHx8ZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQpZm9yKDtudWxsIT09biYmbiE9PWU7KXQrPW4ub2Zmc2V0TGVmdCxuPW4ub2Zmc2V0UGFyZW50O2Vsc2UgZm9yKDtudWxsIT09bjspdCs9bi5vZmZzZXRMZWZ0LG49bi5vZmZzZXRQYXJlbnQ7cmV0dXJuIHQtaX0sZ2V0U2Nyb2xsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm57bGVmdDp3aW5kb3cucGFnZVhPZmZzZXR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHxkb2N1bWVudC5ib2R5LnNjcm9sbExlZnR8fDAsdG9wOndpbmRvdy5wYWdlWU9mZnNldHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3B8fDB9fSxzZXRTY3JvbGxQb3NpdGlvbjpmdW5jdGlvbihlKXt2YXIgdD1lLmxlZnQsbj12b2lkIDA9PT10PzA6dCxpPWUudG9wLGE9dm9pZCAwPT09aT8wOmk7dGhpcy5pc0ZpcmVmb3g/KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0PW4sZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcD1hKTp3aW5kb3cuc2Nyb2xsVG8obixhKX0saXNNb2JpbGU6aSxpc0ZpcmVmb3g6L2ZpcmVmb3gvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSxpc0Nocm9tZTovY2hyb21lL2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCksc3RvcmFnZTp7c2V0OmZ1bmN0aW9uKGUsdCl7bG9jYWxTdG9yYWdlLnNldEl0ZW0oZSx0KX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKX19LGN1bXVsYXRpdmVPZmZzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9MCxuPTA7ZG97dCs9ZS5vZmZzZXRUb3B8fDAsbis9ZS5vZmZzZXRMZWZ0fHwwLGU9ZS5vZmZzZXRQYXJlbnR9d2hpbGUoZSk7cmV0dXJue3RvcDp0LGxlZnQ6bn19LG5hbWVNYXA6e2RyYWdTdGFydDppP1widG91Y2hzdGFydFwiOlwibW91c2Vkb3duXCIsZHJhZ01vdmU6aT9cInRvdWNobW92ZVwiOlwibW91c2Vtb3ZlXCIsZHJhZ0VuZDppP1widG91Y2hlbmRcIjpcIm1vdXNldXBcIn19O3QuZGVmYXVsdD1hfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbigyKTt2YXIgaT1uKDMpLGE9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShpKTtjb25zb2xlLmxvZyhcIlxcbiAlYyBEUGxheWVyIDEuMjEuMCA4ZTY5YWRhICVjIGh0dHA6Ly9kcGxheWVyLmpzLm9yZyBcXG5cXG5cIixcImNvbG9yOiAjZmFkZmEzOyBiYWNrZ3JvdW5kOiAjMDMwMzA3OyBwYWRkaW5nOjVweCAwO1wiLFwiYmFja2dyb3VuZDogI2ZhZGZhMzsgcGFkZGluZzo1cHggMDtcIiksdC5kZWZhdWx0PWEuZGVmYXVsdH0sZnVuY3Rpb24oZSx0KXt9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBhKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHM9big0KSxyPWkocyksbD1uKDApLGM9aShsKSx1PW4oOSksZD1pKHUpLHA9bigxMiksaD1pKHApLHk9bigxMyksbT1pKHkpLGY9bigxNCksdj1pKGYpLGc9bigxNSksYj1pKGcpLGs9bigxNiksdz1pKGspLFM9bigxNyksVD1pKFMpLEw9bigxOCkseD1pKEwpLE09bigxOSksXz1pKE0pLEU9bigyMCkscT1pKEUpLEI9bigyMSksUD1pKEIpLE89bigyMiksaj1pKE8pLEM9bigyMyksej1pKEMpLEY9bigyNSksST1pKEYpLFc9bigyNiksRD1pKFcpLEg9bigyNyksQT1pKEgpLFI9bigyOCksVj1pKFIpLE49MCxYPVtdLFE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBuPXRoaXM7YSh0aGlzLGUpLHRoaXMub3B0aW9ucz0oMCxkLmRlZmF1bHQpKHQpLHRoaXMub3B0aW9ucy52aWRlby5xdWFsaXR5JiYodGhpcy5xdWFsaXR5SW5kZXg9dGhpcy5vcHRpb25zLnZpZGVvLmRlZmF1bHRRdWFsaXR5LHRoaXMucXVhbGl0eT10aGlzLm9wdGlvbnMudmlkZW8ucXVhbGl0eVt0aGlzLm9wdGlvbnMudmlkZW8uZGVmYXVsdFF1YWxpdHldKSx0aGlzLnRyYW49bmV3IGguZGVmYXVsdCh0aGlzLm9wdGlvbnMubGFuZykudHJhbix0aGlzLmljb25zPW5ldyB2LmRlZmF1bHQodGhpcy5vcHRpb25zKSx0aGlzLmV2ZW50cz1uZXcgdy5kZWZhdWx0LHRoaXMudXNlcj1uZXcgeC5kZWZhdWx0KHRoaXMpLHRoaXMuY29udGFpbmVyPXRoaXMub3B0aW9ucy5jb250YWluZXIsdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZChcImRwbGF5ZXJcIiksdGhpcy5vcHRpb25zLmRhbm1ha3V8fHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLW5vLWRhbm1ha3VcIiksdGhpcy5vcHRpb25zLmxpdmUmJnRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLWxpdmVcIiksYy5kZWZhdWx0LmlzTW9iaWxlJiZ0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1tb2JpbGVcIiksdGhpcy5hcnJvdz10aGlzLmNvbnRhaW5lci5vZmZzZXRXaWR0aDw9NTAwLHRoaXMuYXJyb3cmJnRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLWFycm93XCIpLHRoaXMudGVtcGxhdGU9bmV3IG0uZGVmYXVsdCh7Y29udGFpbmVyOnRoaXMuY29udGFpbmVyLG9wdGlvbnM6dGhpcy5vcHRpb25zLGluZGV4Ok4sdHJhbjp0aGlzLnRyYW4saWNvbnM6dGhpcy5pY29uc30pLHRoaXMudmlkZW89dGhpcy50ZW1wbGF0ZS52aWRlbyx0aGlzLmJhcj1uZXcgcS5kZWZhdWx0KHRoaXMudGVtcGxhdGUpLHRoaXMuYmV6ZWw9bmV3IGouZGVmYXVsdCh0aGlzLnRlbXBsYXRlLmJlemVsKSx0aGlzLmZ1bGxTY3JlZW49bmV3IFQuZGVmYXVsdCh0aGlzKSx0aGlzLmNvbnRyb2xsZXI9bmV3IHouZGVmYXVsdCh0aGlzKSx0aGlzLm9wdGlvbnMuZGFubWFrdSYmKHRoaXMuZGFubWFrdT1uZXcgYi5kZWZhdWx0KHtjb250YWluZXI6dGhpcy50ZW1wbGF0ZS5kYW5tYWt1LG9wYWNpdHk6dGhpcy51c2VyLmdldChcIm9wYWNpdHlcIiksY2FsbGJhY2s6ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi50ZW1wbGF0ZS5kYW5tYWt1TG9hZGluZy5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLG4ub3B0aW9ucy5hdXRvcGxheT9uLnBsYXkoKTpjLmRlZmF1bHQuaXNNb2JpbGUmJm4ucGF1c2UoKX0sMCl9LGVycm9yOmZ1bmN0aW9uKGUpe24ubm90aWNlKGUpfSxhcGlCYWNrZW5kOnRoaXMub3B0aW9ucy5hcGlCYWNrZW5kLGJvcmRlckNvbG9yOnRoaXMub3B0aW9ucy50aGVtZSxoZWlnaHQ6dGhpcy5hcnJvdz8yNDozMCx0aW1lOmZ1bmN0aW9uKCl7cmV0dXJuIG4udmlkZW8uY3VycmVudFRpbWV9LHVubGltaXRlZDp0aGlzLnVzZXIuZ2V0KFwidW5saW1pdGVkXCIpLGFwaTp7aWQ6dGhpcy5vcHRpb25zLmRhbm1ha3UuaWQsYWRkcmVzczp0aGlzLm9wdGlvbnMuZGFubWFrdS5hcGksdG9rZW46dGhpcy5vcHRpb25zLmRhbm1ha3UudG9rZW4sbWF4aW11bTp0aGlzLm9wdGlvbnMuZGFubWFrdS5tYXhpbXVtLGFkZGl0aW9uOnRoaXMub3B0aW9ucy5kYW5tYWt1LmFkZGl0aW9uLHVzZXI6dGhpcy5vcHRpb25zLmRhbm1ha3UudXNlcn0sZXZlbnRzOnRoaXMuZXZlbnRzfSksdGhpcy5jb21tZW50PW5ldyBELmRlZmF1bHQodGhpcykpLHRoaXMuc2V0dGluZz1uZXcgSS5kZWZhdWx0KHRoaXMpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7bi5mb2N1cz0hMX0sITApLHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7bi5mb2N1cz0hMH0sITApLHRoaXMucGF1c2VkPSEwLHRoaXMudGltZT1uZXcgUC5kZWZhdWx0KHRoaXMpLHRoaXMuaG90a2V5PW5ldyBBLmRlZmF1bHQodGhpcyksdGhpcy5jb250ZXh0bWVudT1uZXcgVi5kZWZhdWx0KHRoaXMpLHRoaXMuaW5pdFZpZGVvKHRoaXMudmlkZW8sdGhpcy5xdWFsaXR5JiZ0aGlzLnF1YWxpdHkudHlwZXx8dGhpcy5vcHRpb25zLnZpZGVvLnR5cGUpLCF0aGlzLmRhbm1ha3UmJnRoaXMub3B0aW9ucy5hdXRvcGxheSYmdGhpcy5wbGF5KCksTisrLFgucHVzaCh0aGlzKX1yZXR1cm4gbyhlLFt7a2V5Olwic2Vla1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2U9TWF0aC5tYXgoZSwwKSx0aGlzLnZpZGVvLmR1cmF0aW9uJiYoZT1NYXRoLm1pbihlLHRoaXMudmlkZW8uZHVyYXRpb24pKSx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGU/dGhpcy5ub3RpY2UodGhpcy50cmFuKFwiRkZcIikrXCIgXCIrKGUtdGhpcy52aWRlby5jdXJyZW50VGltZSkudG9GaXhlZCgwKStcIiBcIit0aGlzLnRyYW4oXCJzXCIpKTp0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPmUmJnRoaXMubm90aWNlKHRoaXMudHJhbihcIlJFV1wiKStcIiBcIisodGhpcy52aWRlby5jdXJyZW50VGltZS1lKS50b0ZpeGVkKDApK1wiIFwiK3RoaXMudHJhbihcInNcIikpLHRoaXMudmlkZW8uY3VycmVudFRpbWU9ZSx0aGlzLmRhbm1ha3UmJnRoaXMuZGFubWFrdS5zZWVrKCksdGhpcy5iYXIuc2V0KFwicGxheWVkXCIsZS90aGlzLnZpZGVvLmR1cmF0aW9uLFwid2lkdGhcIil9fSx7a2V5OlwicGxheVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLnBhdXNlZD0hMSx0aGlzLnZpZGVvLnBhdXNlZCYmdGhpcy5iZXplbC5zd2l0Y2godGhpcy5pY29ucy5nZXQoXCJwbGF5XCIpKSx0aGlzLnRlbXBsYXRlLnBsYXlCdXR0b24uaW5uZXJIVE1MPXRoaXMuaWNvbnMuZ2V0KFwicGF1c2VcIiksci5kZWZhdWx0LnJlc29sdmUodGhpcy52aWRlby5wbGF5KCkpLmNhdGNoKGZ1bmN0aW9uKCl7ZS5wYXVzZSgpfSkudGhlbihmdW5jdGlvbigpe30pLHRoaXMudGltZS5lbmFibGUoKSx0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1wbGF5aW5nXCIpLHRoaXMuZGFubWFrdSYmdGhpcy5kYW5tYWt1LnBsYXkoKSx0aGlzLm9wdGlvbnMubXV0ZXgpZm9yKHZhciB0PTA7dDxYLmxlbmd0aDt0KyspdGhpcyE9PVhbdF0mJlhbdF0ucGF1c2UoKX19LHtrZXk6XCJwYXVzZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wYXVzZWQ9ITAsdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcImRwbGF5ZXItbG9hZGluZ1wiKSx0aGlzLnZpZGVvLnBhdXNlZHx8dGhpcy5iZXplbC5zd2l0Y2godGhpcy5pY29ucy5nZXQoXCJwYXVzZVwiKSksdGhpcy5lbmRlZD0hMSx0aGlzLnRlbXBsYXRlLnBsYXlCdXR0b24uaW5uZXJIVE1MPXRoaXMuaWNvbnMuZ2V0KFwicGxheVwiKSx0aGlzLnZpZGVvLnBhdXNlKCksdGhpcy50aW1lLmRpc2FibGUoKSx0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiZHBsYXllci1wbGF5aW5nXCIpLHRoaXMuZGFubWFrdSYmdGhpcy5kYW5tYWt1LnBhdXNlKCl9fSx7a2V5Olwic3dpdGNoVm9sdW1lSWNvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy52b2x1bWUoKT49Ljk1P3RoaXMudGVtcGxhdGUudm9sdW1lSWNvbi5pbm5lckhUTUw9dGhpcy5pY29ucy5nZXQoXCJ2b2x1bWUtdXBcIik6dGhpcy52b2x1bWUoKT4wP3RoaXMudGVtcGxhdGUudm9sdW1lSWNvbi5pbm5lckhUTUw9dGhpcy5pY29ucy5nZXQoXCJ2b2x1bWUtZG93blwiKTp0aGlzLnRlbXBsYXRlLnZvbHVtZUljb24uaW5uZXJIVE1MPXRoaXMuaWNvbnMuZ2V0KFwidm9sdW1lLW9mZlwiKX19LHtrZXk6XCJ2b2x1bWVcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7aWYoZT1wYXJzZUZsb2F0KGUpLCFpc05hTihlKSl7ZT1NYXRoLm1heChlLDApLGU9TWF0aC5taW4oZSwxKSx0aGlzLmJhci5zZXQoXCJ2b2x1bWVcIixlLFwid2lkdGhcIik7dmFyIGk9KDEwMCplKS50b0ZpeGVkKDApK1wiJVwiO3RoaXMudGVtcGxhdGUudm9sdW1lQmFyV3JhcFdyYXAuZGF0YXNldC5iYWxsb29uPWksdHx8dGhpcy51c2VyLnNldChcInZvbHVtZVwiLGUpLG58fHRoaXMubm90aWNlKHRoaXMudHJhbihcIlZvbHVtZVwiKStcIiBcIisoMTAwKmUpLnRvRml4ZWQoMCkrXCIlXCIpLHRoaXMudmlkZW8udm9sdW1lPWUsdGhpcy52aWRlby5tdXRlZCYmKHRoaXMudmlkZW8ubXV0ZWQ9ITEpLHRoaXMuc3dpdGNoVm9sdW1lSWNvbigpfXJldHVybiB0aGlzLnZpZGVvLnZvbHVtZX19LHtrZXk6XCJ0b2dnbGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudmlkZW8ucGF1c2VkP3RoaXMucGxheSgpOnRoaXMucGF1c2UoKX19LHtrZXk6XCJvblwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5ldmVudHMub24oZSx0KX19LHtrZXk6XCJzd2l0Y2hWaWRlb1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5wYXVzZSgpLHRoaXMudmlkZW8ucG9zdGVyPWUucGljP2UucGljOlwiXCIsdGhpcy52aWRlby5zcmM9ZS51cmwsdGhpcy5pbml0TVNFKHRoaXMudmlkZW8sZS50eXBlfHxcImF1dG9cIiksdCYmKHRoaXMudGVtcGxhdGUuZGFubWFrdUxvYWRpbmcuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdGhpcy5iYXIuc2V0KFwicGxheWVkXCIsMCxcIndpZHRoXCIpLHRoaXMuYmFyLnNldChcImxvYWRlZFwiLDAsXCJ3aWR0aFwiKSx0aGlzLnRlbXBsYXRlLnB0aW1lLmlubmVySFRNTD1cIjAwOjAwXCIsdGhpcy50ZW1wbGF0ZS5kYW5tYWt1LmlubmVySFRNTD1cIlwiLHRoaXMuZGFubWFrdSYmdGhpcy5kYW5tYWt1LnJlbG9hZCh7aWQ6dC5pZCxhZGRyZXNzOnQuYXBpLHRva2VuOnQudG9rZW4sbWF4aW11bTp0Lm1heGltdW0sYWRkaXRpb246dC5hZGRpdGlvbix1c2VyOnQudXNlcn0pKX19LHtrZXk6XCJpbml0TVNFXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO2lmKHRoaXMudHlwZT10LHRoaXMub3B0aW9ucy52aWRlby5jdXN0b21UeXBlJiZ0aGlzLm9wdGlvbnMudmlkZW8uY3VzdG9tVHlwZVt0XSlcIltvYmplY3QgRnVuY3Rpb25dXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGhpcy5vcHRpb25zLnZpZGVvLmN1c3RvbVR5cGVbdF0pP3RoaXMub3B0aW9ucy52aWRlby5jdXN0b21UeXBlW3RdKHRoaXMudmlkZW8sdGhpcyk6Y29uc29sZS5lcnJvcihcIklsbGVnYWwgY3VzdG9tVHlwZTogXCIrdCk7ZWxzZSBzd2l0Y2goXCJhdXRvXCI9PT10aGlzLnR5cGUmJigvbTN1OCgjfFxcP3wkKS9pLmV4ZWMoZS5zcmMpP3RoaXMudHlwZT1cImhsc1wiOi8uZmx2KCN8XFw/fCQpL2kuZXhlYyhlLnNyYyk/dGhpcy50eXBlPVwiZmx2XCI6Ly5tcGQoI3xcXD98JCkvaS5leGVjKGUuc3JjKT90aGlzLnR5cGU9XCJkYXNoXCI6dGhpcy50eXBlPVwibm9ybWFsXCIpLHRoaXMudHlwZSl7Y2FzZVwiaGxzXCI6aWYoSGxzKWlmKEhscy5pc1N1cHBvcnRlZCgpKXt2YXIgaT1uZXcgSGxzO2kubG9hZFNvdXJjZShlLnNyYyksaS5hdHRhY2hNZWRpYShlKX1lbHNlIHRoaXMubm90aWNlKFwiRXJyb3I6IEhscyBpcyBub3Qgc3VwcG9ydGVkLlwiKTtlbHNlIHRoaXMubm90aWNlKFwiRXJyb3I6IENhbid0IGZpbmQgSGxzLlwiKTticmVhaztjYXNlXCJmbHZcIjppZihmbHZqcyYmZmx2anMuaXNTdXBwb3J0ZWQoKSlpZihmbHZqcy5pc1N1cHBvcnRlZCgpKXt2YXIgYT1mbHZqcy5jcmVhdGVQbGF5ZXIoe3R5cGU6XCJmbHZcIix1cmw6ZS5zcmN9KTthLmF0dGFjaE1lZGlhRWxlbWVudChlKSxhLmxvYWQoKX1lbHNlIHRoaXMubm90aWNlKFwiRXJyb3I6IGZsdmpzIGlzIG5vdCBzdXBwb3J0ZWQuXCIpO2Vsc2UgdGhpcy5ub3RpY2UoXCJFcnJvcjogQ2FuJ3QgZmluZCBmbHZqcy5cIik7YnJlYWs7Y2FzZVwiZGFzaFwiOmRhc2hqcz9kYXNoanMuTWVkaWFQbGF5ZXIoKS5jcmVhdGUoKS5pbml0aWFsaXplKGUsZS5zcmMsITEpOnRoaXMubm90aWNlKFwiRXJyb3I6IENhbid0IGZpbmQgZGFzaGpzLlwiKTticmVhaztjYXNlXCJ3ZWJ0b3JyZW50XCI6aWYoV2ViVG9ycmVudClpZihXZWJUb3JyZW50LldFQlJUQ19TVVBQT1JUKXt0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1sb2FkaW5nXCIpO3ZhciBvPW5ldyBXZWJUb3JyZW50LHM9ZS5zcmM7by5hZGQocyxmdW5jdGlvbihlKXtlLmZpbGVzLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZS5lbmRzV2l0aChcIi5tcDRcIil9KS5yZW5kZXJUbyhuLnZpZGVvLHthdXRvcGxheTpuLm9wdGlvbnMuYXV0b3BsYXl9LGZ1bmN0aW9uKCl7bi5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcImRwbGF5ZXItbG9hZGluZ1wiKX0pfSl9ZWxzZSB0aGlzLm5vdGljZShcIkVycm9yOiBXZWJ0b3JyZW50IGlzIG5vdCBzdXBwb3J0ZWQuXCIpO2Vsc2UgdGhpcy5ub3RpY2UoXCJFcnJvcjogQ2FuJ3QgZmluZCBXZWJ0b3JyZW50LlwiKX19fSx7a2V5OlwiaW5pdFZpZGVvXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3RoaXMuaW5pdE1TRShlLHQpLHRoaXMub24oXCJkdXJhdGlvbmNoYW5nZVwiLGZ1bmN0aW9uKCl7MSE9PWUuZHVyYXRpb24mJihuLnRlbXBsYXRlLmR0aW1lLmlubmVySFRNTD1jLmRlZmF1bHQuc2Vjb25kVG9UaW1lKGUuZHVyYXRpb24pKX0pLHRoaXMub24oXCJwcm9ncmVzc1wiLGZ1bmN0aW9uKCl7dmFyIHQ9ZS5idWZmZXJlZC5sZW5ndGg/ZS5idWZmZXJlZC5lbmQoZS5idWZmZXJlZC5sZW5ndGgtMSkvZS5kdXJhdGlvbjowO24uYmFyLnNldChcImxvYWRlZFwiLHQsXCJ3aWR0aFwiKX0pLHRoaXMub24oXCJlcnJvclwiLGZ1bmN0aW9uKCl7bi50cmFuJiZuLm5vdGljZSYmKG4udHlwZSxuLm5vdGljZShuLnRyYW4oXCJUaGlzIHZpZGVvIGZhaWxzIHRvIGxvYWRcIiksLTEpKX0pLHRoaXMuZW5kZWQ9ITEsdGhpcy5vbihcImVuZGVkXCIsZnVuY3Rpb24oKXtuLmJhci5zZXQoXCJwbGF5ZWRcIiwxLFwid2lkdGhcIiksbi5zZXR0aW5nLmxvb3A/KG4uc2VlaygwKSxlLnBsYXkoKSk6KG4uZW5kZWQ9ITAsbi5wYXVzZSgpKSxuLmRhbm1ha3UmJihuLmRhbm1ha3UuZGFuSW5kZXg9MCl9KSx0aGlzLm9uKFwicGxheVwiLGZ1bmN0aW9uKCl7bi5wYXVzZWQmJm4ucGxheSgpfSksdGhpcy5vbihcInBhdXNlXCIsZnVuY3Rpb24oKXtuLnBhdXNlZHx8bi5wYXVzZSgpfSk7Zm9yKHZhciBpPTA7aTx0aGlzLmV2ZW50cy52aWRlb0V2ZW50cy5sZW5ndGg7aSsrKSFmdW5jdGlvbih0KXtlLmFkZEV2ZW50TGlzdGVuZXIobi5ldmVudHMudmlkZW9FdmVudHNbdF0sZnVuY3Rpb24oKXtuLmV2ZW50cy50cmlnZ2VyKG4uZXZlbnRzLnZpZGVvRXZlbnRzW3RdKX0pfShpKTt0aGlzLnZvbHVtZSh0aGlzLnVzZXIuZ2V0KFwidm9sdW1lXCIpLCEwLCEwKSx0aGlzLm9wdGlvbnMuc3VidGl0bGUmJih0aGlzLnN1YnRpdGxlPW5ldyBfLmRlZmF1bHQodGhpcy50ZW1wbGF0ZS5zdWJ0aXRsZSx0aGlzLnZpZGVvLHRoaXMub3B0aW9ucy5zdWJ0aXRsZSx0aGlzLmV2ZW50cyksdGhpcy51c2VyLmdldChcInN1YnRpdGxlXCIpfHx0aGlzLnN1YnRpdGxlLmhpZGUoKSl9fSx7a2V5Olwic3dpdGNoUXVhbGl0eVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5xdWFsaXR5SW5kZXghPT1lJiYhdGhpcy5zd2l0Y2hpbmdRdWFsaXR5KXt0aGlzLnF1YWxpdHlJbmRleD1lLHRoaXMuc3dpdGNoaW5nUXVhbGl0eT0hMCx0aGlzLnF1YWxpdHk9dGhpcy5vcHRpb25zLnZpZGVvLnF1YWxpdHlbZV0sdGhpcy50ZW1wbGF0ZS5xdWFsaXR5QnV0dG9uLmlubmVySFRNTD10aGlzLnF1YWxpdHkubmFtZTt2YXIgbj10aGlzLnZpZGVvLnBhdXNlZDt0aGlzLnZpZGVvLnBhdXNlKCk7dmFyIGk9dGhpcy50ZW1wbGF0ZS50cGxWaWRlbyghMSxudWxsLHRoaXMub3B0aW9ucy5zY3JlZW5zaG90LFwiYXV0b1wiLHRoaXMucXVhbGl0eS51cmwsdGhpcy5vcHRpb25zLnN1YnRpdGxlKSxhPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoaSxcInRleHQvaHRtbFwiKS5ib2R5LmZpcnN0Q2hpbGQ7dGhpcy50ZW1wbGF0ZS52aWRlb1dyYXAuaW5zZXJ0QmVmb3JlKGEsdGhpcy50ZW1wbGF0ZS52aWRlb1dyYXAuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJkaXZcIilbMF0pLHRoaXMucHJldlZpZGVvPXRoaXMudmlkZW8sdGhpcy52aWRlbz1hLHRoaXMuaW5pdFZpZGVvKHRoaXMudmlkZW8sdGhpcy5xdWFsaXR5LnR5cGV8fHRoaXMub3B0aW9ucy52aWRlby50eXBlKSx0aGlzLnNlZWsodGhpcy5wcmV2VmlkZW8uY3VycmVudFRpbWUpLHRoaXMubm90aWNlKHRoaXMudHJhbihcIlN3aXRjaGluZyB0b1wiKStcIiBcIit0aGlzLnF1YWxpdHkubmFtZStcIiBcIit0aGlzLnRyYW4oXCJxdWFsaXR5XCIpLC0xKSx0aGlzLmV2ZW50cy50cmlnZ2VyKFwicXVhbGl0eV9zdGFydFwiLHRoaXMucXVhbGl0eSksdGhpcy5vbihcImNhbnBsYXlcIixmdW5jdGlvbigpe2lmKHQucHJldlZpZGVvKXtpZih0LnZpZGVvLmN1cnJlbnRUaW1lIT09dC5wcmV2VmlkZW8uY3VycmVudFRpbWUpcmV0dXJuIHZvaWQgdC5zZWVrKHQucHJldlZpZGVvLmN1cnJlbnRUaW1lKTt0LnRlbXBsYXRlLnZpZGVvV3JhcC5yZW1vdmVDaGlsZCh0LnByZXZWaWRlbyksdC52aWRlby5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci12aWRlby1jdXJyZW50XCIpLG58fHQudmlkZW8ucGxheSgpLHQucHJldlZpZGVvPW51bGwsdC5ub3RpY2UodC50cmFuKFwiU3dpdGNoZWQgdG9cIikrXCIgXCIrdC5xdWFsaXR5Lm5hbWUrXCIgXCIrdC50cmFuKFwicXVhbGl0eVwiKSksdC5zd2l0Y2hpbmdRdWFsaXR5PSExLHQuZXZlbnRzLnRyaWdnZXIoXCJxdWFsaXR5X2VuZFwiKX19KX19fSx7a2V5Olwibm90aWNlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToyZTMsaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06Ljg7dGhpcy50ZW1wbGF0ZS5ub3RpY2UuaW5uZXJIVE1MPWUsdGhpcy50ZW1wbGF0ZS5ub3RpY2Uuc3R5bGUub3BhY2l0eT1pLHRoaXMubm90aWNlVGltZSYmY2xlYXJUaW1lb3V0KHRoaXMubm90aWNlVGltZSksdGhpcy5ldmVudHMudHJpZ2dlcihcIm5vdGljZV9zaG93XCIsZSksdGhpcy5ub3RpY2VUaW1lPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LnRlbXBsYXRlLm5vdGljZS5zdHlsZS5vcGFjaXR5PTAsdC5ldmVudHMudHJpZ2dlcihcIm5vdGljZV9oaWRlXCIpfSxuKX19LHtrZXk6XCJyZXNpemVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZGFubWFrdSYmdGhpcy5kYW5tYWt1LnJlc2l6ZSgpLHRoaXMuZXZlbnRzLnRyaWdnZXIoXCJyZXNpemVcIil9fSx7a2V5Olwic3BlZWRcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnZpZGVvLnBsYXliYWNrUmF0ZT1lfX0se2tleTpcImRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbigpe1guc3BsaWNlKFguaW5kZXhPZih0aGlzKSwxKSx0aGlzLnBhdXNlKCksdGhpcy5jb250cm9sbGVyLmRlc3Ryb3koKSx0aGlzLnRpbWUuZGVzdHJveSgpLHRoaXMudmlkZW8uc3JjPVwiXCIsdGhpcy5jb250YWluZXIuaW5uZXJIVE1MPVwiXCIsdGhpcy5ldmVudHMudHJpZ2dlcihcImRlc3Ryb3lcIik7Zm9yKHZhciBlIGluIHRoaXMpdGhpcy5oYXNPd25Qcm9wZXJ0eShlKSYmXCJwYXVzZWRcIiE9PWUmJmRlbGV0ZSB0aGlzW2VdfX1dKSxlfSgpO3QuZGVmYXVsdD1RfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4oKXt9ZnVuY3Rpb24gaShlLHQpe3JldHVybiBmdW5jdGlvbigpe2UuYXBwbHkodCxhcmd1bWVudHMpfX1mdW5jdGlvbiBhKGUsdCl7Zm9yKDszPT09ZS5fc3RhdGU7KWU9ZS5fdmFsdWU7aWYoMD09PWUuX3N0YXRlKXJldHVybiB2b2lkIGUuX2RlZmVycmVkcy5wdXNoKHQpO2UuX2hhbmRsZWQ9ITAsdS5faW1tZWRpYXRlRm4oZnVuY3Rpb24oKXt2YXIgbj0xPT09ZS5fc3RhdGU/dC5vbkZ1bGZpbGxlZDp0Lm9uUmVqZWN0ZWQ7aWYobnVsbD09PW4pcmV0dXJuIHZvaWQoMT09PWUuX3N0YXRlP286cykodC5wcm9taXNlLGUuX3ZhbHVlKTt2YXIgaTt0cnl7aT1uKGUuX3ZhbHVlKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBzKHQucHJvbWlzZSxlKX1vKHQucHJvbWlzZSxpKX0pfWZ1bmN0aW9uIG8oZSx0KXt0cnl7aWYodD09PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkEgcHJvbWlzZSBjYW5ub3QgYmUgcmVzb2x2ZWQgd2l0aCBpdHNlbGYuXCIpO2lmKHQmJihcIm9iamVjdFwiPT09KHZvaWQgMD09PXQ/XCJ1bmRlZmluZWRcIjpkKHQpKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgdCkpe3ZhciBuPXQudGhlbjtpZih0IGluc3RhbmNlb2YgdSlyZXR1cm4gZS5fc3RhdGU9MyxlLl92YWx1ZT10LHZvaWQgcihlKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuKXJldHVybiB2b2lkIGMoaShuLHQpLGUpfWUuX3N0YXRlPTEsZS5fdmFsdWU9dCxyKGUpfWNhdGNoKHQpe3MoZSx0KX19ZnVuY3Rpb24gcyhlLHQpe2UuX3N0YXRlPTIsZS5fdmFsdWU9dCxyKGUpfWZ1bmN0aW9uIHIoZSl7Mj09PWUuX3N0YXRlJiYwPT09ZS5fZGVmZXJyZWRzLmxlbmd0aCYmdS5faW1tZWRpYXRlRm4oZnVuY3Rpb24oKXtlLl9oYW5kbGVkfHx1Ll91bmhhbmRsZWRSZWplY3Rpb25GbihlLl92YWx1ZSl9KTtmb3IodmFyIHQ9MCxuPWUuX2RlZmVycmVkcy5sZW5ndGg7dDxuO3QrKylhKGUsZS5fZGVmZXJyZWRzW3RdKTtlLl9kZWZlcnJlZHM9bnVsbH1mdW5jdGlvbiBsKGUsdCxuKXt0aGlzLm9uRnVsZmlsbGVkPVwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZTpudWxsLHRoaXMub25SZWplY3RlZD1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6bnVsbCx0aGlzLnByb21pc2U9bn1mdW5jdGlvbiBjKGUsdCl7dmFyIG49ITE7dHJ5e2UoZnVuY3Rpb24oZSl7bnx8KG49ITAsbyh0LGUpKX0sZnVuY3Rpb24oZSl7bnx8KG49ITAscyh0LGUpKX0pfWNhdGNoKGUpe2lmKG4pcmV0dXJuO249ITAscyh0LGUpfX1mdW5jdGlvbiB1KGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcm9taXNlcyBtdXN0IGJlIGNvbnN0cnVjdGVkIHZpYSBuZXdcIik7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwibm90IGEgZnVuY3Rpb25cIik7dGhpcy5fc3RhdGU9MCx0aGlzLl9oYW5kbGVkPSExLHRoaXMuX3ZhbHVlPXZvaWQgMCx0aGlzLl9kZWZlcnJlZHM9W10sYyhlLHRoaXMpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBkPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LHA9c2V0VGltZW91dCxoPXUucHJvdG90eXBlO2guY2F0Y2g9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbihudWxsLGUpfSxoLnRoZW49ZnVuY3Rpb24oZSx0KXt2YXIgaT1uZXcgdGhpcy5jb25zdHJ1Y3RvcihuKTtyZXR1cm4gYSh0aGlzLG5ldyBsKGUsdCxpKSksaX0sdS5hbGw9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB1KGZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gaShlLHMpe3RyeXtpZihzJiYoXCJvYmplY3RcIj09PSh2b2lkIDA9PT1zP1widW5kZWZpbmVkXCI6ZChzKSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHMpKXt2YXIgcj1zLnRoZW47aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgcilyZXR1cm4gdm9pZCByLmNhbGwocyxmdW5jdGlvbih0KXtpKGUsdCl9LG4pfWFbZV09cywwPT0tLW8mJnQoYSl9Y2F0Y2goZSl7bihlKX19aWYoIWV8fHZvaWQgMD09PWUubGVuZ3RoKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcm9taXNlLmFsbCBhY2NlcHRzIGFuIGFycmF5XCIpO3ZhciBhPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpO2lmKDA9PT1hLmxlbmd0aClyZXR1cm4gdChbXSk7Zm9yKHZhciBvPWEubGVuZ3RoLHM9MDtzPGEubGVuZ3RoO3MrKylpKHMsYVtzXSl9KX0sdS5yZXNvbHZlPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZcIm9iamVjdFwiPT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjpkKGUpKSYmZS5jb25zdHJ1Y3Rvcj09PXU/ZTpuZXcgdShmdW5jdGlvbih0KXt0KGUpfSl9LHUucmVqZWN0PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdShmdW5jdGlvbih0LG4pe24oZSl9KX0sdS5yYWNlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdShmdW5jdGlvbih0LG4pe2Zvcih2YXIgaT0wLGE9ZS5sZW5ndGg7aTxhO2krKyllW2ldLnRoZW4odCxuKX0pfSx1Ll9pbW1lZGlhdGVGbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZmdW5jdGlvbih0KXtlKHQpfXx8ZnVuY3Rpb24oZSl7cChlLDApfSx1Ll91bmhhbmRsZWRSZWplY3Rpb25Gbj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmY29uc29sZSYmY29uc29sZS53YXJuKFwiUG9zc2libGUgVW5oYW5kbGVkIFByb21pc2UgUmVqZWN0aW9uOlwiLGUpfSx0LmRlZmF1bHQ9dX0pLmNhbGwodCxuKDUpLnNldEltbWVkaWF0ZSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7dGhpcy5faWQ9ZSx0aGlzLl9jbGVhckZuPXR9dmFyIGE9RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O3Quc2V0VGltZW91dD1mdW5jdGlvbigpe3JldHVybiBuZXcgaShhLmNhbGwoc2V0VGltZW91dCx3aW5kb3csYXJndW1lbnRzKSxjbGVhclRpbWVvdXQpfSx0LnNldEludGVydmFsPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKGEuY2FsbChzZXRJbnRlcnZhbCx3aW5kb3csYXJndW1lbnRzKSxjbGVhckludGVydmFsKX0sdC5jbGVhclRpbWVvdXQ9dC5jbGVhckludGVydmFsPWZ1bmN0aW9uKGUpe2UmJmUuY2xvc2UoKX0saS5wcm90b3R5cGUudW5yZWY9aS5wcm90b3R5cGUucmVmPWZ1bmN0aW9uKCl7fSxpLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFyRm4uY2FsbCh3aW5kb3csdGhpcy5faWQpfSx0LmVucm9sbD1mdW5jdGlvbihlLHQpe2NsZWFyVGltZW91dChlLl9pZGxlVGltZW91dElkKSxlLl9pZGxlVGltZW91dD10fSx0LnVuZW5yb2xsPWZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChlLl9pZGxlVGltZW91dElkKSxlLl9pZGxlVGltZW91dD0tMX0sdC5fdW5yZWZBY3RpdmU9dC5hY3RpdmU9ZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KGUuX2lkbGVUaW1lb3V0SWQpO3ZhciB0PWUuX2lkbGVUaW1lb3V0O3Q+PTAmJihlLl9pZGxlVGltZW91dElkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLl9vblRpbWVvdXQmJmUuX29uVGltZW91dCgpfSx0KSl9LG4oNiksdC5zZXRJbW1lZGlhdGU9c2V0SW1tZWRpYXRlLHQuY2xlYXJJbW1lZGlhdGU9Y2xlYXJJbW1lZGlhdGV9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSx0KXshZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiBpKGUpe1wiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJihlPW5ldyBGdW5jdGlvbihcIlwiK2UpKTtmb3IodmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSksbj0wO248dC5sZW5ndGg7bisrKXRbbl09YXJndW1lbnRzW24rMV07dmFyIGk9e2NhbGxiYWNrOmUsYXJnczp0fTtyZXR1cm4gY1tsXT1pLHIobCksbCsrfWZ1bmN0aW9uIGEoZSl7ZGVsZXRlIGNbZV19ZnVuY3Rpb24gbyhlKXt2YXIgdD1lLmNhbGxiYWNrLGk9ZS5hcmdzO3N3aXRjaChpLmxlbmd0aCl7Y2FzZSAwOnQoKTticmVhaztjYXNlIDE6dChpWzBdKTticmVhaztjYXNlIDI6dChpWzBdLGlbMV0pO2JyZWFrO2Nhc2UgMzp0KGlbMF0saVsxXSxpWzJdKTticmVhaztkZWZhdWx0OnQuYXBwbHkobixpKX19ZnVuY3Rpb24gcyhlKXtpZih1KXNldFRpbWVvdXQocywwLGUpO2Vsc2V7dmFyIHQ9Y1tlXTtpZih0KXt1PSEwO3RyeXtvKHQpfWZpbmFsbHl7YShlKSx1PSExfX19fWlmKCFlLnNldEltbWVkaWF0ZSl7dmFyIHIsbD0xLGM9e30sdT0hMSxkPWUuZG9jdW1lbnQscD1PYmplY3QuZ2V0UHJvdG90eXBlT2YmJk9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtwPXAmJnAuc2V0VGltZW91dD9wOmUsXCJbb2JqZWN0IHByb2Nlc3NdXCI9PT17fS50b1N0cmluZy5jYWxsKGUucHJvY2Vzcyk/ZnVuY3Rpb24oKXtyPWZ1bmN0aW9uKGUpe3QubmV4dFRpY2soZnVuY3Rpb24oKXtzKGUpfSl9fSgpOmZ1bmN0aW9uKCl7aWYoZS5wb3N0TWVzc2FnZSYmIWUuaW1wb3J0U2NyaXB0cyl7dmFyIHQ9ITAsbj1lLm9ubWVzc2FnZTtyZXR1cm4gZS5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXt0PSExfSxlLnBvc3RNZXNzYWdlKFwiXCIsXCIqXCIpLGUub25tZXNzYWdlPW4sdH19KCk/ZnVuY3Rpb24oKXt2YXIgdD1cInNldEltbWVkaWF0ZSRcIitNYXRoLnJhbmRvbSgpK1wiJFwiLG49ZnVuY3Rpb24obil7bi5zb3VyY2U9PT1lJiZcInN0cmluZ1wiPT10eXBlb2Ygbi5kYXRhJiYwPT09bi5kYXRhLmluZGV4T2YodCkmJnMoK24uZGF0YS5zbGljZSh0Lmxlbmd0aCkpfTtlLmFkZEV2ZW50TGlzdGVuZXI/ZS5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLG4sITEpOmUuYXR0YWNoRXZlbnQoXCJvbm1lc3NhZ2VcIixuKSxyPWZ1bmN0aW9uKG4pe2UucG9zdE1lc3NhZ2UodCtuLFwiKlwiKX19KCk6ZS5NZXNzYWdlQ2hhbm5lbD9mdW5jdGlvbigpe3ZhciBlPW5ldyBNZXNzYWdlQ2hhbm5lbDtlLnBvcnQxLm9ubWVzc2FnZT1mdW5jdGlvbihlKXtzKGUuZGF0YSl9LHI9ZnVuY3Rpb24odCl7ZS5wb3J0Mi5wb3N0TWVzc2FnZSh0KX19KCk6ZCYmXCJvbnJlYWR5c3RhdGVjaGFuZ2VcImluIGQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKT9mdW5jdGlvbigpe3ZhciBlPWQuZG9jdW1lbnRFbGVtZW50O3I9ZnVuY3Rpb24odCl7dmFyIG49ZC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO24ub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7cyh0KSxuLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGUucmVtb3ZlQ2hpbGQobiksbj1udWxsfSxlLmFwcGVuZENoaWxkKG4pfX0oKTpmdW5jdGlvbigpe3I9ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzLDAsZSl9fSgpLHAuc2V0SW1tZWRpYXRlPWkscC5jbGVhckltbWVkaWF0ZT1hfX0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNlbGY/dm9pZCAwPT09ZT92b2lkIDA6ZTpzZWxmKX0pLmNhbGwodCxuKDcpLG4oOCkpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGksYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfTtpPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCk7dHJ5e2k9aXx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfHwoMCxldmFsKShcInRoaXNcIil9Y2F0Y2goZSl7XCJvYmplY3RcIj09PShcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93P1widW5kZWZpbmVkXCI6YSh3aW5kb3cpKSYmKGk9d2luZG93KX1lLmV4cG9ydHM9aX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoKXt0aHJvdyBuZXcgRXJyb3IoXCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIGEoKXt0aHJvdyBuZXcgRXJyb3IoXCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gbyhlKXtpZihkPT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dChlLDApO2lmKChkPT09aXx8IWQpJiZzZXRUaW1lb3V0KXJldHVybiBkPXNldFRpbWVvdXQsc2V0VGltZW91dChlLDApO3RyeXtyZXR1cm4gZChlLDApfWNhdGNoKHQpe3RyeXtyZXR1cm4gZC5jYWxsKG51bGwsZSwwKX1jYXRjaCh0KXtyZXR1cm4gZC5jYWxsKHRoaXMsZSwwKX19fWZ1bmN0aW9uIHMoZSl7aWYocD09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KGUpO2lmKChwPT09YXx8IXApJiZjbGVhclRpbWVvdXQpcmV0dXJuIHA9Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dChlKTt0cnl7cmV0dXJuIHAoZSl9Y2F0Y2godCl7dHJ5e3JldHVybiBwLmNhbGwobnVsbCxlKX1jYXRjaCh0KXtyZXR1cm4gcC5jYWxsKHRoaXMsZSl9fX1mdW5jdGlvbiByKCl7ZiYmeSYmKGY9ITEseS5sZW5ndGg/bT15LmNvbmNhdChtKTp2PS0xLG0ubGVuZ3RoJiZsKCkpfWZ1bmN0aW9uIGwoKXtpZighZil7dmFyIGU9byhyKTtmPSEwO2Zvcih2YXIgdD1tLmxlbmd0aDt0Oyl7Zm9yKHk9bSxtPVtdOysrdjx0Oyl5JiZ5W3ZdLnJ1bigpO3Y9LTEsdD1tLmxlbmd0aH15PW51bGwsZj0hMSxzKGUpfX1mdW5jdGlvbiBjKGUsdCl7dGhpcy5mdW49ZSx0aGlzLmFycmF5PXR9ZnVuY3Rpb24gdSgpe312YXIgZCxwLGg9ZS5leHBvcnRzPXt9OyFmdW5jdGlvbigpe3RyeXtkPVwiZnVuY3Rpb25cIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDppfWNhdGNoKGUpe2Q9aX10cnl7cD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0OmF9Y2F0Y2goZSl7cD1hfX0oKTt2YXIgeSxtPVtdLGY9ITEsdj0tMTtoLm5leHRUaWNrPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07bS5wdXNoKG5ldyBjKGUsdCkpLDEhPT1tLmxlbmd0aHx8Znx8byhsKX0sYy5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0saC50aXRsZT1cImJyb3dzZXJcIixoLmJyb3dzZXI9ITAsaC5lbnY9e30saC5hcmd2PVtdLGgudmVyc2lvbj1cIlwiLGgudmVyc2lvbnM9e30saC5vbj11LGguYWRkTGlzdGVuZXI9dSxoLm9uY2U9dSxoLm9mZj11LGgucmVtb3ZlTGlzdGVuZXI9dSxoLnJlbW92ZUFsbExpc3RlbmVycz11LGguZW1pdD11LGgucHJlcGVuZExpc3RlbmVyPXUsaC5wcmVwZW5kT25jZUxpc3RlbmVyPXUsaC5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuW119LGguYmluZGluZz1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX0saC5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIn0saC5jaGRpcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIil9LGgudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxvPW4oMTApLHM9aShvKSxyPW4oMTEpLGw9aShyKTt0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9e2NvbnRhaW5lcjplLmVsZW1lbnR8fGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJkcGxheWVyXCIpWzBdLGxpdmU6ITEsYXV0b3BsYXk6ITEsdGhlbWU6XCIjYjdkYWZmXCIsbG9vcDohMSxsYW5nOihuYXZpZ2F0b3IubGFuZ3VhZ2V8fG5hdmlnYXRvci5icm93c2VyTGFuZ3VhZ2UpLnRvTG93ZXJDYXNlKCksc2NyZWVuc2hvdDohMSxob3RrZXk6ITAscHJlbG9hZDpcImF1dG9cIix2b2x1bWU6LjcsYXBpQmFja2VuZDpsLmRlZmF1bHQsdmlkZW86e30saWNvbnM6e3BsYXk6W1wiMCAwIDE2IDMyXCIsXCJNMTUuNTUyIDE1LjE2OHEwLjQ0OCAwLjMyIDAuNDQ4IDAuODMyIDAgMC40NDgtMC40NDggMC43NjhsLTEzLjY5NiA4LjUxMnEtMC43NjggMC41MTItMS4zMTIgMC4xOTJ0LTAuNTQ0LTEuMjh2LTE2LjQ0OHEwLTAuOTYgMC41NDQtMS4yOHQxLjMxMiAwLjE5MnpcIl0scGF1c2U6W1wiMCAwIDE3IDMyXCIsXCJNMTQuMDgwIDQuOHEyLjg4IDAgMi44OCAyLjA0OHYxOC4yNHEwIDIuMTEyLTIuODggMi4xMTJ0LTIuODgtMi4xMTJ2LTE4LjI0cTAtMi4wNDggMi44OC0yLjA0OHpNMi44OCA0LjhxMi44OCAwIDIuODggMi4wNDh2MTguMjRxMCAyLjExMi0yLjg4IDIuMTEydC0yLjg4LTIuMTEydi0xOC4yNHEwLTIuMDQ4IDIuODgtMi4wNDh6XCJdLFwidm9sdW1lLXVwXCI6W1wiMCAwIDIxIDMyXCIsXCJNMTMuNzI4IDYuMjcydjE5LjQ1NnEwIDAuNDQ4LTAuMzUyIDAuOHQtMC44IDAuMzItMC44LTAuMzJsLTUuOTUyLTUuOTUyaC00LjY3MnEtMC40OCAwLTAuOC0wLjM1MnQtMC4zNTItMC44di02Ljg0OHEwLTAuNDggMC4zNTItMC44dDAuOC0wLjM1Mmg0LjY3Mmw1Ljk1Mi01Ljk1MnEwLjMyLTAuMzIgMC44LTAuMzJ0MC44IDAuMzIgMC4zNTIgMC44ek0yMC41NzYgMTZxMCAxLjM0NC0wLjc2OCAyLjUyOHQtMi4wMTYgMS42NjRxLTAuMTYgMC4wOTYtMC40NDggMC4wOTYtMC40NDggMC0wLjgtMC4zMnQtMC4zMi0wLjgzMnEwLTAuMzg0IDAuMTkyLTAuNjR0MC41NDQtMC40NDggMC42MDgtMC4zODQgMC41MTItMC42NCAwLjE5Mi0xLjAyNC0wLjE5Mi0xLjAyNC0wLjUxMi0wLjY0LTAuNjA4LTAuMzg0LTAuNTQ0LTAuNDQ4LTAuMTkyLTAuNjRxMC0wLjQ4IDAuMzItMC44MzJ0MC44LTAuMzJxMC4yODggMCAwLjQ0OCAwLjA5NiAxLjI0OCAwLjQ4IDIuMDE2IDEuNjY0dDAuNzY4IDIuNTI4ek0yNS4xNTIgMTZxMCAyLjcyLTEuNTM2IDUuMDU2dC00IDMuMzZxLTAuMjU2IDAuMDk2LTAuNDQ4IDAuMDk2LTAuNDggMC0wLjgzMi0wLjM1MnQtMC4zMi0wLjhxMC0wLjcwNCAwLjY3Mi0xLjA1NiAxLjAyNC0wLjUxMiAxLjM3Ni0wLjggMS4zMTItMC45NiAyLjA0OC0yLjR0MC43MzYtMy4xMDQtMC43MzYtMy4xMDQtMi4wNDgtMi40cS0wLjM1Mi0wLjI4OC0xLjM3Ni0wLjgtMC42NzItMC4zNTItMC42NzItMS4wNTYgMC0wLjQ0OCAwLjMyLTAuOHQwLjgtMC4zNTJxMC4yMjQgMCAwLjQ4IDAuMDk2IDIuNDk2IDEuMDU2IDQgMy4zNnQxLjUzNiA1LjA1NnpcIl0sXCJ2b2x1bWUtZG93blwiOltcIjAgMCAyMSAzMlwiLFwiTTEzLjcyOCA2LjI3MnYxOS40NTZxMCAwLjQ0OC0wLjM1MiAwLjh0LTAuOCAwLjMyLTAuOC0wLjMybC01Ljk1Mi01Ljk1MmgtNC42NzJxLTAuNDggMC0wLjgtMC4zNTJ0LTAuMzUyLTAuOHYtNi44NDhxMC0wLjQ4IDAuMzUyLTAuOHQwLjgtMC4zNTJoNC42NzJsNS45NTItNS45NTJxMC4zMi0wLjMyIDAuOC0wLjMydDAuOCAwLjMyIDAuMzUyIDAuOHpNMjAuNTc2IDE2cTAgMS4zNDQtMC43NjggMi41Mjh0LTIuMDE2IDEuNjY0cS0wLjE2IDAuMDk2LTAuNDQ4IDAuMDk2LTAuNDQ4IDAtMC44LTAuMzJ0LTAuMzItMC44MzJxMC0wLjM4NCAwLjE5Mi0wLjY0dDAuNTQ0LTAuNDQ4IDAuNjA4LTAuMzg0IDAuNTEyLTAuNjQgMC4xOTItMS4wMjQtMC4xOTItMS4wMjQtMC41MTItMC42NC0wLjYwOC0wLjM4NC0wLjU0NC0wLjQ0OC0wLjE5Mi0wLjY0cTAtMC40OCAwLjMyLTAuODMydDAuOC0wLjMycTAuMjg4IDAgMC40NDggMC4wOTYgMS4yNDggMC40OCAyLjAxNiAxLjY2NHQwLjc2OCAyLjUyOHpcIl0sXCJ2b2x1bWUtb2ZmXCI6W1wiMCAwIDIxIDMyXCIsXCJNMTMuNzI4IDYuMjcydjE5LjQ1NnEwIDAuNDQ4LTAuMzUyIDAuOHQtMC44IDAuMzItMC44LTAuMzJsLTUuOTUyLTUuOTUyaC00LjY3MnEtMC40OCAwLTAuOC0wLjM1MnQtMC4zNTItMC44di02Ljg0OHEwLTAuNDggMC4zNTItMC44dDAuOC0wLjM1Mmg0LjY3Mmw1Ljk1Mi01Ljk1MnEwLjMyLTAuMzIgMC44LTAuMzJ0MC44IDAuMzIgMC4zNTIgMC44elwiXSxsb29wOltcIjAgMCAzMiAzMlwiLFwiTTEuODgyIDE2Ljk0MWMwIDQuMTUyIDMuMjIxIDcuNTI5IDcuMTc3IDcuNTI5djEuODgyYy00Ljk5NiAwLTkuMDYwLTQuMjIyLTkuMDYwLTkuNDEyczQuMDY0LTkuNDEyIDkuMDYwLTkuNDEyaDcuOTZsLTMuMDk4LTMuMDk4IDEuMzMxLTEuMzMxIDUuMzcyIDUuMzctNS4zNyA1LjM3Mi0xLjMzMy0xLjMzMyAzLjEtMy4wOThoLTcuOTYyYy0zLjk1NyAwLTcuMTc3IDMuMzc3LTcuMTc3IDcuNTI5ek0yMi45NCA3LjUyOXYxLjg4MmMzLjk1NyAwIDcuMTc3IDMuMzc3IDcuMTc3IDcuNTI5cy0zLjIyMSA3LjUyOS03LjE3NyA3LjUyOWgtNy45NjJsMy4wOTgtMy4wOTgtMS4zMzEtMS4zMzEtNS4zNyA1LjM3IDUuMzcyIDUuMzcyIDEuMzMxLTEuMzMxLTMuMS0zLjFoNy45NmM0Ljk5OCAwIDkuMDYyLTQuMjIyIDkuMDYyLTkuNDEycy00LjA2NC05LjQxMi05LjA2MC05LjQxMnpcIl0sZnVsbDpbXCIwIDAgMzIgMzNcIixcIk02LjY2NyAyOGgtNS4zMzNjLTAuOCAwLTEuMzMzLTAuNTMzLTEuMzMzLTEuMzMzdi01LjMzM2MwLTAuOCAwLjUzMy0xLjMzMyAxLjMzMy0xLjMzM3MxLjMzMyAwLjUzMyAxLjMzMyAxLjMzM3Y0aDRjMC44IDAgMS4zMzMgMC41MzMgMS4zMzMgMS4zMzNzLTAuNTMzIDEuMzMzLTEuMzMzIDEuMzMzek0zMC42NjcgMjhoLTUuMzMzYy0wLjggMC0xLjMzMy0wLjUzMy0xLjMzMy0xLjMzM3MwLjUzMy0xLjMzMyAxLjMzMy0xLjMzM2g0di00YzAtMC44IDAuNTMzLTEuMzMzIDEuMzMzLTEuMzMzczEuMzMzIDAuNTMzIDEuMzMzIDEuMzMzdjUuMzMzYzAgMC44LTAuNTMzIDEuMzMzLTEuMzMzIDEuMzMzek0zMC42NjcgMTJjLTAuOCAwLTEuMzMzLTAuNTMzLTEuMzMzLTEuMzMzdi00aC00Yy0wLjggMC0xLjMzMy0wLjUzMy0xLjMzMy0xLjMzM3MwLjUzMy0xLjMzMyAxLjMzMy0xLjMzM2g1LjMzM2MwLjggMCAxLjMzMyAwLjUzMyAxLjMzMyAxLjMzM3Y1LjMzM2MwIDAuOC0wLjUzMyAxLjMzMy0xLjMzMyAxLjMzM3pNMS4zMzMgMTJjLTAuOCAwLTEuMzMzLTAuNTMzLTEuMzMzLTEuMzMzdi01LjMzM2MwLTAuOCAwLjUzMy0xLjMzMyAxLjMzMy0xLjMzM2g1LjMzM2MwLjggMCAxLjMzMyAwLjUzMyAxLjMzMyAxLjMzM3MtMC41MzMgMS4zMzMtMS4zMzMgMS4zMzNoLTR2NGMwIDAuOC0wLjUzMyAxLjMzMy0xLjMzMyAxLjMzM3pcIl0sXCJmdWxsLWluXCI6W1wiMCAwIDMyIDMzXCIsXCJNMjQuOTY1IDI0LjM4aC0xOC4xMzJjLTEuMzY2IDAtMi40NzgtMS4xMTMtMi40NzgtMi40Nzh2LTExLjgwNmMwLTEuMzY0IDEuMTExLTIuNDc4IDIuNDc4LTIuNDc4aDE4LjEzMmMxLjM2NiAwIDIuNDc4IDEuMTEzIDIuNDc4IDIuNDc4djExLjgwNmMwIDEuMzY0LTEuMTEgMi40NzgtMi40NzggMi40Nzh6TTYuODMzIDEwLjA5N3YxMS44MDZoMTguMTM0bC0wLjAwMi0xMS44MDZoLTE4LjEzMnpNMi40NzggMjguOTI4aDUuOTUyYzAuNjg0IDAgMS4yMzgtMC41NTQgMS4yMzgtMS4yMzkgMC0wLjY4NC0wLjU1NC0xLjIzOC0xLjIzOC0xLjIzOGgtNS45NTJ2LTUuODAyYzAtMC42ODQtMC41NTQtMS4yMzktMS4yMzgtMS4yMzlzLTEuMjM5IDAuNTU2LTEuMjM5IDEuMjM5djUuODAyYzAgMS4zNjUgMS4xMTEgMi40NzggMi40NzggMi40Nzh6TTMwLjc2MSAxOS40MTJjLTAuNjg0IDAtMS4yMzggMC41NTQtMS4yMzggMS4yMzh2NS44MDFoLTUuOTUxYy0wLjY4NiAwLTEuMjM5IDAuNTU0LTEuMjM5IDEuMjM4IDAgMC42ODYgMC41NTQgMS4yMzkgMS4yMzkgMS4yMzloNS45NTFjMS4zNjYgMCAyLjQ3OC0xLjExMSAyLjQ3OC0yLjQ3OHYtNS44MDFjMC0wLjY4My0wLjU1NC0xLjIzOC0xLjIzOS0xLjIzOHpNMCA1LjU1djUuODAyYzAgMC42ODMgMC41NTQgMS4yMzggMS4yMzggMS4yMzhzMS4yMzgtMC41NTUgMS4yMzgtMS4yMzh2LTUuODAyaDUuOTUyYzAuNjg0IDAgMS4yMzgtMC41NTQgMS4yMzgtMS4yMzhzLTAuNTU0LTEuMjM4LTEuMjM4LTEuMjM4aC01Ljk1MWMtMS4zNjYtMC4wMDEtMi40NzggMS4xMTEtMi40NzggMi40NzZ6TTMyIDExLjM1di01LjgwMWMwLTEuMzY1LTEuMTEtMi40NzgtMi40NzgtMi40NzhoLTUuOTUxYy0wLjY4NiAwLTEuMjM5IDAuNTU0LTEuMjM5IDEuMjM4czAuNTU0IDEuMjM4IDEuMjM5IDEuMjM4aDUuOTUxdjUuODAxYzAgMC42ODMgMC41NTQgMS4yMzcgMS4yMzggMS4yMzcgMC42ODYgMC4wMDIgMS4yMzktMC41NTMgMS4yMzktMS4yMzZ6XCJdLHNldHRpbmc6W1wiMCAwIDMyIDI4XCIsXCJNMjguNjMzIDE3LjEwNGMwLjAzNSAwLjIxIDAuMDI2IDAuNDYzLTAuMDI2IDAuNzZzLTAuMTQgMC41OTgtMC4yNjIgMC45MDRjLTAuMTIyIDAuMzA2LTAuMjcxIDAuNTgxLTAuNDQ1IDAuODI1cy0wLjM2NyAwLjQxOS0wLjU3NiAwLjUyNGMtMC4yMDkgMC4xMDUtMC4zOTMgMC4xNTctMC41NSAwLjE1N3MtMC4zMzItMC4wMzUtMC41MjQtMC4xMDVjLTAuMTc1LTAuMDUyLTAuMzkzLTAuMS0wLjY1NS0wLjE0NHMtMC41MjgtMC4wNTItMC43OTktMC4wMjZjLTAuMjcxIDAuMDI2LTAuNTQxIDAuMDgzLTAuODEyIDAuMTdzLTAuNTAyIDAuMjM2LTAuNjk0IDAuNDQ1Yy0wLjQxOSAwLjQzNy0wLjY2NCAwLjkzNC0wLjczNCAxLjQ5M3MwLjAwOSAxLjA5MiAwLjIzNiAxLjU5OGMwLjE3NSAwLjM0OSAwLjE0OCAwLjY5OS0wLjA3OSAxLjA0OC0wLjEwNSAwLjE0LTAuMjcxIDAuMjg0LTAuNDk4IDAuNDMycy0wLjQ3NiAwLjI4NC0wLjc0NyAwLjQwNi0wLjU1NSAwLjIxOC0wLjg1MSAwLjI4OGMtMC4yOTcgMC4wNzAtMC41NTkgMC4xMDUtMC43ODYgMC4xMDUtMC4xNTcgMC0wLjMwNi0wLjA2MS0wLjQ0NS0wLjE4M3MtMC4yMzYtMC4yNTMtMC4yODgtMC4zOTNoLTAuMDI2Yy0wLjE5Mi0wLjU0MS0wLjUyLTEuMDA5LTAuOTgyLTEuNDAycy0xLTAuNTg5LTEuNjExLTAuNTg5Yy0wLjU5NCAwLTEuMTMxIDAuMTk3LTEuNjExIDAuNTg5cy0wLjgxNiAwLjg1MS0xLjAwOSAxLjM3NWMtMC4wODcgMC4yMS0wLjIxOCAwLjM2Mi0wLjM5MyAwLjQ1OHMtMC4zNjcgMC4xNDQtMC41NzYgMC4xNDRjLTAuMjQ0IDAtMC41Mi0wLjA0NC0wLjgyNS0wLjEzMXMtMC42MTEtMC4xOTctMC45MTctMC4zMjdjLTAuMzA2LTAuMTMxLTAuNTgxLTAuMjg0LTAuODI1LTAuNDU4cy0wLjQyOC0wLjM0OS0wLjU1LTAuNTI0Yy0wLjA4Ny0wLjEyMi0wLjEzNS0wLjI2Ni0wLjE0NC0wLjQzMnMwLjA1Ny0wLjM5NyAwLjE5Ny0wLjY5NGMwLjE5Mi0wLjQwMiAwLjI2Ni0wLjg2IDAuMjIzLTEuMzc1cy0wLjI2Ni0wLjk5MS0wLjY2OC0xLjQyOGMtMC4yNDQtMC4yNjItMC41NDEtMC40MzItMC44OTEtMC41MTFzLTAuNjgxLTAuMTA5LTAuOTk1LTAuMDkyYy0wLjM2NyAwLjAxNy0wLjc0MiAwLjA4Ny0xLjEyNyAwLjIxLTAuMjQ0IDAuMDcwLTAuNDg5IDAuMDUyLTAuNzM0LTAuMDUyLTAuMTkyLTAuMDcwLTAuMzcxLTAuMjMxLTAuNTM3LTAuNDg1cy0wLjMxNC0wLjUzMy0wLjQ0NS0wLjgzOGMtMC4xMzEtMC4zMDYtMC4yMzEtMC42Mi0wLjMwMS0wLjk0M3MtMC4wODctMC41OS0wLjA1Mi0wLjc5OWMwLjA1Mi0wLjM4NCAwLjIyNy0wLjYyOSAwLjUyNC0wLjczNCAwLjUyNC0wLjIxIDAuOTk1LTAuNTU1IDEuNDE1LTEuMDM1czAuNjI5LTEuMDE3IDAuNjI5LTEuNjExYzAtMC42MTEtMC4yMS0xLjE0NC0wLjYyOS0xLjU5OHMtMC44OTEtMC43ODYtMS40MTUtMC45OTZjLTAuMTU3LTAuMDUyLTAuMjg4LTAuMTc5LTAuMzkzLTAuMzhzLTAuMTU3LTAuNDA2LTAuMTU3LTAuNjE2YzAtMC4yMjcgMC4wMzUtMC40OCAwLjEwNS0wLjc2czAuMTYyLTAuNTUgMC4yNzUtMC44MTIgMC4yNDQtMC41MDIgMC4zOTMtMC43MmMwLjE0OC0wLjIxOCAwLjMxLTAuMzggMC40ODUtMC40ODUgMC4xNC0wLjA4NyAwLjI3NS0wLjEyMiAwLjQwNi0wLjEwNXMwLjI3NSAwLjA1MiAwLjQzMiAwLjEwNWMwLjUyNCAwLjIxIDEuMDcwIDAuMjc1IDEuNjM3IDAuMTk3czEuMDcwLTAuMzI3IDEuNTA2LTAuNzQ3YzAuMjEtMC4yMDkgMC4zNjItMC40NjcgMC40NTgtMC43NzNzMC4xNTctMC42MDcgMC4xODMtMC45MDRjMC4wMjYtMC4yOTcgMC4wMjYtMC41NjggMC0wLjgxMnMtMC4wNDgtMC40MTktMC4wNjUtMC41MjRjLTAuMDM1LTAuMTA1LTAuMDY2LTAuMjI3LTAuMDkyLTAuMzY3cy0wLjAxMy0wLjI2MiAwLjAzOS0wLjM2N2MwLjEwNS0wLjI0NCAwLjI5My0wLjQ1OCAwLjU2My0wLjY0MnMwLjU2My0wLjMzNiAwLjg3OC0wLjQ1OGMwLjMxNC0wLjEyMiAwLjYyLTAuMjE0IDAuOTE3LTAuMjc1czAuNTMzLTAuMDkyIDAuNzA3LTAuMDkyYzAuMjI3IDAgMC40MDYgMC4wNzQgMC41MzcgMC4yMjNzMC4yMjMgMC4zMDEgMC4yNzUgMC40NThjMC4xOTIgMC40NzEgMC41MDcgMC44ODYgMC45NDMgMS4yNDRzMC45NTIgMC41MzcgMS41NDYgMC41MzdjMC42MTEgMCAxLjE1My0wLjE3IDEuNjI0LTAuNTExczAuODAzLTAuNzczIDAuOTk2LTEuMjk3YzAuMDcwLTAuMTQgMC4xNzktMC4yODQgMC4zMjctMC40MzJzMC4zMDEtMC4yMjMgMC40NTgtMC4yMjNjMC4yNDQgMCAwLjUxMSAwLjAzNSAwLjc5OSAwLjEwNXMwLjU3MiAwLjE2NiAwLjg1MSAwLjI4OGMwLjI3OSAwLjEyMiAwLjUzNyAwLjI3OSAwLjc3MyAwLjQ3MnMwLjQyMyAwLjQwMiAwLjU2MyAwLjYyOWMwLjA4NyAwLjE0IDAuMTEzIDAuMjkzIDAuMDc5IDAuNDU4cy0wLjA3MCAwLjI4NC0wLjEwNSAwLjM1NGMtMC4yMjcgMC41MDYtMC4yOTcgMS4wMzktMC4yMSAxLjU5OHMwLjM0MSAxLjA0OCAwLjc2IDEuNDY3YzAuNDE5IDAuNDE5IDAuOTM0IDAuNjUxIDEuNTQ2IDAuNjk0czEuMTc5LTAuMDU3IDEuNzAzLTAuMzAxYzAuMTQtMC4wODcgMC4zMS0wLjEyMiAwLjUxMS0wLjEwNXMwLjM3MSAwLjA5NiAwLjUxMSAwLjIzNmMwLjI2MiAwLjI0NCAwLjQ5MyAwLjYxNiAwLjY5NCAxLjExM3MwLjMzNiAxIDAuNDA2IDEuNTA2YzAuMDM1IDAuMjk3LTAuMDEzIDAuNTI4LTAuMTQ0IDAuNjk0cy0wLjI2NiAwLjI3NS0wLjQwNiAwLjMyN2MtMC41NDIgMC4xOTItMS4wMDQgMC41MjgtMS4zODggMS4wMDlzLTAuNTc2IDEuMDI2LTAuNTc2IDEuNjM3YzAgMC41OTQgMC4xNjIgMS4xMTMgMC40ODUgMS41NTlzMC43NDcgMC43NjQgMS4yNyAwLjk1NmMwLjEyMiAwLjA3MCAwLjIyNyAwLjE0IDAuMzE0IDAuMjEgMC4xOTIgMC4xNTcgMC4zMjMgMC4zNTggMC4zOTMgMC42MDJ2MHpNMTYuNDUxIDE5LjQ2MmMwLjc4NiAwIDEuNTI4LTAuMTQ5IDIuMjI3LTAuNDQ1czEuMzA1LTAuNzA3IDEuODIxLTEuMjMxYzAuNTE1LTAuNTI0IDAuOTIxLTEuMTMxIDEuMjE4LTEuODIxczAuNDQ1LTEuNDI4IDAuNDQ1LTIuMjE0YzAtMC43ODYtMC4xNDgtMS41MjQtMC40NDUtMi4yMTRzLTAuNzAzLTEuMjkyLTEuMjE4LTEuODA4Yy0wLjUxNS0wLjUxNS0xLjEyMi0wLjkyMS0xLjgyMS0xLjIxOHMtMS40NDEtMC40NDUtMi4yMjctMC40NDVjLTAuNzg2IDAtMS41MjQgMC4xNDgtMi4yMTQgMC40NDVzLTEuMjkyIDAuNzAzLTEuODA4IDEuMjE4Yy0wLjUxNSAwLjUxNS0wLjkyMSAxLjExOC0xLjIxOCAxLjgwOHMtMC40NDUgMS40MjgtMC40NDUgMi4yMTRjMCAwLjc4NiAwLjE0OSAxLjUyNCAwLjQ0NSAyLjIxNHMwLjcwMyAxLjI5NyAxLjIxOCAxLjgyMWMwLjUxNSAwLjUyNCAxLjExOCAwLjkzNCAxLjgwOCAxLjIzMXMxLjQyOCAwLjQ0NSAyLjIxNCAwLjQ0NXYwelwiXSxyaWdodDpbXCIwIDAgMzIgMzJcIixcIk0yMiAxNmwtMTAuMTA1LTEwLjYtMS44OTUgMS45ODcgOC4yMTEgOC42MTMtOC4yMTEgOC42MTIgMS44OTUgMS45ODggOC4yMTEtOC42MTN6XCJdLGNvbW1lbnQ6W1wiMCAwIDMyIDMyXCIsXCJNMjcuMTI4IDAuMzhoLTIyLjU1M2MtMi4zMzYgMC00LjIyOSAxLjgyNS00LjIyOSA0LjA3NnYxNi4yNzNjMCAyLjI1MSAxLjg5MyA0LjA3NiA0LjIyOSA0LjA3Nmg0LjIyOXYtMi42ODVoOC40MDNsLTguNzg0IDguMDcyIDEuNTY2IDEuNDQgNy40MjktNi44MjdoOS43MWMyLjMzNSAwIDQuMjI5LTEuODI1IDQuMjI5LTQuMDc2di0xNi4yNzNjMC0yLjI1Mi0xLjg5NC00LjA3Ni00LjIyOS00LjA3NnpNMjguNTM4IDE5LjQwM2MwIDEuNS0xLjI2MiAyLjcxNy0yLjgxOSAyLjcxN2gtOC4zNmwtMC4wNzYtMC4wNzAtMC4wNzYgMC4wNzBoLTExLjIyM2MtMS41NTcgMC0yLjgxOS0xLjIxNy0yLjgxOS0yLjcxN3YtMTMuNTg5YzAtMS41MDEgMS4yNjItMi43MTggMi44MTktMi43MThoMTkuNzM0YzEuNTU3IDAgMi44MTktMC4xNDEgMi44MTkgMS4zNTl2MTQuOTQ3ek05LjIwNiAxMC41NTdjLTEuMjIyIDAtMi4yMTUgMC45MTEtMi4yMTUgMi4wMzZzMC45OTIgMi4wMzUgMi4yMTUgMi4wMzVjMS4yMjQgMCAyLjIxNi0wLjkxMSAyLjIxNi0yLjAzNXMtMC45OTItMi4wMzYtMi4yMTYtMi4wMzZ6TTIyLjQ5NiAxMC41NTdjLTEuMjI0IDAtMi4yMTUgMC45MTEtMi4yMTUgMi4wMzZzMC45OTEgMi4wMzUgMi4yMTUgMi4wMzVjMS4yMjQgMCAyLjIxNS0wLjkxMSAyLjIxNS0yLjAzNXMtMC45OTEtMi4wMzYtMi4yMTUtMi4wMzZ6TTE1Ljg1MiAxMC41NTdjLTEuMjI0IDAtMi4yMTUgMC45MTEtMi4yMTUgMi4wMzZzMC45OTEgMi4wMzUgMi4yMTUgMi4wMzVjMS4yMjIgMCAyLjIxNS0wLjkxMSAyLjIxNS0yLjAzNXMtMC45OTItMi4wMzYtMi4yMTUtMi4wMzZ6XCJdLFwiY29tbWVudC1vZmZcIjpbXCIwIDAgMzIgMzJcIixcIk0yNy4wOTAgMC4xMzFoLTIyLjczMWMtMi4zNTQgMC00LjI2MiAxLjgzOS00LjI2MiA0LjEwOXYxNi40MDFjMCAyLjI2OSAxLjkwOCA0LjEwOSA0LjI2MiA0LjEwOWg0LjI2MnYtMi43MDZoOC40NjlsLTguODUzIDguMTM1IDEuNTc5IDEuNDUxIDcuNDg3LTYuODhoOS43ODdjMi4zNTMgMCA0LjI2Mi0xLjg0IDQuMjYyLTQuMTA5di0xNi40MDFjMC0yLjI3LTEuOTA5LTQuMTA5LTQuMjYyLTQuMTA5djB6TTI4LjUxMSAxOS4zMDRjMCAxLjUxMi0xLjI3MiAyLjczOC0yLjg0MSAyLjczOGgtOC40MjVsLTAuMDc2LTAuMDcwLTAuMDc2IDAuMDcwaC0xMS4zMTFjLTEuNTY5IDAtMi44NDEtMS4yMjYtMi44NDEtMi43Mzh2LTEzLjY5NmMwLTEuNTEzIDEuMjcyLTIuNzM5IDIuODQxLTIuNzM5aDE5Ljg4OWMxLjU2OSAwIDIuODQxLTAuMTQyIDIuODQxIDEuMzd2MTUuMDY0elwiXSxzZW5kOltcIjAgMCAzMiAzMlwiLFwiTTEzLjcyNSAzMGwzLjktNS4zMjUtMy45LTEuMTI1djYuNDV6TTAgMTcuNWwxMS4wNTAgMy4zNSAxMy42LTExLjU1LTEwLjU1IDEyLjQyNSAxMS44IDMuNjUgNi4xLTIzLjM3NS0zMiAxNS41elwiXSxwYWxsZXR0ZTpbXCIwIDAgMzIgMzJcIixcIk0xOS4zNTcgMi44OGMxLjc0OSAwIDMuMzY2IDAuMzE2IDQuODUxIDAuOTQ2IDEuNDg1IDAuNjMyIDIuNzY4IDEuNDc0IDMuODQ1IDIuNTMzczEuOTIyIDIuMjc5IDIuNTMyIDMuNjYxYzAuNjExIDEuMzgzIDAuOTE1IDIuODI5IDAuOTE1IDQuMzM0IDAgMS40MjUtMC4zMDQgMi44NDctMC45MTUgNC4yNzEtMC42MTEgMS40MjUtMS41ODcgMi43NjctMi45MjggNC4wMjgtMC44NTUgMC44MTMtMS44MTEgMS42MDctMi44NjkgMi4zOHMtMi4xMzYgMS40NjUtMy4yMzMgMi4wNzVjLTEuMDk5IDAuNjEtMi4xOTggMS4wOTgtMy4yOTYgMS40NjUtMS4wOTggMC4zNjYtMi4xMTUgMC41NDktMy4wNTEgMC41NDktMS4zNDMgMC0yLjQ0MS0wLjQzOC0zLjI5Ni0xLjMxMS0wLjg1NC0wLjg3Ni0xLjI4MS0yLjQxLTEuMjgxLTQuNjA4IDAtMC4zNjYgMC4wMjAtMC43NzMgMC4wNjAtMS4yMjFzMC4wNjItMC44OTUgMC4wNjItMS4zNDNjMC0wLjc3My0wLjE4My0xLjM1My0wLjU1LTEuNzM4LTAuMzY2LTAuMzg3LTAuNzkzLTAuNTgtMS4yODEtMC41OC0wLjY1MiAwLTEuMjEgMC4yOTUtMS42NzggMC44ODZzLTAuOTI2IDEuMjMtMS4zNzMgMS45MjFjLTAuNDQ3IDAuNjkzLTAuOTA1IDEuMzM0LTEuMzcyIDEuOTIzcy0xLjAyOCAwLjg4Ni0xLjY3OSAwLjg4NmMtMC41MjkgMC0xLjA0OC0wLjQyNy0xLjU1Ni0xLjI4MnMtMC43NjMtMi4yNTktMC43NjMtNC4yMTJjMC0yLjE5NyAwLjUyOS00LjI0MSAxLjU4Ny02LjEzM3MyLjQ2Mi0zLjUyOSA0LjIxLTQuOTEyYzEuNzUtMS4zODMgMy43NjItMi40NzEgNi4wNDEtMy4yNjQgMi4yNzctMC43OTYgNC42MTctMS4yMTIgNy4wMTgtMS4yNTN6TTcuMzM0IDE1LjgxN2MwLjU2OSAwIDEuMDQ3LTAuMjA0IDEuNDM0LTAuNjExczAuNTc5LTAuODc1IDAuNTc5LTEuNDA0YzAtMC41NjktMC4xOTMtMS4wNDctMC41NzktMS40MzRzLTAuODY0LTAuNTc5LTEuNDM0LTAuNTc5Yy0wLjUyOSAwLTAuOTg3IDAuMTkzLTEuMzczIDAuNTc5cy0wLjU4IDAuODY0LTAuNTggMS40MzRjMCAwLjUzIDAuMTk0IDAuOTk4IDAuNTggMS40MDQgMC4zODggMC40MDcgMC44NDUgMC42MTEgMS4zNzMgMC42MTF6TTEyLjIxNiAxMS43OWMwLjY5MSAwIDEuMjkyLTAuMjU0IDEuOC0wLjc2M3MwLjc2Mi0xLjEwNyAwLjc2Mi0xLjhjMC0wLjczMi0wLjI1NS0xLjM0My0wLjc2Mi0xLjgzMS0wLjUwOS0wLjQ4OS0xLjEwOS0wLjczMi0xLjgtMC43MzItMC43MzIgMC0xLjM0MiAwLjI0NC0xLjgzMSAwLjczMi0wLjQ4OCAwLjQ4OC0wLjczMiAxLjA5OC0wLjczMiAxLjgzMSAwIDAuNjkzIDAuMjQ0IDEuMjkyIDAuNzMyIDEuOHMxLjA5OSAwLjc2MyAxLjgzMSAwLjc2M3pNMTYuMzY2IDI1Ljk0N2MwLjY5MiAwIDEuMjgyLTAuMjE0IDEuNzctMC42NHMwLjczMi0wLjk4NyAwLjczMi0xLjY3OC0wLjI0NC0xLjI2MS0wLjczMi0xLjcwOWMtMC40ODktMC40NDgtMS4wNzgtMC42NzEtMS43Ny0wLjY3MS0wLjY1IDAtMS4yMSAwLjIyMy0xLjY3OCAwLjY3MXMtMC43MDIgMS4wMTgtMC43MDIgMS43MDljMCAwLjY5MiAwLjIzNCAxLjI1IDAuNzAyIDEuNjc4czEuMDI3IDAuNjQgMS42NzggMC42NHpNMTkuMTEzIDkuNTkyYzAuNjUxIDAgMS4xMjktMC4yMDMgMS40MzMtMC42MTEgMC4zMDUtMC40MDYgMC40NTktMC44NzQgMC40NTktMS40MDQgMC0wLjQ4OC0wLjE1NC0wLjk0Ny0wLjQ1OS0xLjM3My0wLjMwNC0wLjQyNy0wLjc4Mi0wLjY0MS0xLjQzMy0wLjY0MS0wLjUyOSAwLTEuMDA4IDAuMTkzLTEuNDM0IDAuNThzLTAuNjQgMC44NjUtMC42NCAxLjQzNGMwIDAuNTcxIDAuMjEzIDEuMDQ5IDAuNjQgMS40MzQgMC40MjcgMC4zODkgMC45MDUgMC41ODEgMS40MzQgMC41ODF6TTI0Ljg0OCAxMi44MjZjMC41NyAwIDEuMDY3LTAuMjEzIDEuNDk1LTAuNjQgMC40MjctMC40MjcgMC42NC0wLjk0NyAwLjY0LTEuNTU2IDAtMC41Ny0wLjIxNC0xLjA2OC0wLjY0LTEuNDk1LTAuNDI4LTAuNDI3LTAuOTI3LTAuNjQtMS40OTUtMC42NC0wLjYxMSAwLTEuMTI5IDAuMjEzLTEuNTU1IDAuNjQtMC40MjggMC40MjctMC42NDIgMC45MjYtMC42NDIgMS40OTUgMCAwLjYxMSAwLjIxMyAxLjEyOSAwLjY0MiAxLjU1NnMwLjk0NyAwLjY0IDEuNTU1IDAuNjR6XCJdLGNhbWVyYTpbXCIwIDAgMzIgMzJcIixcIk0xNiAyM2MtMy4zMDkgMC02LTIuNjkxLTYtNnMyLjY5MS02IDYtNiA2IDIuNjkxIDYgNi0yLjY5MSA2LTYgNnpNMTYgMTNjLTIuMjA2IDAtNCAxLjc5NC00IDRzMS43OTQgNCA0IDRjMi4yMDYgMCA0LTEuNzk0IDQtNHMtMS43OTQtNC00LTR6TTI3IDI4aC0yMmMtMS42NTQgMC0zLTEuMzQ2LTMtM3YtMTZjMC0xLjY1NCAxLjM0Ni0zIDMtM2gzYzAuNTUyIDAgMSAwLjQ0OCAxIDFzLTAuNDQ4IDEtMSAxaC0zYy0wLjU1MSAwLTEgMC40NDktMSAxdjE2YzAgMC41NTIgMC40NDkgMSAxIDFoMjJjMC41NTIgMCAxLTAuNDQ4IDEtMXYtMTZjMC0wLjU1MS0wLjQ0OC0xLTEtMWgtMTFjLTAuNTUyIDAtMS0wLjQ0OC0xLTFzMC40NDgtMSAxLTFoMTFjMS42NTQgMCAzIDEuMzQ2IDMgM3YxNmMwIDEuNjU0LTEuMzQ2IDMtMyAzek0yNCAxMC41YzAgMC44MjggMC42NzIgMS41IDEuNSAxLjVzMS41LTAuNjcyIDEuNS0xLjVjMC0wLjgyOC0wLjY3Mi0xLjUtMS41LTEuNXMtMS41IDAuNjcyLTEuNSAxLjV6TTE1IDRjMCAwLjU1Mi0wLjQ0OCAxLTEgMWgtNGMtMC41NTIgMC0xLTAuNDQ4LTEtMXYwYzAtMC41NTIgMC40NDgtMSAxLTFoNGMwLjU1MiAwIDEgMC40NDggMSAxdjB6XCJdLHN1YnRpdGxlOltcIjAgMCAzMiAzMlwiLFwiTTI2LjY2NyA1LjMzM2gtMjEuMzMzYy0wIDAtMC4wMDEgMC0wLjAwMSAwLTEuNDcyIDAtMi42NjYgMS4xOTQtMi42NjYgMi42NjYgMCAwIDAgMC4wMDEgMCAwLjAwMXYtMCAxNmMwIDAgMCAwLjAwMSAwIDAuMDAxIDAgMS40NzIgMS4xOTQgMi42NjYgMi42NjYgMi42NjYgMCAwIDAuMDAxIDAgMC4wMDEgMGgyMS4zMzNjMCAwIDAuMDAxIDAgMC4wMDEgMCAxLjQ3MiAwIDIuNjY2LTEuMTk0IDIuNjY2LTIuNjY2IDAtMCAwLTAuMDAxIDAtMC4wMDF2MC0xNmMwLTAgMC0wLjAwMSAwLTAuMDAxIDAtMS40NzItMS4xOTQtMi42NjYtMi42NjYtMi42NjYtMCAwLTAuMDAxIDAtMC4wMDEgMGgwek01LjMzMyAxNmg1LjMzM3YyLjY2N2gtNS4zMzN2LTIuNjY3ek0xOC42NjcgMjRoLTEzLjMzM3YtMi42NjdoMTMuMzMzdjIuNjY3ek0yNi42NjcgMjRoLTUuMzMzdi0yLjY2N2g1LjMzM3YyLjY2N3pNMjYuNjY3IDE4LjY2N2gtMTMuMzMzdi0yLjY2N2gxMy4zMzN2Mi42Njd6XCJdfSxpY29uc0NvbG9yOlwiI2ZmZmZmZlwiLGNvbnRleHRtZW51OltdLG11dGV4OiEwfTtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYhZS5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSk7cmV0dXJuIGUudmlkZW8mJiFlLnZpZGVvLnR5cGUmJihlLnZpZGVvLnR5cGU9XCJhdXRvXCIpLFwib2JqZWN0XCI9PT1hKGUuZGFubWFrdSkmJmUuZGFubWFrdSYmIWUuZGFubWFrdS51c2VyJiYoZS5kYW5tYWt1LnVzZXI9XCJESVlnb2RcIiksZS5zdWJ0aXRsZSYmKCFlLnN1YnRpdGxlLnR5cGUmJihlLnN1YnRpdGxlLnR5cGU9XCJ3ZWJ2dHRcIiksIWUuc3VidGl0bGUuZm9udFNpemUmJihlLnN1YnRpdGxlLmZvbnRTaXplPVwiMjBweFwiKSwhZS5zdWJ0aXRsZS5ib3R0b20mJihlLnN1YnRpdGxlLmJvdHRvbT1cIjQwcHhcIiksIWUuc3VidGl0bGUuY29sb3ImJihlLnN1YnRpdGxlLmNvbG9yPVwiI2ZmZlwiKSksZS52aWRlby5xdWFsaXR5JiYoZS52aWRlby51cmw9W2UudmlkZW8ucXVhbGl0eVtlLnZpZGVvLmRlZmF1bHRRdWFsaXR5XS51cmxdKSxlLmxhbmcmJihlLmxhbmc9ZS5sYW5nLnRvTG93ZXJDYXNlKCkpLGUuaWNvbnMmJihlLmljb25zPSgwLHMuZGVmYXVsdCkoe30sdC5pY29ucyxlLmljb25zKSksZS5jb250ZXh0bWVudT1lLmNvbnRleHRtZW51LmNvbmNhdChbe3RleHQ6XCJBYm91dCBhdXRob3JcIixsaW5rOlwiaHR0cHM6Ly9kaXlnb2QubWVcIn0se3RleHQ6XCJBYm91dCBEUGxheWVyXCIsbGluazpcImh0dHBzOi8vZ2l0aHViLmNvbS9Nb2VQbGF5ZXIvRFBsYXllclwifSx7dGV4dDpcIkRQbGF5ZXIgZmVlZGJhY2tcIixsaW5rOlwiaHR0cHM6Ly9naXRodWIuY29tL0RJWWdvZC9EUGxheWVyL2lzc3Vlc1wifSx7dGV4dDpcIkRQbGF5ZXIgMS4yMS4wIDhlNjlhZGFcIixsaW5rOlwiaHR0cHM6Ly9naXRodWIuY29tL01vZVBsYXllci9EUGxheWVyL3JlbGVhc2VzXCJ9XSksZX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUpe2lmKG51bGw9PT1lfHx2b2lkIDA9PT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gT2JqZWN0KGUpfXZhciBhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsbz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHM9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt0cnl7aWYoIU9iamVjdC5hc3NpZ24pcmV0dXJuITE7dmFyIGU9bmV3IFN0cmluZyhcImFiY1wiKTtpZihlWzVdPVwiZGVcIixcIjVcIj09PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpWzBdKXJldHVybiExO2Zvcih2YXIgdD17fSxuPTA7bjwxMDtuKyspdFtcIl9cIitTdHJpbmcuZnJvbUNoYXJDb2RlKG4pXT1uO2lmKFwiMDEyMzQ1Njc4OVwiIT09T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfSkuam9pbihcIlwiKSlyZXR1cm4hMTt2YXIgaT17fTtyZXR1cm5cImFiY2RlZmdoaWprbG1ub3BxcnN0XCIuc3BsaXQoXCJcIikuZm9yRWFjaChmdW5jdGlvbihlKXtpW2VdPWV9KSxcImFiY2RlZmdoaWprbG1ub3BxcnN0XCI9PT1PYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LGkpKS5qb2luKFwiXCIpfWNhdGNoKGUpe3JldHVybiExfX0oKT9PYmplY3QuYXNzaWduOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHIsbD1pKGUpLGM9MTtjPGFyZ3VtZW50cy5sZW5ndGg7YysrKXtuPU9iamVjdChhcmd1bWVudHNbY10pO2Zvcih2YXIgdSBpbiBuKW8uY2FsbChuLHUpJiYobFt1XT1uW3VdKTtpZihhKXtyPWEobik7Zm9yKHZhciBkPTA7ZDxyLmxlbmd0aDtkKyspcy5jYWxsKG4scltkXSkmJihsW3JbZF1dPW5bcltkXV0pfX1yZXR1cm4gbH19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbihlLHQsbixpLGEpe3ZhciBvPW5ldyBYTUxIdHRwUmVxdWVzdDtvLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKDQ9PT1vLnJlYWR5U3RhdGUpe2lmKG8uc3RhdHVzPj0yMDAmJm8uc3RhdHVzPDMwMHx8MzA0PT09by5zdGF0dXMpe3ZhciBlPUpTT04ucGFyc2Uoby5yZXNwb25zZVRleHQpO3JldHVybiAwIT09ZS5jb2RlP2kobyxlKTpuKG8sZSl9YShvKX19LG8ub3BlbihudWxsIT09dD9cIlBPU1RcIjpcIkdFVFwiLGUsITApLG8uc2VuZChudWxsIT09dD9KU09OLnN0cmluZ2lmeSh0KTpudWxsKX07dC5kZWZhdWx0PXtzZW5kOmZ1bmN0aW9uKGUsdCxuKXtpKGUsdCxmdW5jdGlvbihlLHQpe2NvbnNvbGUubG9nKFwiUG9zdCBkYW5tYWt1OiBcIix0KSxuJiZuKCl9LGZ1bmN0aW9uKGUsdCl7YWxlcnQodC5tc2cpfSxmdW5jdGlvbihlKXtjb25zb2xlLmxvZyhcIlJlcXVlc3Qgd2FzIHVuc3VjY2Vzc2Z1bDogXCIrZS5zdGF0dXMpfSl9LHJlYWQ6ZnVuY3Rpb24oZSx0KXtpKGUsbnVsbCxmdW5jdGlvbihlLG4pe3QobnVsbCxuLmRhbm1ha3UpfSxmdW5jdGlvbihlLG4pe3Qoe3N0YXR1czplLnN0YXR1cyxyZXNwb25zZTpufSl9LGZ1bmN0aW9uKGUpe3Qoe3N0YXR1czplLnN0YXR1cyxyZXNwb25zZTpudWxsfSl9KX19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlKXt2YXIgdD10aGlzO3RoaXMubGFuZz1lLHRoaXMudHJhbj1mdW5jdGlvbihlKXtyZXR1cm4gYVt0LmxhbmddJiZhW3QubGFuZ11bZV0/YVt0LmxhbmddW2VdOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPXtcInpoLWNuXCI6e1wiRGFubWFrdSBpcyBsb2FkaW5nXCI6XCJcXHU1ZjM5XFx1NWU1NVxcdTUyYTBcXHU4ZjdkXFx1NGUyZFwiLFRvcDpcIlxcdTk4NzZcXHU5MGU4XCIsQm90dG9tOlwiXFx1NWU5NVxcdTkwZThcIixSb2xsaW5nOlwiXFx1NmVkYVxcdTUyYThcIixcIklucHV0IGRhbm1ha3UsIGhpdCBFbnRlclwiOlwiXFx1OGY5M1xcdTUxNjVcXHU1ZjM5XFx1NWU1NVxcdWZmMGNcXHU1NmRlXFx1OGY2NlxcdTUzZDFcXHU5MDAxXCIsXCJBYm91dCBhdXRob3JcIjpcIlxcdTUxNzNcXHU0ZThlXFx1NGY1Y1xcdTgwMDVcIixcIkRQbGF5ZXIgZmVlZGJhY2tcIjpcIlxcdTY0YWRcXHU2NTNlXFx1NTY2OFxcdTYxMGZcXHU4OWMxXFx1NTNjZFxcdTk5ODhcIixcIkFib3V0IERQbGF5ZXJcIjpcIlxcdTUxNzNcXHU0ZThlIERQbGF5ZXIgXFx1NjRhZFxcdTY1M2VcXHU1NjY4XCIsTG9vcDpcIlxcdTZkMTdcXHU4MTExXFx1NWZhYVxcdTczYWZcIixTcGVlZDpcIlxcdTkwMWZcXHU1ZWE2XCIsXCJPcGFjaXR5IGZvciBkYW5tYWt1XCI6XCJcXHU1ZjM5XFx1NWU1NVxcdTkwMGZcXHU2NjBlXFx1NWVhNlwiLE5vcm1hbDpcIlxcdTZiNjNcXHU1ZTM4XCIsXCJQbGVhc2UgaW5wdXQgZGFubWFrdSBjb250ZW50IVwiOlwiXFx1ODk4MVxcdThmOTNcXHU1MTY1XFx1NWYzOVxcdTVlNTVcXHU1MTg1XFx1NWJiOVxcdTU1NGFcXHU1NTgyXFx1ZmYwMVwiLFwiU2V0IGRhbm1ha3UgY29sb3JcIjpcIlxcdThiYmVcXHU3ZjZlXFx1NWYzOVxcdTVlNTVcXHU5ODljXFx1ODI3MlwiLFwiU2V0IGRhbm1ha3UgdHlwZVwiOlwiXFx1OGJiZVxcdTdmNmVcXHU1ZjM5XFx1NWU1NVxcdTdjN2JcXHU1NzhiXCIsXCJTaG93IGRhbm1ha3VcIjpcIlxcdTY2M2VcXHU3OTNhXFx1NWYzOVxcdTVlNTVcIixcIlRoaXMgdmlkZW8gZmFpbHMgdG8gbG9hZFwiOlwiXFx1ODljNlxcdTk4OTFcXHU1MmEwXFx1OGY3ZFxcdTU5MzFcXHU4ZDI1XCIsXCJTd2l0Y2hpbmcgdG9cIjpcIlxcdTZiNjNcXHU1NzI4XFx1NTIwN1xcdTYzNjJcXHU4MWYzXCIsXCJTd2l0Y2hlZCB0b1wiOlwiXFx1NWRmMlxcdTdlY2ZcXHU1MjA3XFx1NjM2MlxcdTgxZjNcIixxdWFsaXR5OlwiXFx1NzUzYlxcdThkMjhcIixGRjpcIlxcdTVmZWJcXHU4ZmRiXCIsUkVXOlwiXFx1NWZlYlxcdTkwMDBcIixcIlVubGltaXRlZCBkYW5tYWt1XCI6XCJcXHU2ZDc3XFx1OTFjZlxcdTVmMzlcXHU1ZTU1XCIsXCJTZW5kIGRhbm1ha3VcIjpcIlxcdTUzZDFcXHU5MDAxXFx1NWYzOVxcdTVlNTVcIixTZXR0aW5nOlwiXFx1OGJiZVxcdTdmNmVcIixcIkZ1bGwgc2NyZWVuXCI6XCJcXHU1MTY4XFx1NWM0ZlwiLFwiV2ViIGZ1bGwgc2NyZWVuXCI6XCJcXHU5ODc1XFx1OTc2MlxcdTUxNjhcXHU1YzRmXCIsU2VuZDpcIlxcdTUzZDFcXHU5MDAxXCIsU2NyZWVuc2hvdDpcIlxcdTYyMmFcXHU1NmZlXCIsczpcIlxcdTc5ZDJcIixcIlNob3cgc3VidGl0bGVcIjpcIlxcdTY2M2VcXHU3OTNhXFx1NWI1N1xcdTVlNTVcIixcIkhpZGUgc3VidGl0bGVcIjpcIlxcdTk2OTBcXHU4NWNmXFx1NWI1N1xcdTVlNTVcIixWb2x1bWU6XCJcXHU5N2YzXFx1OTFjZlwiLExpdmU6XCJcXHU3NmY0XFx1NjRhZFwifSxcInpoLXR3XCI6e1wiRGFubWFrdSBpcyBsb2FkaW5nXCI6XCJcXHU1ZjQ4XFx1NWU1NVxcdTUyYTBcXHU4ZjA5XFx1NGUyZFwiLFRvcDpcIlxcdTk4MDJcXHU5MGU4XCIsQm90dG9tOlwiXFx1NWU5NVxcdTkwZThcIixSb2xsaW5nOlwiXFx1NmVmZVxcdTUyZDVcIixcIklucHV0IGRhbm1ha3UsIGhpdCBFbnRlclwiOlwiXFx1OGYzOFxcdTUxNjVcXHU1ZjQ4XFx1NWU1NVxcdWZmMGNFbnRlciBcXHU3NjdjXFx1OTAwMVwiLFwiQWJvdXQgYXV0aG9yXCI6XCJcXHU5NWRjXFx1NjViY1xcdTRmNWNcXHU4MDA1XCIsXCJEUGxheWVyIGZlZWRiYWNrXCI6XCJcXHU2NGFkXFx1NjUzZVxcdTU2NjhcXHU2MTBmXFx1ODk4YlxcdTUzY2RcXHU5OTRiXCIsXCJBYm91dCBEUGxheWVyXCI6XCJcXHU5NWRjXFx1NjViYyBEUGxheWVyIFxcdTY0YWRcXHU2NTNlXFx1NTY2OFwiLExvb3A6XCJcXHU1ZmFhXFx1NzRiMFxcdTY0YWRcXHU2NTNlXCIsU3BlZWQ6XCJcXHU5MDFmXFx1NWVhNlwiLFwiT3BhY2l0eSBmb3IgZGFubWFrdVwiOlwiXFx1NWY0OFxcdTVlNTVcXHU5MDBmXFx1NjYwZVxcdTVlYTZcIixOb3JtYWw6XCJcXHU2YjYzXFx1NWUzOFwiLFwiUGxlYXNlIGlucHV0IGRhbm1ha3UgY29udGVudCFcIjpcIlxcdThhY2JcXHU4ZjM4XFx1NTE2NVxcdTVmNDhcXHU1ZTU1XFx1NTE4NVxcdTViYjlcXHU1NTRhXFx1ZmYwMVwiLFwiU2V0IGRhbm1ha3UgY29sb3JcIjpcIlxcdThhMmRcXHU3ZjZlXFx1NWY0OFxcdTVlNTVcXHU5ODRmXFx1ODI3MlwiLFwiU2V0IGRhbm1ha3UgdHlwZVwiOlwiXFx1OGEyZFxcdTdmNmVcXHU1ZjQ4XFx1NWU1NVxcdTk4NWVcXHU1NzhiXCIsXCJTaG93IGRhbm1ha3VcIjpcIlxcdTk4NmZcXHU3OTNhXFx1NWY0OFxcdTVlNTVcIixcIlRoaXMgdmlkZW8gZmFpbHMgdG8gbG9hZFwiOlwiXFx1ODk5NlxcdTk4M2JcXHU1MmEwXFx1OGYwOVxcdTU5MzFcXHU2NTU3XCIsXCJTd2l0Y2hpbmcgdG9cIjpcIlxcdTZiNjNcXHU1NzI4XFx1NTIwN1xcdTYzZGJcXHU4MWYzXCIsXCJTd2l0Y2hlZCB0b1wiOlwiXFx1NWRmMlxcdTdkOTNcXHU1MjA3XFx1NjNkYlxcdTgxZjNcIixxdWFsaXR5OlwiXFx1NzU2YlxcdThjZWFcIixGRjpcIlxcdTVmZWJcXHU5MDMyXCIsUkVXOlwiXFx1NWZlYlxcdTkwMDBcIixcIlVubGltaXRlZCBkYW5tYWt1XCI6XCJcXHU2ZDc3XFx1OTFjZlxcdTVmNDhcXHU1ZTU1XCIsXCJTZW5kIGRhbm1ha3VcIjpcIlxcdTc2N2NcXHU5MDAxXFx1NWY0OFxcdTVlNTVcIixTZXR0aW5nOlwiXFx1OGEyZFxcdTdmNmVcIixcIkZ1bGwgc2NyZWVuXCI6XCJcXHU1MTY4XFx1NWM0ZlwiLFwiV2ViIGZ1bGwgc2NyZWVuXCI6XCJcXHU5ODAxXFx1OTc2MlxcdTUxNjhcXHU1YzRmXCIsU2VuZDpcIlxcdTc2N2NcXHU5MDAxXCIsU2NyZWVuc2hvdDpcIlxcdTYyMmFcXHU1NzE2XCIsczpcIlxcdTc5ZDJcIixcIlNob3cgc3VidGl0bGVcIjpcIlxcdTk4NmZcXHU3OTNhXFx1NWI1N1xcdTVlNTVcIixcIkhpZGUgc3VidGl0bGVcIjpcIlxcdTk2YjFcXHU4NWNmXFx1NWI1N1xcdTVlNTVcIixWb2x1bWU6XCJcXHU5N2YzXFx1OTFjZlwiLExpdmU6XCJcXHU3NmY0XFx1NjRhZFwifX07dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe2kodGhpcyxlKSx0aGlzLmNvbnRhaW5lcj10LmNvbnRhaW5lcix0aGlzLm9wdGlvbnM9dC5vcHRpb25zLHRoaXMuaW5kZXg9dC5pbmRleCx0aGlzLnRyYW49dC50cmFuLHRoaXMuaWNvbnM9dC5pY29ucyx0aGlzLmluaXQoKX1yZXR1cm4gYShlLFt7a2V5OlwiaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jb250YWluZXIuaW5uZXJIVE1MPXRoaXMudHBsKHRoaXMub3B0aW9ucyx0aGlzLmluZGV4LHRoaXMudHJhbix0aGlzLmljb25zKSx0aGlzLnZvbHVtZUJhcj10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItdm9sdW1lLWJhci1pbm5lclwiKSx0aGlzLnZvbHVtZUJhcldyYXA9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXZvbHVtZS1iYXJcIiksdGhpcy52b2x1bWVCYXJXcmFwV3JhcD10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItdm9sdW1lLWJhci13cmFwXCIpLHRoaXMudm9sdW1lQnV0dG9uPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci12b2x1bWVcIiksdGhpcy52b2x1bWVJY29uPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci12b2x1bWUtaWNvbiAuZHBsYXllci1pY29uLWNvbnRlbnRcIiksdGhpcy5wbGF5ZWRCYXI9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXBsYXllZFwiKSx0aGlzLmxvYWRlZEJhcj10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItbG9hZGVkXCIpLHRoaXMucGxheWVkQmFyV3JhcD10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItYmFyLXdyYXBcIiksdGhpcy5wbGF5ZWRCYXJUaW1lPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1iYXItdGltZVwiKSx0aGlzLmRhbm1ha3U9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWRhbm1ha3VcIiksdGhpcy5kYW5tYWt1TG9hZGluZz10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItZGFubG9hZGluZ1wiKSx0aGlzLnZpZGVvPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci12aWRlby1jdXJyZW50XCIpLHRoaXMuYmV6ZWw9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWJlemVsLWljb25cIiksdGhpcy5wbGF5QnV0dG9uPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1wbGF5LWljb25cIiksdGhpcy52aWRlb1dyYXA9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXZpZGVvLXdyYXBcIiksdGhpcy5jb250cm9sbGVyTWFzaz10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItY29udHJvbGxlci1tYXNrXCIpLHRoaXMucHRpbWU9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXB0aW1lXCIpLHRoaXMuc2V0dGluZ0J1dHRvbj10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItc2V0dGluZy1pY29uXCIpLHRoaXMuc2V0dGluZ0JveD10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItc2V0dGluZy1ib3hcIiksdGhpcy5tYXNrPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1tYXNrXCIpLHRoaXMubG9vcD10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItc2V0dGluZy1sb29wXCIpLHRoaXMubG9vcFRvZ2dsZT10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItc2V0dGluZy1sb29wIC5kcGxheWVyLXRvZ2dsZS1zZXR0aW5nLWlucHV0XCIpLHRoaXMuc2hvd0Rhbm1ha3U9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXNldHRpbmctc2hvd2RhblwiKSx0aGlzLnNob3dEYW5tYWt1VG9nZ2xlPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1zaG93ZGFuLXNldHRpbmctaW5wdXRcIiksdGhpcy51bmxpbWl0RGFubWFrdT10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItc2V0dGluZy1kYW51bmxpbWl0XCIpLHRoaXMudW5saW1pdERhbm1ha3VUb2dnbGU9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWRhbnVubGltaXQtc2V0dGluZy1pbnB1dFwiKSx0aGlzLnNwZWVkPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1zZXR0aW5nLXNwZWVkXCIpLHRoaXMuc3BlZWRJdGVtPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZHBsYXllci1zZXR0aW5nLXNwZWVkLWl0ZW1cIiksdGhpcy5kYW5tYWt1T3BhY2l0eUJhcj10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItZGFubWFrdS1iYXItaW5uZXJcIiksdGhpcy5kYW5tYWt1T3BhY2l0eUJhcldyYXA9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWRhbm1ha3UtYmFyXCIpLHRoaXMuZGFubWFrdU9wYWNpdHlCYXJXcmFwV3JhcD10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItZGFubWFrdS1iYXItd3JhcFwiKSx0aGlzLmRhbm1ha3VPcGFjaXR5Qm94PXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1zZXR0aW5nLWRhbm1ha3VcIiksdGhpcy5kdGltZT10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItZHRpbWVcIiksdGhpcy5jb250cm9sbGVyPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1jb250cm9sbGVyXCIpLHRoaXMuY29tbWVudElucHV0PXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1jb21tZW50LWlucHV0XCIpLHRoaXMuY29tbWVudEJ1dHRvbj10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItY29tbWVudC1pY29uXCIpLHRoaXMuY29tbWVudFNldHRpbmdCb3g9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWNvbW1lbnQtc2V0dGluZy1ib3hcIiksdGhpcy5jb21tZW50U2V0dGluZ0J1dHRvbj10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItY29tbWVudC1zZXR0aW5nLWljb25cIiksdGhpcy5jb21tZW50U2V0dGluZ0ZpbGw9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWNvbW1lbnQtc2V0dGluZy1pY29uIC5kcGxheWVyLWZpbGxcIiksdGhpcy5jb21tZW50U2VuZEJ1dHRvbj10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItc2VuZC1pY29uXCIpLHRoaXMuY29tbWVudFNlbmRGaWxsPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1zZW5kLWljb24gLmRwbGF5ZXItZmlsbFwiKSx0aGlzLmNvbW1lbnRDb2xvclNldHRpbmdCb3g9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWNvbW1lbnQtc2V0dGluZy1jb2xvclwiKSx0aGlzLmJyb3dzZXJGdWxsQnV0dG9uPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1mdWxsLWljb25cIiksdGhpcy53ZWJGdWxsQnV0dG9uPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1mdWxsLWluLWljb25cIiksdGhpcy5tZW51PXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1tZW51XCIpLHRoaXMucXVhbGl0eUxpc3Q9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXF1YWxpdHktbGlzdFwiKSx0aGlzLmNhbWFyZUJ1dHRvbj10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItY2FtZXJhLWljb25cIiksdGhpcy5zdWJ0aXRsZUJ1dHRvbj10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItc3VidGl0bGUtaWNvblwiKSx0aGlzLnN1YnRpdGxlQnV0dG9uSW5uZXI9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXN1YnRpdGxlLWljb24gLmRwbGF5ZXItaWNvbi1jb250ZW50XCIpLHRoaXMuc3VidGl0bGU9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXN1YnRpdGxlXCIpLHRoaXMucXVhbGl0eUJ1dHRvbj10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItcXVhbGl0eS1pY29uXCIpLHRoaXMuYmFyUHJldmlldz10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItYmFyLXByZXZpZXdcIiksdGhpcy5iYXJXcmFwPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1iYXItd3JhcFwiKSx0aGlzLm5vdGljZT10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItbm90aWNlXCIpfX0se2tleTpcInRwbFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybic8ZGl2IGNsYXNzPVwiZHBsYXllci1tYXNrXCI+PC9kaXY+PGRpdiBjbGFzcz1cImRwbGF5ZXItdmlkZW8td3JhcFwiPicrdGhpcy50cGxWaWRlbyghMCxlLnZpZGVvLnBpYyxlLnNjcmVlbnNob3QsZS5wcmVsb2FkLGUudmlkZW8udXJsLGUuc3VidGl0bGUpKyhlLmxvZ28/JzxkaXYgY2xhc3M9XCJkcGxheWVyLWxvZ29cIj48aW1nIHNyYz1cIicrZS5sb2dvKydcIj48L2Rpdj4nOlwiXCIpKyc8ZGl2IGNsYXNzPVwiZHBsYXllci1kYW5tYWt1XCIgc3R5bGU9XCInKyhlLmRhbm1ha3U/dGhpcy50cGxEYW5tYWt1bWFyZ2luKGUuZGFubWFrdS5tYXJnaW4pOlwiXCIpKydcIj48ZGl2IGNsYXNzPVwiZHBsYXllci1kYW5tYWt1LWl0ZW0gZHBsYXllci1kYW5tYWt1LWl0ZW0tLWRlbW9cIj48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwiZHBsYXllci1zdWJ0aXRsZVwiPjwvZGl2PjxkaXYgY2xhc3M9XCJkcGxheWVyLWJlemVsXCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLWJlemVsLWljb25cIj48L3NwYW4+JysoZS5kYW5tYWt1Pyc8c3BhbiBjbGFzcz1cImRwbGF5ZXItZGFubG9hZGluZ1wiPicrbihcIkRhbm1ha3UgaXMgbG9hZGluZ1wiKStcIjwvc3Bhbj5cIjpcIlwiKSsnPHNwYW4gY2xhc3M9XCJkaXBsYXllci1sb2FkaW5nLWljb25cIj48c3ZnIGhlaWdodD1cIjEwMCVcIiB2ZXJzaW9uPVwiMS4xXCIgdmlld0JveD1cIjAgMCAyMiAyMlwiIHdpZHRoPVwiMTAwJVwiPjxzdmcgeD1cIjdcIiB5PVwiMVwiPjxjaXJjbGUgY2xhc3M9XCJkaXBsYXllci1sb2FkaW5nLWRvdCBkaXBsYXllci1sb2FkaW5nLWRvdC0wXCIgY3g9XCI0XCIgY3k9XCI0XCIgcj1cIjJcIj48L2NpcmNsZT48L3N2Zz48c3ZnIHg9XCIxMVwiIHk9XCIzXCI+PGNpcmNsZSBjbGFzcz1cImRpcGxheWVyLWxvYWRpbmctZG90IGRpcGxheWVyLWxvYWRpbmctZG90LTFcIiBjeD1cIjRcIiBjeT1cIjRcIiByPVwiMlwiPjwvY2lyY2xlPjwvc3ZnPjxzdmcgeD1cIjEzXCIgeT1cIjdcIj48Y2lyY2xlIGNsYXNzPVwiZGlwbGF5ZXItbG9hZGluZy1kb3QgZGlwbGF5ZXItbG9hZGluZy1kb3QtMlwiIGN4PVwiNFwiIGN5PVwiNFwiIHI9XCIyXCI+PC9jaXJjbGU+PC9zdmc+PHN2ZyB4PVwiMTFcIiB5PVwiMTFcIj48Y2lyY2xlIGNsYXNzPVwiZGlwbGF5ZXItbG9hZGluZy1kb3QgZGlwbGF5ZXItbG9hZGluZy1kb3QtM1wiIGN4PVwiNFwiIGN5PVwiNFwiIHI9XCIyXCI+PC9jaXJjbGU+PC9zdmc+PHN2ZyB4PVwiN1wiIHk9XCIxM1wiPjxjaXJjbGUgY2xhc3M9XCJkaXBsYXllci1sb2FkaW5nLWRvdCBkaXBsYXllci1sb2FkaW5nLWRvdC00XCIgY3g9XCI0XCIgY3k9XCI0XCIgcj1cIjJcIj48L2NpcmNsZT48L3N2Zz48c3ZnIHg9XCIzXCIgeT1cIjExXCI+PGNpcmNsZSBjbGFzcz1cImRpcGxheWVyLWxvYWRpbmctZG90IGRpcGxheWVyLWxvYWRpbmctZG90LTVcIiBjeD1cIjRcIiBjeT1cIjRcIiByPVwiMlwiPjwvY2lyY2xlPjwvc3ZnPjxzdmcgeD1cIjFcIiB5PVwiN1wiPjxjaXJjbGUgY2xhc3M9XCJkaXBsYXllci1sb2FkaW5nLWRvdCBkaXBsYXllci1sb2FkaW5nLWRvdC02XCIgY3g9XCI0XCIgY3k9XCI0XCIgcj1cIjJcIj48L2NpcmNsZT48L3N2Zz48c3ZnIHg9XCIzXCIgeT1cIjNcIj48Y2lyY2xlIGNsYXNzPVwiZGlwbGF5ZXItbG9hZGluZy1kb3QgZGlwbGF5ZXItbG9hZGluZy1kb3QtN1wiIGN4PVwiNFwiIGN5PVwiNFwiIHI9XCIyXCI+PC9jaXJjbGU+PC9zdmc+PC9zdmc+PC9zcGFuPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJkcGxheWVyLWNvbnRyb2xsZXItbWFza1wiPjwvZGl2PjxkaXYgY2xhc3M9XCJkcGxheWVyLWNvbnRyb2xsZXJcIj48ZGl2IGNsYXNzPVwiZHBsYXllci1pY29ucyBkcGxheWVyLWNvbW1lbnQtYm94XCI+PGJ1dHRvbiBjbGFzcz1cImRwbGF5ZXItaWNvbiBkcGxheWVyLWNvbW1lbnQtc2V0dGluZy1pY29uXCIgZGF0YS1iYWxsb29uPVwiJytuKFwiU2V0dGluZ1wiKSsnXCIgZGF0YS1iYWxsb29uLXBvcz1cInVwXCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLWljb24tY29udGVudFwiPicraS5nZXQoXCJwYWxsZXR0ZVwiKSsnPC9zcGFuPjwvYnV0dG9uPjxkaXYgY2xhc3M9XCJkcGxheWVyLWNvbW1lbnQtc2V0dGluZy1ib3hcIj48ZGl2IGNsYXNzPVwiZHBsYXllci1jb21tZW50LXNldHRpbmctY29sb3JcIj48ZGl2IGNsYXNzPVwiZHBsYXllci1jb21tZW50LXNldHRpbmctdGl0bGVcIj4nK24oXCJTZXQgZGFubWFrdSBjb2xvclwiKSsnPC9kaXY+PGxhYmVsPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiZHBsYXllci1kYW5tYWt1LWNvbG9yLScrdCsnXCIgdmFsdWU9XCIjZmZmXCIgY2hlY2tlZD48c3BhbiBzdHlsZT1cImJhY2tncm91bmQ6ICNmZmY7XCI+PC9zcGFuPjwvbGFiZWw+PGxhYmVsPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiZHBsYXllci1kYW5tYWt1LWNvbG9yLScrdCsnXCIgdmFsdWU9XCIjZTU0MjU2XCI+PHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kOiAjZTU0MjU2XCI+PC9zcGFuPjwvbGFiZWw+PGxhYmVsPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiZHBsYXllci1kYW5tYWt1LWNvbG9yLScrdCsnXCIgdmFsdWU9XCIjZmZlMTMzXCI+PHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kOiAjZmZlMTMzXCI+PC9zcGFuPjwvbGFiZWw+PGxhYmVsPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiZHBsYXllci1kYW5tYWt1LWNvbG9yLScrdCsnXCIgdmFsdWU9XCIjNjRERDE3XCI+PHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kOiAjNjRERDE3XCI+PC9zcGFuPjwvbGFiZWw+PGxhYmVsPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiZHBsYXllci1kYW5tYWt1LWNvbG9yLScrdCsnXCIgdmFsdWU9XCIjMzljY2ZmXCI+PHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kOiAjMzljY2ZmXCI+PC9zcGFuPjwvbGFiZWw+PGxhYmVsPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiZHBsYXllci1kYW5tYWt1LWNvbG9yLScrdCsnXCIgdmFsdWU9XCIjRDUwMEY5XCI+PHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kOiAjRDUwMEY5XCI+PC9zcGFuPjwvbGFiZWw+PC9kaXY+PGRpdiBjbGFzcz1cImRwbGF5ZXItY29tbWVudC1zZXR0aW5nLXR5cGVcIj48ZGl2IGNsYXNzPVwiZHBsYXllci1jb21tZW50LXNldHRpbmctdGl0bGVcIj4nK24oXCJTZXQgZGFubWFrdSB0eXBlXCIpKyc8L2Rpdj48bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJkcGxheWVyLWRhbm1ha3UtdHlwZS0nK3QrJ1wiIHZhbHVlPVwidG9wXCI+PHNwYW4+JytuKFwiVG9wXCIpKyc8L3NwYW4+PC9sYWJlbD48bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJkcGxheWVyLWRhbm1ha3UtdHlwZS0nK3QrJ1wiIHZhbHVlPVwicmlnaHRcIiBjaGVja2VkPjxzcGFuPicrbihcIlJvbGxpbmdcIikrJzwvc3Bhbj48L2xhYmVsPjxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImRwbGF5ZXItZGFubWFrdS10eXBlLScrdCsnXCIgdmFsdWU9XCJib3R0b21cIj48c3Bhbj4nK24oXCJCb3R0b21cIikrJzwvc3Bhbj48L2xhYmVsPjwvZGl2PjwvZGl2PjxpbnB1dCBjbGFzcz1cImRwbGF5ZXItY29tbWVudC1pbnB1dFwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCInK24oXCJJbnB1dCBkYW5tYWt1LCBoaXQgRW50ZXJcIikrJ1wiIG1heGxlbmd0aD1cIjMwXCI+PGJ1dHRvbiBjbGFzcz1cImRwbGF5ZXItaWNvbiBkcGxheWVyLXNlbmQtaWNvblwiIGRhdGEtYmFsbG9vbj1cIicrbihcIlNlbmRcIikrJ1wiIGRhdGEtYmFsbG9vbi1wb3M9XCJ1cFwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci1pY29uLWNvbnRlbnRcIj4nK2kuZ2V0KFwic2VuZFwiKSsnPC9zcGFuPjwvYnV0dG9uPjwvZGl2PjxkaXYgY2xhc3M9XCJkcGxheWVyLWljb25zIGRwbGF5ZXItaWNvbnMtbGVmdFwiPjxidXR0b24gY2xhc3M9XCJkcGxheWVyLWljb24gZHBsYXllci1wbGF5LWljb25cIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItaWNvbi1jb250ZW50XCI+JytpLmdldChcInBsYXlcIikrJzwvc3Bhbj48L2J1dHRvbj48ZGl2IGNsYXNzPVwiZHBsYXllci12b2x1bWVcIj48YnV0dG9uIGNsYXNzPVwiZHBsYXllci1pY29uIGRwbGF5ZXItdm9sdW1lLWljb25cIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItaWNvbi1jb250ZW50XCI+JytpLmdldChcInZvbHVtZS1kb3duXCIpKyc8L3NwYW4+PC9idXR0b24+PGRpdiBjbGFzcz1cImRwbGF5ZXItdm9sdW1lLWJhci13cmFwXCIgZGF0YS1iYWxsb29uLXBvcz1cInVwXCI+PGRpdiBjbGFzcz1cImRwbGF5ZXItdm9sdW1lLWJhclwiPjxkaXYgY2xhc3M9XCJkcGxheWVyLXZvbHVtZS1iYXItaW5uZXJcIiBzdHlsZT1cImJhY2tncm91bmQ6ICcrZS50aGVtZSsnO1wiPjxzcGFuIGNsYXNzPVwiZHBsYXllci10aHVtYlwiIHN0eWxlPVwiYmFja2dyb3VuZDogJytlLnRoZW1lKydcIj48L3NwYW4+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PHNwYW4gY2xhc3M9XCJkcGxheWVyLXRpbWVcIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItcHRpbWVcIj4wOjAwPC9zcGFuPiAvIDxzcGFuIGNsYXNzPVwiZHBsYXllci1kdGltZVwiPjA6MDA8L3NwYW4+PC9zcGFuPicrKGUubGl2ZT8nPHNwYW4gY2xhc3M9XCJkcGxheWVyLWxpdmUtYmFkZ2VcIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItbGl2ZS1kb3RcIiBzdHlsZT1cImJhY2tncm91bmQ6ICcrZS50aGVtZSsnO1wiPjwvc3Bhbj4nK24oXCJMaXZlXCIpK1wiPC9zcGFuPlwiOlwiXCIpKyc8L2Rpdj48ZGl2IGNsYXNzPVwiZHBsYXllci1pY29ucyBkcGxheWVyLWljb25zLXJpZ2h0XCI+JysoZS52aWRlby5xdWFsaXR5Pyc8ZGl2IGNsYXNzPVwiZHBsYXllci1xdWFsaXR5XCI+PGJ1dHRvbiBjbGFzcz1cImRwbGF5ZXItaWNvbiBkcGxheWVyLXF1YWxpdHktaWNvblwiPicrZS52aWRlby5xdWFsaXR5W2UudmlkZW8uZGVmYXVsdFF1YWxpdHldLm5hbWUrJzwvYnV0dG9uPjxkaXYgY2xhc3M9XCJkcGxheWVyLXF1YWxpdHktbWFza1wiPicrdGhpcy50cGxRdWFsaXR5TGlzdChlLnZpZGVvLnF1YWxpdHkpK1wiPC9kaXY+PC9kaXY+XCI6XCJcIikrKGUuc2NyZWVuc2hvdD8nPGEgaHJlZj1cIiNcIiBjbGFzcz1cImRwbGF5ZXItaWNvbiBkcGxheWVyLWNhbWVyYS1pY29uXCIgZGF0YS1iYWxsb29uPVwiJytuKFwiU2NyZWVuc2hvdFwiKSsnXCIgZGF0YS1iYWxsb29uLXBvcz1cInVwXCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLWljb24tY29udGVudFwiPicraS5nZXQoXCJjYW1lcmFcIikrXCI8L3NwYW4+PC9hPlwiOlwiXCIpKyc8ZGl2IGNsYXNzPVwiZHBsYXllci1jb21tZW50XCI+PGJ1dHRvbiBjbGFzcz1cImRwbGF5ZXItaWNvbiBkcGxheWVyLWNvbW1lbnQtaWNvblwiIGRhdGEtYmFsbG9vbj1cIicrbihcIlNlbmQgZGFubWFrdVwiKSsnXCIgZGF0YS1iYWxsb29uLXBvcz1cInVwXCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLWljb24tY29udGVudFwiPicraS5nZXQoXCJjb21tZW50XCIpK1wiPC9zcGFuPjwvYnV0dG9uPjwvZGl2PlwiKyhlLnN1YnRpdGxlPyc8ZGl2IGNsYXNzPVwiZHBsYXllci1zdWJ0aXRsZS1idG5cIj48YnV0dG9uIGNsYXNzPVwiZHBsYXllci1pY29uIGRwbGF5ZXItc3VidGl0bGUtaWNvblwiIGRhdGEtYmFsbG9vbj1cIicrbihcIkhpZGUgc3VidGl0bGVcIikrJ1wiIGRhdGEtYmFsbG9vbi1wb3M9XCJ1cFwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci1pY29uLWNvbnRlbnRcIj4nK2kuZ2V0KFwic3VidGl0bGVcIikrXCI8L3NwYW4+PC9idXR0b24+PC9kaXY+XCI6XCJcIikrJzxkaXYgY2xhc3M9XCJkcGxheWVyLXNldHRpbmdcIj48YnV0dG9uIGNsYXNzPVwiZHBsYXllci1pY29uIGRwbGF5ZXItc2V0dGluZy1pY29uXCIgZGF0YS1iYWxsb29uPVwiJytuKFwiU2V0dGluZ1wiKSsnXCIgZGF0YS1iYWxsb29uLXBvcz1cInVwXCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLWljb24tY29udGVudFwiPicraS5nZXQoXCJzZXR0aW5nXCIpKyc8L3NwYW4+PC9idXR0b24+PGRpdiBjbGFzcz1cImRwbGF5ZXItc2V0dGluZy1ib3hcIj48ZGl2IGNsYXNzPVwiZHBsYXllci1zZXR0aW5nLW9yaWdpbi1wYW5lbFwiPjxkaXYgY2xhc3M9XCJkcGxheWVyLXNldHRpbmctaXRlbSBkcGxheWVyLXNldHRpbmctc3BlZWRcIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItbGFiZWxcIj4nK24oXCJTcGVlZFwiKSsnPC9zcGFuPjxkaXYgY2xhc3M9XCJkcGxheWVyLXRvZ2dsZVwiPicraS5nZXQoXCJyaWdodFwiKSsnPC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cImRwbGF5ZXItc2V0dGluZy1pdGVtIGRwbGF5ZXItc2V0dGluZy1sb29wXCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLWxhYmVsXCI+JytuKFwiTG9vcFwiKSsnPC9zcGFuPjxkaXYgY2xhc3M9XCJkcGxheWVyLXRvZ2dsZVwiPjxpbnB1dCBjbGFzcz1cImRwbGF5ZXItdG9nZ2xlLXNldHRpbmctaW5wdXRcIiB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwiZHBsYXllci10b2dnbGVcIj48bGFiZWwgZm9yPVwiZHBsYXllci10b2dnbGVcIj48L2xhYmVsPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJkcGxheWVyLXNldHRpbmctaXRlbSBkcGxheWVyLXNldHRpbmctc2hvd2RhblwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci1sYWJlbFwiPicrbihcIlNob3cgZGFubWFrdVwiKSsnPC9zcGFuPjxkaXYgY2xhc3M9XCJkcGxheWVyLXRvZ2dsZVwiPjxpbnB1dCBjbGFzcz1cImRwbGF5ZXItc2hvd2Rhbi1zZXR0aW5nLWlucHV0XCIgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cImRwbGF5ZXItdG9nZ2xlLWRhblwiPjxsYWJlbCBmb3I9XCJkcGxheWVyLXRvZ2dsZS1kYW5cIj48L2xhYmVsPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJkcGxheWVyLXNldHRpbmctaXRlbSBkcGxheWVyLXNldHRpbmctZGFudW5saW1pdFwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci1sYWJlbFwiPicrbihcIlVubGltaXRlZCBkYW5tYWt1XCIpKyc8L3NwYW4+PGRpdiBjbGFzcz1cImRwbGF5ZXItdG9nZ2xlXCI+PGlucHV0IGNsYXNzPVwiZHBsYXllci1kYW51bmxpbWl0LXNldHRpbmctaW5wdXRcIiB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwiZHBsYXllci10b2dnbGUtZGFudW5saW1pdFwiPjxsYWJlbCBmb3I9XCJkcGxheWVyLXRvZ2dsZS1kYW51bmxpbWl0XCI+PC9sYWJlbD48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwiZHBsYXllci1zZXR0aW5nLWl0ZW0gZHBsYXllci1zZXR0aW5nLWRhbm1ha3VcIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItbGFiZWxcIj4nK24oXCJPcGFjaXR5IGZvciBkYW5tYWt1XCIpKyc8L3NwYW4+PGRpdiBjbGFzcz1cImRwbGF5ZXItZGFubWFrdS1iYXItd3JhcFwiPjxkaXYgY2xhc3M9XCJkcGxheWVyLWRhbm1ha3UtYmFyXCI+PGRpdiBjbGFzcz1cImRwbGF5ZXItZGFubWFrdS1iYXItaW5uZXJcIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItdGh1bWJcIj48L3NwYW4+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cImRwbGF5ZXItc2V0dGluZy1zcGVlZC1wYW5lbFwiPjxkaXYgY2xhc3M9XCJkcGxheWVyLXNldHRpbmctc3BlZWQtaXRlbVwiIGRhdGEtc3BlZWQ9XCIwLjVcIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItbGFiZWxcIj4wLjU8L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cImRwbGF5ZXItc2V0dGluZy1zcGVlZC1pdGVtXCIgZGF0YS1zcGVlZD1cIjAuNzVcIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItbGFiZWxcIj4wLjc1PC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XCJkcGxheWVyLXNldHRpbmctc3BlZWQtaXRlbVwiIGRhdGEtc3BlZWQ9XCIxXCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLWxhYmVsXCI+JytuKFwiTm9ybWFsXCIpKyc8L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cImRwbGF5ZXItc2V0dGluZy1zcGVlZC1pdGVtXCIgZGF0YS1zcGVlZD1cIjEuMjVcIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItbGFiZWxcIj4xLjI1PC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XCJkcGxheWVyLXNldHRpbmctc3BlZWQtaXRlbVwiIGRhdGEtc3BlZWQ9XCIxLjVcIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItbGFiZWxcIj4xLjU8L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cImRwbGF5ZXItc2V0dGluZy1zcGVlZC1pdGVtXCIgZGF0YS1zcGVlZD1cIjJcIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItbGFiZWxcIj4yPC9zcGFuPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJkcGxheWVyLWZ1bGxcIj48YnV0dG9uIGNsYXNzPVwiZHBsYXllci1pY29uIGRwbGF5ZXItZnVsbC1pbi1pY29uXCIgZGF0YS1iYWxsb29uPVwiJytuKFwiV2ViIGZ1bGwgc2NyZWVuXCIpKydcIiBkYXRhLWJhbGxvb24tcG9zPVwidXBcIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItaWNvbi1jb250ZW50XCI+JytpLmdldChcImZ1bGwtaW5cIikrJzwvc3Bhbj48L2J1dHRvbj48YnV0dG9uIGNsYXNzPVwiZHBsYXllci1pY29uIGRwbGF5ZXItZnVsbC1pY29uXCIgZGF0YS1iYWxsb29uPVwiJytuKFwiRnVsbCBzY3JlZW5cIikrJ1wiIGRhdGEtYmFsbG9vbi1wb3M9XCJ1cFwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci1pY29uLWNvbnRlbnRcIj4nK2kuZ2V0KFwiZnVsbFwiKSsnPC9zcGFuPjwvYnV0dG9uPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJkcGxheWVyLWJhci13cmFwXCI+PGRpdiBjbGFzcz1cImRwbGF5ZXItYmFyLXRpbWUgaGlkZGVuXCI+MDA6MDA8L2Rpdj48ZGl2IGNsYXNzPVwiZHBsYXllci1iYXItcHJldmlld1wiPjwvZGl2PjxkaXYgY2xhc3M9XCJkcGxheWVyLWJhclwiPjxkaXYgY2xhc3M9XCJkcGxheWVyLWxvYWRlZFwiIHN0eWxlPVwid2lkdGg6IDA7XCI+PC9kaXY+PGRpdiBjbGFzcz1cImRwbGF5ZXItcGxheWVkXCIgc3R5bGU9XCJ3aWR0aDogMDsgYmFja2dyb3VuZDogJytlLnRoZW1lKydcIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItdGh1bWJcIiBzdHlsZT1cImJhY2tncm91bmQ6ICcrZS50aGVtZSsnXCI+PC9zcGFuPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PicrdGhpcy50cGxDb250ZXh0bWVudUxpc3QoZS5jb250ZXh0bWVudSxuKSsnPGRpdiBjbGFzcz1cImRwbGF5ZXItbm90aWNlXCI+PC9kaXY+J319LHtrZXk6XCJ0cGxEYW5tYWt1bWFyZ2luXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9XCJcIjtpZihlKWZvcih2YXIgbiBpbiBlKXQrPW4rXCI6XCIrZVtuXStcIjtcIjtyZXR1cm4gdH19LHtrZXk6XCJ0cGxDb250ZXh0bWVudUxpc3RcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0nPGRpdiBjbGFzcz1cImRwbGF5ZXItbWVudVwiPicsaT0wO2k8ZS5sZW5ndGg7aSsrKW4rPSc8ZGl2IGNsYXNzPVwiZHBsYXllci1tZW51LWl0ZW1cIj48YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiJytlW2ldLmxpbmsrJ1wiPicrdChlW2ldLnRleHQpK1wiPC9hPjwvZGl2PlwiO3JldHVybiBuKz1cIjwvZGl2PlwifX0se2tleTpcInRwbFF1YWxpdHlMaXN0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PSc8ZGl2IGNsYXNzPVwiZHBsYXllci1xdWFsaXR5LWxpc3RcIj4nLG49MDtuPGUubGVuZ3RoO24rKyl0Kz0nPGRpdiBjbGFzcz1cImRwbGF5ZXItcXVhbGl0eS1pdGVtXCIgZGF0YS1pbmRleD1cIicrbisnXCI+JytlW25dLm5hbWUrXCI8L2Rpdj5cIjtyZXR1cm4gdCs9XCI8L2Rpdj5cIn19LHtrZXk6XCJ0cGxWaWRlb1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLGksYSxvKXt2YXIgcz1vJiZcIndlYnZ0dFwiPT09by50eXBlO3JldHVybic8dmlkZW8gY2xhc3M9XCJkcGxheWVyLXZpZGVvICcrKGU/J2RwbGF5ZXItdmlkZW8tY3VycmVudFwiJzpcIlwiKSsnXCIgJysodD8ncG9zdGVyPVwiJyt0KydcIic6XCJcIikrXCIgd2Via2l0LXBsYXlzaW5saW5lIHBsYXlzaW5saW5lIFwiKyhufHxzPydjcm9zc29yaWdpbj1cImFub255bW91c1wiJzpcIlwiKStcIiBcIisoaT8ncHJlbG9hZD1cIicraSsnXCInOlwiXCIpKycgc3JjPVwiJythKydcIj4nKyhzPyc8dHJhY2sga2luZD1cIm1ldGFkYXRhXCIgZGVmYXVsdCBzcmM9XCInK28udXJsKydcIj48L3RyYWNrPic6XCJcIikrXCI8L3ZpZGVvPlwifX1dKSxlfSgpO3QuZGVmYXVsdD1vfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtpKHRoaXMsZSksdGhpcy5pY29ucz10Lmljb25zLHRoaXMuaWNvbkNvbG9yPXQuaWNvbnNDb2xvcn1yZXR1cm4gYShlLFt7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiJysodGhpcy5pY29uc1tlXVsyXXx8XCIxMDAlXCIpKydcIiBoZWlnaHQ9XCInKyh0aGlzLmljb25zW2VdWzJdfHxcIjEwMCVcIikrJ1wiIHZlcnNpb249XCIxLjFcIiB2aWV3Qm94PVwiJyt0aGlzLmljb25zW2VdWzBdKydcIj48cGF0aCBjbGFzcz1cImRwbGF5ZXItZmlsbFwiIHN0eWxlPVwiZmlsbDonK3RoaXMuaWNvbkNvbG9yKydcIiBkPVwiJyt0aGlzLmljb25zW2VdWzFdKydcIiBpZD1cImRwbGF5ZXItJytlKydcIj48L3BhdGg+PC9zdmc+J319XSksZX0oKTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtpKHRoaXMsZSksdGhpcy5vcHRpb25zPXQsdGhpcy5jb250YWluZXI9dGhpcy5vcHRpb25zLmNvbnRhaW5lcix0aGlzLmRhblR1bm5lbD17cmlnaHQ6e30sdG9wOnt9LGJvdHRvbTp7fX0sdGhpcy5kYW5JbmRleD0wLHRoaXMuZGFuPVtdLHRoaXMuc2hvd2luZz0hMCx0aGlzLl9vcGFjaXR5PXRoaXMub3B0aW9ucy5vcGFjaXR5LHRoaXMuZXZlbnRzPXRoaXMub3B0aW9ucy5ldmVudHMsdGhpcy51bmxpbWl0ZWQ9dGhpcy5vcHRpb25zLnVubGltaXRlZCx0aGlzLl9tZWFzdXJlKFwiXCIpLHRoaXMubG9hZCgpfXJldHVybiBvKGUsW3trZXk6XCJsb2FkXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dm9pZCAwO3Q9dGhpcy5vcHRpb25zLmFwaS5tYXhpbXVtP3RoaXMub3B0aW9ucy5hcGkuYWRkcmVzcytcInYyLz9pZD1cIit0aGlzLm9wdGlvbnMuYXBpLmlkK1wiJm1heD1cIit0aGlzLm9wdGlvbnMuYXBpLm1heGltdW06dGhpcy5vcHRpb25zLmFwaS5hZGRyZXNzK1widjIvP2lkPVwiK3RoaXMub3B0aW9ucy5hcGkuaWQ7dmFyIG49KHRoaXMub3B0aW9ucy5hcGkuYWRkaXRpb258fFtdKS5zbGljZSgwKTtuLnB1c2godCksdGhpcy5ldmVudHMmJnRoaXMuZXZlbnRzLnRyaWdnZXIoXCJkYW5tYWt1X2xvYWRfc3RhcnRcIixuKSx0aGlzLl9yZWFkQWxsRW5kcG9pbnRzKG4sZnVuY3Rpb24odCl7ZS5kYW49W10uY29uY2F0LmFwcGx5KFtdLHQpLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS50aW1lLXQudGltZX0pLHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXtlLmZyYW1lKCl9KSxlLm9wdGlvbnMuY2FsbGJhY2soKSxlLmV2ZW50cyYmZS5ldmVudHMudHJpZ2dlcihcImRhbm1ha3VfbG9hZF9lbmRcIil9KX19LHtrZXk6XCJyZWxvYWRcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm9wdGlvbnMuYXBpPWUsdGhpcy5kYW49W10sdGhpcy5jbGVhcigpLHRoaXMubG9hZCgpfX0se2tleTpcIl9yZWFkQWxsRW5kcG9pbnRzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dGhpcyxpPVtdLGE9MCxvPTA7bzxlLmxlbmd0aDsrK28pdGhpcy5vcHRpb25zLmFwaUJhY2tlbmQucmVhZChlW29dLGZ1bmN0aW9uKG8pe3JldHVybiBmdW5jdGlvbihzLHIpe2lmKCsrYSxzKXMucmVzcG9uc2U/bi5vcHRpb25zLmVycm9yKHMucmVzcG9uc2UubXNnKTpuLm9wdGlvbnMuZXJyb3IoXCJSZXF1ZXN0IHdhcyB1bnN1Y2Nlc3NmdWw6IFwiK3Muc3RhdHVzKSxpW29dPVtdO2Vsc2V7dmFyIGw9W1wicmlnaHRcIixcInRvcFwiLFwiYm90dG9tXCJdO2lbb109cj9yLm1hcChmdW5jdGlvbihlKXtyZXR1cm57dGltZTplWzBdLHR5cGU6bFtlWzFdXSxjb2xvcjplWzJdLGF1dGhvcjplWzNdLHRleHQ6ZVs0XX19KTpbXX1pZihhPT09ZS5sZW5ndGgpcmV0dXJuIHQoaSl9fShvKSl9fSx7a2V5Olwic2VuZFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49e3Rva2VuOnRoaXMub3B0aW9ucy5hcGkudG9rZW4scGxheWVyOnRoaXMub3B0aW9ucy5hcGkuaWQsYXV0aG9yOnRoaXMub3B0aW9ucy5hcGkudXNlcix0aW1lOnRoaXMub3B0aW9ucy50aW1lKCksdGV4dDplLnRleHQsY29sb3I6ZS5jb2xvcix0eXBlOmUudHlwZX07dGhpcy5vcHRpb25zLmFwaUJhY2tlbmQuc2VuZCh0aGlzLm9wdGlvbnMuYXBpLmFkZHJlc3MrXCJ2Mi9cIixuLHQpLHRoaXMuZGFuLnNwbGljZSh0aGlzLmRhbkluZGV4LDAsbiksdGhpcy5kYW5JbmRleCsrO3ZhciBpPXt0ZXh0OnRoaXMuaHRtbEVuY29kZShuLnRleHQpLGNvbG9yOm4uY29sb3IsdHlwZTpuLnR5cGUsYm9yZGVyOlwiMnB4IHNvbGlkIFwiK3RoaXMub3B0aW9ucy5ib3JkZXJDb2xvcn07dGhpcy5kcmF3KGkpLHRoaXMuZXZlbnRzJiZ0aGlzLmV2ZW50cy50cmlnZ2VyKFwiZGFubWFrdV9zZW5kXCIsbil9fSx7a2V5OlwiZnJhbWVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy5kYW4ubGVuZ3RoJiYhdGhpcy5wYXVzZWQmJnRoaXMuc2hvd2luZyl7Zm9yKHZhciB0PXRoaXMuZGFuW3RoaXMuZGFuSW5kZXhdLG49W107dCYmdGhpcy5vcHRpb25zLnRpbWUoKT5wYXJzZUZsb2F0KHQudGltZSk7KW4ucHVzaCh0KSx0PXRoaXMuZGFuWysrdGhpcy5kYW5JbmRleF07dGhpcy5kcmF3KG4pfXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXtlLmZyYW1lKCl9KX19LHtrZXk6XCJvcGFjaXR5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT09ZSl7Zm9yKHZhciB0PXRoaXMuY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJkcGxheWVyLWRhbm1ha3UtaXRlbVwiKSxuPTA7bjx0Lmxlbmd0aDtuKyspdFtuXS5zdHlsZS5vcGFjaXR5PWU7dGhpcy5fb3BhY2l0eT1lLHRoaXMuZXZlbnRzJiZ0aGlzLmV2ZW50cy50cmlnZ2VyKFwiZGFubWFrdV9vcGFjaXR5XCIsdGhpcy5fb3BhY2l0eSl9cmV0dXJuIHRoaXMuX29wYWNpdHl9fSx7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5zaG93aW5nKXt2YXIgbj10aGlzLm9wdGlvbnMuaGVpZ2h0LGk9dGhpcy5jb250YWluZXIub2Zmc2V0V2lkdGgsbz10aGlzLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQscz1wYXJzZUludChvL24pLHI9ZnVuY3Rpb24oZSl7dmFyIG49ZS5vZmZzZXRXaWR0aHx8cGFyc2VJbnQoZS5zdHlsZS53aWR0aCksaT1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0fHx0LmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCtuO3JldHVybiB0LmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodC1pfSxsPWZ1bmN0aW9uKGUpe3JldHVybihpK2UpLzV9LGM9ZnVuY3Rpb24oZSxuLG8pe2Zvcih2YXIgYz1pL2wobyksdT0wO3QudW5saW1pdGVkfHx1PHM7dSsrKXt2YXIgZD1mdW5jdGlvbihhKXt2YXIgbz10LmRhblR1bm5lbFtuXVthK1wiXCJdO2lmKCFvfHwhby5sZW5ndGgpcmV0dXJuIHQuZGFuVHVubmVsW25dW2ErXCJcIl09W2VdLGUuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLGZ1bmN0aW9uKCl7dC5kYW5UdW5uZWxbbl1bYStcIlwiXS5zcGxpY2UoMCwxKX0pLHt2OmElc307aWYoXCJyaWdodFwiIT09bilyZXR1cm5cImNvbnRpbnVlXCI7Zm9yKHZhciB1PTA7dTxvLmxlbmd0aDt1Kyspe3ZhciBkPXIob1t1XSktMTA7aWYoZDw9aS1jKmwocGFyc2VJbnQob1t1XS5zdHlsZS53aWR0aCkpfHxkPD0wKWJyZWFrO2lmKHU9PT1vLmxlbmd0aC0xKXJldHVybiB0LmRhblR1bm5lbFtuXVthK1wiXCJdLnB1c2goZSksZS5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsZnVuY3Rpb24oKXt0LmRhblR1bm5lbFtuXVthK1wiXCJdLnNwbGljZSgwLDEpfSkse3Y6YSVzfX19KHUpO3N3aXRjaChkKXtjYXNlXCJjb250aW51ZVwiOmNvbnRpbnVlO2RlZmF1bHQ6aWYoXCJvYmplY3RcIj09PSh2b2lkIDA9PT1kP1widW5kZWZpbmVkXCI6YShkKSkpcmV0dXJuIGQudn19cmV0dXJuLTF9O1wiW29iamVjdCBBcnJheV1cIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSYmKGU9W2VdKTtmb3IodmFyIHU9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGQ9MDtkPGUubGVuZ3RoO2QrKykhZnVuY3Rpb24oYSl7ZVthXS50eXBlfHwoZVthXS50eXBlPVwicmlnaHRcIiksZVthXS5jb2xvcnx8KGVbYV0uY29sb3I9XCIjZmZmXCIpO3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7by5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1kYW5tYWt1LWl0ZW1cIiksby5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1kYW5tYWt1LVwiK2VbYV0udHlwZSksZVthXS5ib3JkZXI/by5pbm5lckhUTUw9JzxzcGFuIHN0eWxlPVwiYm9yZGVyOicrZVthXS5ib3JkZXIrJ1wiPicrZVthXS50ZXh0K1wiPC9zcGFuPlwiOm8uaW5uZXJIVE1MPWVbYV0udGV4dCxvLnN0eWxlLm9wYWNpdHk9dC5fb3BhY2l0eSxvLnN0eWxlLmNvbG9yPWVbYV0uY29sb3Isby5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsZnVuY3Rpb24oKXt0LmNvbnRhaW5lci5yZW1vdmVDaGlsZChvKX0pO3ZhciBzPXQuX21lYXN1cmUoZVthXS50ZXh0KSxyPXZvaWQgMDtzd2l0Y2goZVthXS50eXBlKXtjYXNlXCJyaWdodFwiOnI9YyhvLGVbYV0udHlwZSxzKSxyPj0wJiYoby5zdHlsZS53aWR0aD1zKzErXCJweFwiLG8uc3R5bGUudG9wPW4qcitcInB4XCIsby5zdHlsZS50cmFuc2Zvcm09XCJ0cmFuc2xhdGVYKC1cIitpK1wicHgpXCIpO2JyZWFrO2Nhc2VcInRvcFwiOnI9YyhvLGVbYV0udHlwZSkscj49MCYmKG8uc3R5bGUudG9wPW4qcitcInB4XCIpO2JyZWFrO2Nhc2VcImJvdHRvbVwiOnI9YyhvLGVbYV0udHlwZSkscj49MCYmKG8uc3R5bGUuYm90dG9tPW4qcitcInB4XCIpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcihcIkNhbid0IGhhbmRsZWQgZGFubWFrdSB0eXBlOiBcIitlW2FdLnR5cGUpfXI+PTAmJihvLmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLWRhbm1ha3UtbW92ZVwiKSx1LmFwcGVuZENoaWxkKG8pKX0oZCk7cmV0dXJuIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHUpLHV9fX0se2tleTpcInBsYXlcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGF1c2VkPSExfX0se2tleTpcInBhdXNlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBhdXNlZD0hMH19LHtrZXk6XCJfbWVhc3VyZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLmNvbnRleHQpe3ZhciB0PWdldENvbXB1dGVkU3R5bGUodGhpcy5jb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImRwbGF5ZXItZGFubWFrdS1pdGVtXCIpWzBdLG51bGwpO3RoaXMuY29udGV4dD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLmdldENvbnRleHQoXCIyZFwiKSx0aGlzLmNvbnRleHQuZm9udD10LmdldFByb3BlcnR5VmFsdWUoXCJmb250XCIpfXJldHVybiB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQoZSkud2lkdGh9fSx7a2V5Olwic2Vla1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jbGVhcigpO2Zvcih2YXIgZT0wO2U8dGhpcy5kYW4ubGVuZ3RoO2UrKyl7aWYodGhpcy5kYW5bZV0udGltZT49dGhpcy5vcHRpb25zLnRpbWUoKSl7dGhpcy5kYW5JbmRleD1lO2JyZWFrfXRoaXMuZGFuSW5kZXg9dGhpcy5kYW4ubGVuZ3RofX19LHtrZXk6XCJjbGVhclwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5kYW5UdW5uZWw9e3JpZ2h0Ont9LHRvcDp7fSxib3R0b206e319LHRoaXMuZGFuSW5kZXg9MCx0aGlzLm9wdGlvbnMuY29udGFpbmVyLmlubmVySFRNTD1cIlwiLHRoaXMuZXZlbnRzJiZ0aGlzLmV2ZW50cy50cmlnZ2VyKFwiZGFubWFrdV9jbGVhclwiKX19LHtrZXk6XCJodG1sRW5jb2RlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvJi9nLFwiJmFtcDtcIikucmVwbGFjZSgvPC9nLFwiJmx0O1wiKS5yZXBsYWNlKC8+L2csXCImZ3Q7XCIpLnJlcGxhY2UoL1wiL2csXCImcXVvdDtcIikucmVwbGFjZSgvJy9nLFwiJiN4Mjc7XCIpLnJlcGxhY2UoL1xcLy9nLFwiJiN4MmY7XCIpfX0se2tleTpcInJlc2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuY29udGFpbmVyLm9mZnNldFdpZHRoLHQ9dGhpcy5jb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImRwbGF5ZXItZGFubWFrdS1pdGVtXCIpLG49MDtuPHQubGVuZ3RoO24rKyl0W25dLnN0eWxlLnRyYW5zZm9ybT1cInRyYW5zbGF0ZVgoLVwiK2UrXCJweClcIn19LHtrZXk6XCJoaWRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNob3dpbmc9ITEsdGhpcy5wYXVzZSgpLHRoaXMuY2xlYXIoKSx0aGlzLmV2ZW50cyYmdGhpcy5ldmVudHMudHJpZ2dlcihcImRhbm1ha3VfaGlkZVwiKX19LHtrZXk6XCJzaG93XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNlZWsoKSx0aGlzLnNob3dpbmc9ITAsdGhpcy5wbGF5KCksdGhpcy5ldmVudHMmJnRoaXMuZXZlbnRzLnRyaWdnZXIoXCJkYW5tYWt1X3Nob3dcIil9fSx7a2V5OlwidW5saW1pdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMudW5saW1pdGVkPWV9fV0pLGV9KCk7dC5kZWZhdWx0PXN9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7aSh0aGlzLGUpLHRoaXMuZXZlbnRzPXt9LHRoaXMudmlkZW9FdmVudHM9W1wiYWJvcnRcIixcImNhbnBsYXlcIixcImNhbnBsYXl0aHJvdWdoXCIsXCJkdXJhdGlvbmNoYW5nZVwiLFwiZW1wdGllZFwiLFwiZW5kZWRcIixcImVycm9yXCIsXCJsb2FkZWRkYXRhXCIsXCJsb2FkZWRtZXRhZGF0YVwiLFwibG9hZHN0YXJ0XCIsXCJtb3phdWRpb2F2YWlsYWJsZVwiLFwicGF1c2VcIixcInBsYXlcIixcInBsYXlpbmdcIixcInByb2dyZXNzXCIsXCJyYXRlY2hhbmdlXCIsXCJzZWVrZWRcIixcInNlZWtpbmdcIixcInN0YWxsZWRcIixcInN1c3BlbmRcIixcInRpbWV1cGRhdGVcIixcInZvbHVtZWNoYW5nZVwiLFwid2FpdGluZ1wiXSx0aGlzLnBsYXllckV2ZW50cz1bXCJzY3JlZW5zaG90XCIsXCJ0aHVtYm5haWxzX3Nob3dcIixcInRodW1ibmFpbHNfaGlkZVwiLFwiZGFubWFrdV9zaG93XCIsXCJkYW5tYWt1X2hpZGVcIixcImRhbm1ha3VfY2xlYXJcIixcImRhbm1ha3VfbG9hZGVkXCIsXCJkYW5tYWt1X3NlbmRcIixcImRhbm1ha3Vfb3BhY2l0eVwiLFwiY29udGV4dG1lbnVfc2hvd1wiLFwiY29udGV4dG1lbnVfaGlkZVwiLFwibm90aWNlX3Nob3dcIixcIm5vdGljZV9oaWRlXCIsXCJxdWFsaXR5X3N0YXJ0XCIsXCJxdWFsaXR5X2VuZFwiLFwiZGVzdHJveVwiLFwicmVzaXplXCIsXCJmdWxsc2NyZWVuXCIsXCJmdWxsc2NyZWVuX2NhbmNlbFwiLFwid2ViZnVsbHNjcmVlblwiLFwid2ViZnVsbHNjcmVlbl9jYW5jZWxcIixcInN1YnRpdGxlX3Nob3dcIixcInN1YnRpdGxlX2hpZGVcIixcInN1YnRpdGxlX2NoYW5nZVwiXX1yZXR1cm4gYShlLFt7a2V5Olwib25cIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMudHlwZShlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKHRoaXMuZXZlbnRzW2VdfHwodGhpcy5ldmVudHNbZV09W10pLHRoaXMuZXZlbnRzW2VdLnB1c2godCkpfX0se2tleTpcInRyaWdnZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKHRoaXMuZXZlbnRzW2VdJiZ0aGlzLmV2ZW50c1tlXS5sZW5ndGgpZm9yKHZhciBuPTA7bjx0aGlzLmV2ZW50c1tlXS5sZW5ndGg7bisrKXRoaXMuZXZlbnRzW2VdW25dKHQpfX0se2tleTpcInR5cGVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4tMSE9PXRoaXMucGxheWVyRXZlbnRzLmluZGV4T2YoZSk/XCJwbGF5ZXJcIjotMSE9PXRoaXMudmlkZW9FdmVudHMuaW5kZXhPZihlKT9cInZpZGVvXCI6KGNvbnNvbGUuZXJyb3IoXCJVbmtub3duIGV2ZW50IG5hbWU6IFwiK2UpLG51bGwpfX1dKSxlfSgpO3QuZGVmYXVsdD1vfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxvPW4oMCkscz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG8pLHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBuPXRoaXM7aSh0aGlzLGUpLHRoaXMucGxheWVyPXQsdGhpcy5wbGF5ZXIuZXZlbnRzLm9uKFwid2ViZnVsbHNjcmVlblwiLGZ1bmN0aW9uKCl7bi5wbGF5ZXIucmVzaXplKCl9KSx0aGlzLnBsYXllci5ldmVudHMub24oXCJ3ZWJmdWxsc2NyZWVuX2NhbmNlbFwiLGZ1bmN0aW9uKCl7bi5wbGF5ZXIucmVzaXplKCkscy5kZWZhdWx0LnNldFNjcm9sbFBvc2l0aW9uKG4ubGFzdFNjcm9sbFBvc2l0aW9uKX0pO3ZhciBhPWZ1bmN0aW9uKCl7bi5wbGF5ZXIucmVzaXplKCksbi5pc0Z1bGxTY3JlZW4oXCJicm93c2VyXCIpP24ucGxheWVyLmV2ZW50cy50cmlnZ2VyKFwiZnVsbHNjcmVlblwiKToocy5kZWZhdWx0LnNldFNjcm9sbFBvc2l0aW9uKG4ubGFzdFNjcm9sbFBvc2l0aW9uKSxuLnBsYXllci5ldmVudHMudHJpZ2dlcihcImZ1bGxzY3JlZW5fY2FuY2VsXCIpKX07dGhpcy5wbGF5ZXIuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJmdWxsc2NyZWVuY2hhbmdlXCIsYSksdGhpcy5wbGF5ZXIuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3pmdWxsc2NyZWVuY2hhbmdlXCIsYSksdGhpcy5wbGF5ZXIuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCIsYSl9cmV0dXJuIGEoZSxbe2tleTpcImlzRnVsbFNjcmVlblwiLHZhbHVlOmZ1bmN0aW9uKCl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcImJyb3dzZXJcIil7Y2FzZVwiYnJvd3NlclwiOnJldHVybiBkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudHx8ZG9jdW1lbnQubW96RnVsbFNjcmVlbkVsZW1lbnR8fGRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50O2Nhc2VcIndlYlwiOnJldHVybiB0aGlzLnBsYXllci5jb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZHBsYXllci1mdWxsZWRcIil9fX0se2tleTpcInJlcXVlc3RcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcImJyb3dzZXJcIix0PVwiYnJvd3NlclwiPT09ZT9cIndlYlwiOlwiYnJvd3NlclwiLG49dGhpcy5pc0Z1bGxTY3JlZW4odCk7c3dpdGNoKG58fCh0aGlzLmxhc3RTY3JvbGxQb3NpdGlvbj1zLmRlZmF1bHQuZ2V0U2Nyb2xsUG9zaXRpb24oKSksZSl7Y2FzZVwiYnJvd3NlclwiOnRoaXMucGxheWVyLmNvbnRhaW5lci5yZXF1ZXN0RnVsbHNjcmVlbj90aGlzLnBsYXllci5jb250YWluZXIucmVxdWVzdEZ1bGxzY3JlZW4oKTp0aGlzLnBsYXllci5jb250YWluZXIubW96UmVxdWVzdEZ1bGxTY3JlZW4/dGhpcy5wbGF5ZXIuY29udGFpbmVyLm1velJlcXVlc3RGdWxsU2NyZWVuKCk6dGhpcy5wbGF5ZXIuY29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuP3RoaXMucGxheWVyLmNvbnRhaW5lci53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpOnRoaXMucGxheWVyLnZpZGVvLndlYmtpdEVudGVyRnVsbHNjcmVlbiYmdGhpcy5wbGF5ZXIudmlkZW8ud2Via2l0RW50ZXJGdWxsc2NyZWVuKCk7YnJlYWs7Y2FzZVwid2ViXCI6dGhpcy5wbGF5ZXIuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLWZ1bGxlZFwiKSxkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLXdlYi1mdWxsc2NyZWVuLWZpeFwiKSx0aGlzLnBsYXllci5ldmVudHMudHJpZ2dlcihcIndlYmZ1bGxzY3JlZW5cIil9biYmdGhpcy5jYW5jZWwodCl9fSx7a2V5OlwiY2FuY2VsXCIsdmFsdWU6ZnVuY3Rpb24oKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlwiYnJvd3NlclwiKXtjYXNlXCJicm93c2VyXCI6ZG9jdW1lbnQuY2FuY2VsRnVsbFNjcmVlbj9kb2N1bWVudC5jYW5jZWxGdWxsU2NyZWVuKCk6ZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbj9kb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuKCk6ZG9jdW1lbnQud2Via2l0Q2FuY2VsRnVsbFNjcmVlbiYmZG9jdW1lbnQud2Via2l0Q2FuY2VsRnVsbFNjcmVlbigpO2JyZWFrO2Nhc2VcIndlYlwiOnRoaXMucGxheWVyLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiZHBsYXllci1mdWxsZWRcIiksZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwiZHBsYXllci13ZWItZnVsbHNjcmVlbi1maXhcIiksdGhpcy5wbGF5ZXIuZXZlbnRzLnRyaWdnZXIoXCJ3ZWJmdWxsc2NyZWVuX2NhbmNlbFwiKX19fSx7a2V5OlwidG9nZ2xlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06XCJicm93c2VyXCI7dGhpcy5pc0Z1bGxTY3JlZW4oZSk/dGhpcy5jYW5jZWwoZSk6dGhpcy5yZXF1ZXN0KGUpfX1dKSxlfSgpO3QuZGVmYXVsdD1yfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxvPW4oMCkscz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG8pLHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe2kodGhpcyxlKSx0aGlzLnN0b3JhZ2VOYW1lPXtvcGFjaXR5OlwiZHBsYXllci1kYW5tYWt1LW9wYWNpdHlcIix2b2x1bWU6XCJkcGxheWVyLXZvbHVtZVwiLHVubGltaXRlZDpcImRwbGF5ZXItZGFubWFrdS11bmxpbWl0ZWRcIixkYW5tYWt1OlwiZHBsYXllci1kYW5tYWt1LXNob3dcIixzdWJ0aXRsZTpcImRwbGF5ZXItc3VidGl0bGUtc2hvd1wifSx0aGlzLmRlZmF1bHQ9e29wYWNpdHk6Ljcsdm9sdW1lOnQub3B0aW9ucy52b2x1bWV8fC43LHVubGltaXRlZDoodC5vcHRpb25zLmRhbm1ha3UmJnQub3B0aW9ucy5kYW5tYWt1LnVubGltaXRlZD8xOjApfHwwLGRhbm1ha3U6MSxzdWJ0aXRsZToxfSx0aGlzLmRhdGE9e30sdGhpcy5pbml0KCl9cmV0dXJuIGEoZSxbe2tleTpcImluaXRcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLnN0b3JhZ2VOYW1lKXt2YXIgdD10aGlzLnN0b3JhZ2VOYW1lW2VdO3RoaXMuZGF0YVtlXT1wYXJzZUZsb2F0KHMuZGVmYXVsdC5zdG9yYWdlLmdldCh0KXx8dGhpcy5kZWZhdWx0W2VdKX19fSx7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGF0YVtlXX19LHtrZXk6XCJzZXRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuZGF0YVtlXT10LHMuZGVmYXVsdC5zdG9yYWdlLnNldCh0aGlzLnN0b3JhZ2VOYW1lW2VdLHQpfX1dKSxlfSgpO3QuZGVmYXVsdD1yfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4sYSxvKXtpKHRoaXMsZSksdGhpcy5jb250YWluZXI9dCx0aGlzLnZpZGVvPW4sdGhpcy5vcHRpb25zPWEsdGhpcy5ldmVudHM9byx0aGlzLmluaXQoKX1yZXR1cm4gYShlLFt7a2V5OlwiaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLmNvbnRhaW5lci5zdHlsZS5mb250U2l6ZT10aGlzLm9wdGlvbnMuZm9udFNpemUsdGhpcy5jb250YWluZXIuc3R5bGUuYm90dG9tPXRoaXMub3B0aW9ucy5ib3R0b20sdGhpcy5jb250YWluZXIuc3R5bGUuY29sb3I9dGhpcy5vcHRpb25zLmNvbG9yLHRoaXMudmlkZW8udGV4dFRyYWNrcyYmdGhpcy52aWRlby50ZXh0VHJhY2tzWzBdKXt2YXIgdD10aGlzLnZpZGVvLnRleHRUcmFja3NbMF07dC5vbmN1ZWNoYW5nZT1mdW5jdGlvbigpe3ZhciBuPXQuYWN0aXZlQ3Vlc1swXTtpZihuKXtlLmNvbnRhaW5lci5pbm5lckhUTUw9XCJcIjt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtpLmFwcGVuZENoaWxkKG4uZ2V0Q3VlQXNIVE1MKCkpLGUuY29udGFpbmVyLmFwcGVuZENoaWxkKGkpfWVsc2UgZS5jb250YWluZXIuaW5uZXJIVE1MPVwiXCI7ZS5ldmVudHMudHJpZ2dlcihcInN1YnRpdGxlX2NoYW5nZVwiKX19fX0se2tleTpcInNob3dcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJkcGxheWVyLXN1YnRpdGxlLWhpZGVcIiksdGhpcy5ldmVudHMudHJpZ2dlcihcInN1YnRpdGxlX3Nob3dcIil9fSx7a2V5OlwiaGlkZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItc3VidGl0bGUtaGlkZVwiKSx0aGlzLmV2ZW50cy50cmlnZ2VyKFwic3VidGl0bGVfaGlkZVwiKX19LHtrZXk6XCJ0b2dnbGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucyhcImRwbGF5ZXItc3VidGl0bGUtaGlkZVwiKT90aGlzLnNob3coKTp0aGlzLmhpZGUoKX19XSksZX0oKTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7aSh0aGlzLGUpLHRoaXMuZWxlbWVudHM9e30sdGhpcy5lbGVtZW50cy52b2x1bWU9dC52b2x1bWVCYXIsdGhpcy5lbGVtZW50cy5wbGF5ZWQ9dC5wbGF5ZWRCYXIsdGhpcy5lbGVtZW50cy5sb2FkZWQ9dC5sb2FkZWRCYXIsdGhpcy5lbGVtZW50cy5kYW5tYWt1PXQuZGFubWFrdU9wYWNpdHlCYXJ9cmV0dXJuIGEoZSxbe2tleTpcInNldFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt0PU1hdGgubWF4KHQsMCksdD1NYXRoLm1pbih0LDEpLHRoaXMuZWxlbWVudHNbZV0uc3R5bGVbbl09MTAwKnQrXCIlXCJ9fSx7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlRmxvYXQodGhpcy5lbGVtZW50c1tlXS5zdHlsZS53aWR0aCkvMTAwfX1dKSxlfSgpO3QuZGVmYXVsdD1vfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxvPW4oMCkscz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG8pLHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe2kodGhpcyxlKSx0aGlzLnBsYXllcj10LHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oZSl7d2luZG93LnNldFRpbWVvdXQoZSwxZTMvNjApfX0oKSx0aGlzLnR5cGVzPVtcImxvYWRpbmdcIixcInByb2dyZXNzXCJdLHRoaXMuaW5pdCgpfXJldHVybiBhKGUsW3trZXk6XCJpbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMudHlwZXMubGVuZ3RoO2UrKyl7dGhpc1tcImluaXRcIit0aGlzLnR5cGVzW2VdK1wiQ2hlY2tlclwiXSgpfX19LHtrZXk6XCJpbml0bG9hZGluZ0NoZWNrZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD0wLG49MCxpPSExO3RoaXMubG9hZGluZ0NoZWNrZXI9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtlLmVuYWJsZWxvYWRpbmdDaGVja2VyJiYobj1lLnBsYXllci52aWRlby5jdXJyZW50VGltZSxpfHxuIT09dHx8ZS5wbGF5ZXIudmlkZW8ucGF1c2VkfHwoZS5wbGF5ZXIuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLWxvYWRpbmdcIiksaT0hMCksaSYmbj50JiYhZS5wbGF5ZXIudmlkZW8ucGF1c2VkJiYoZS5wbGF5ZXIuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJkcGxheWVyLWxvYWRpbmdcIiksaT0hMSksdD1uKX0sMTAwKX19LHtrZXk6XCJpbml0cHJvZ3Jlc3NDaGVja2VyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMucHJvZ3Jlc3NDaGVja2VyPXNldEludGVydmFsKGZ1bmN0aW9uKCl7aWYoZS5lbmFibGVwcm9ncmVzc0NoZWNrZXIpe2UucGxheWVyLmJhci5zZXQoXCJwbGF5ZWRcIixlLnBsYXllci52aWRlby5jdXJyZW50VGltZS9lLnBsYXllci52aWRlby5kdXJhdGlvbixcIndpZHRoXCIpO3ZhciB0PXMuZGVmYXVsdC5zZWNvbmRUb1RpbWUoZS5wbGF5ZXIudmlkZW8uY3VycmVudFRpbWUpO2UucGxheWVyLnRlbXBsYXRlLnB0aW1lLmlubmVySFRNTCE9PXQmJihlLnBsYXllci50ZW1wbGF0ZS5wdGltZS5pbm5lckhUTUw9cy5kZWZhdWx0LnNlY29uZFRvVGltZShlLnBsYXllci52aWRlby5jdXJyZW50VGltZSkpfX0sMTAwKX19LHtrZXk6XCJlbmFibGVcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihlKXRoaXNbXCJlbmFibGVcIitlK1wiQ2hlY2tlclwiXT0hMDtlbHNlIGZvcih2YXIgdD0wO3Q8dGhpcy50eXBlcy5sZW5ndGg7dCsrKXt2YXIgbj10aGlzLnR5cGVzW3RdO3RoaXNbXCJlbmFibGVcIituK1wiQ2hlY2tlclwiXT0hMH19fSx7a2V5OlwiZGlzYWJsZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKGUpdGhpc1tcImVuYWJsZVwiK2UrXCJDaGVja2VyXCJdPSExO2Vsc2UgZm9yKHZhciB0PTA7dDx0aGlzLnR5cGVzLmxlbmd0aDt0Kyspe3ZhciBuPXRoaXMudHlwZXNbdF07dGhpc1tcImVuYWJsZVwiK24rXCJDaGVja2VyXCJdPSExfX19LHtrZXk6XCJkZXN0cm95XCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoZSljbGVhckludGVydmFsKHRoaXNbZStcIkNoZWNrZXJcIl0pO2Vsc2UgZm9yKHZhciB0PTA7dDx0aGlzLnR5cGVzLmxlbmd0aDt0KyspY2xlYXJJbnRlcnZhbCh0aGlzW3RoaXMudHlwZXNbdF0rXCJDaGVja2VyXCJdKX19XSksZX0oKTt0LmRlZmF1bHQ9cn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49dGhpcztpKHRoaXMsZSksdGhpcy5jb250YWluZXI9dCx0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsZnVuY3Rpb24oKXtuLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiZHBsYXllci1iZXplbC10cmFuc2l0aW9uXCIpfSl9cmV0dXJuIGEoZSxbe2tleTpcInN3aXRjaFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuY29udGFpbmVyLmlubmVySFRNTD1lLHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLWJlemVsLXRyYW5zaXRpb25cIil9fV0pLGV9KCk7dC5kZWZhdWx0PW99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBhKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHM9bigwKSxyPWkocyksbD1uKDI0KSxjPWkobCksdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49dGhpczthKHRoaXMsZSksdGhpcy5wbGF5ZXI9dCx0aGlzLmF1dG9IaWRlVGltZXI9MCxyLmRlZmF1bHQuaXNNb2JpbGV8fCh0aGlzLnBsYXllci5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLGZ1bmN0aW9uKCl7bi5zZXRBdXRvSGlkZSgpfSksdGhpcy5wbGF5ZXIuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7bi5zZXRBdXRvSGlkZSgpfSksdGhpcy5wbGF5ZXIub24oXCJwbGF5XCIsZnVuY3Rpb24oKXtuLnNldEF1dG9IaWRlKCl9KSx0aGlzLnBsYXllci5vbihcInBhdXNlXCIsZnVuY3Rpb24oKXtuLnNldEF1dG9IaWRlKCl9KSksdGhpcy5pbml0UGxheUJ1dHRvbigpLHRoaXMuaW5pdFRodW1ibmFpbHMoKSx0aGlzLmluaXRQbGF5ZWRCYXIoKSx0aGlzLmluaXRGdWxsQnV0dG9uKCksdGhpcy5pbml0UXVhbGl0eUJ1dHRvbigpLHRoaXMuaW5pdFNjcmVlbnNob3RCdXR0b24oKSx0aGlzLmluaXRTdWJ0aXRsZUJ1dHRvbigpLHIuZGVmYXVsdC5pc01vYmlsZXx8dGhpcy5pbml0Vm9sdW1lQnV0dG9uKCl9cmV0dXJuIG8oZSxbe2tleTpcImluaXRQbGF5QnV0dG9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMucGxheWVyLnRlbXBsYXRlLnBsYXlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtlLnBsYXllci50b2dnbGUoKX0pLHIuZGVmYXVsdC5pc01vYmlsZT8odGhpcy5wbGF5ZXIudGVtcGxhdGUudmlkZW9XcmFwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7ZS50b2dnbGUoKX0pLHRoaXMucGxheWVyLnRlbXBsYXRlLmNvbnRyb2xsZXJNYXNrLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7ZS50b2dnbGUoKX0pKToodGhpcy5wbGF5ZXIudGVtcGxhdGUudmlkZW9XcmFwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7ZS5wbGF5ZXIudG9nZ2xlKCl9KSx0aGlzLnBsYXllci50ZW1wbGF0ZS5jb250cm9sbGVyTWFzay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe2UucGxheWVyLnRvZ2dsZSgpfSkpfX0se2tleTpcImluaXRUaHVtYm5haWxzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMucGxheWVyLm9wdGlvbnMudmlkZW8udGh1bWJuYWlscyYmKHRoaXMudGh1bWJuYWlscz1uZXcgYy5kZWZhdWx0KHtjb250YWluZXI6dGhpcy5wbGF5ZXIudGVtcGxhdGUuYmFyUHJldmlldyxiYXJXaWR0aDp0aGlzLnBsYXllci50ZW1wbGF0ZS5iYXJXcmFwLm9mZnNldFdpZHRoLHVybDp0aGlzLnBsYXllci5vcHRpb25zLnZpZGVvLnRodW1ibmFpbHMsZXZlbnRzOnRoaXMucGxheWVyLmV2ZW50c30pLHRoaXMucGxheWVyLm9uKFwibG9hZGVkbWV0YWRhdGFcIixmdW5jdGlvbigpe2UudGh1bWJuYWlscy5yZXNpemUoMTYwLGUucGxheWVyLnZpZGVvLnZpZGVvSGVpZ2h0L2UucGxheWVyLnZpZGVvLnZpZGVvV2lkdGgqMTYwKX0pKX19LHtrZXk6XCJpbml0UGxheWVkQmFyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZnVuY3Rpb24odCl7dmFyIG49KCh0LmNsaWVudFh8fHQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCktci5kZWZhdWx0LmdldEVsZW1lbnRWaWV3TGVmdChlLnBsYXllci50ZW1wbGF0ZS5wbGF5ZWRCYXJXcmFwKSkvZS5wbGF5ZXIudGVtcGxhdGUucGxheWVkQmFyV3JhcC5jbGllbnRXaWR0aDtuPU1hdGgubWF4KG4sMCksbj1NYXRoLm1pbihuLDEpLGUucGxheWVyLmJhci5zZXQoXCJwbGF5ZWRcIixuLFwid2lkdGhcIiksZS5wbGF5ZXIudGVtcGxhdGUucHRpbWUuaW5uZXJIVE1MPXIuZGVmYXVsdC5zZWNvbmRUb1RpbWUobiplLnBsYXllci52aWRlby5kdXJhdGlvbil9LG49ZnVuY3Rpb24gbihpKXtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5uYW1lTWFwLmRyYWdFbmQsbiksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQubmFtZU1hcC5kcmFnTW92ZSx0KTt2YXIgYT0oKGkuY2xpZW50WHx8aS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYKS1yLmRlZmF1bHQuZ2V0RWxlbWVudFZpZXdMZWZ0KGUucGxheWVyLnRlbXBsYXRlLnBsYXllZEJhcldyYXApKS9lLnBsYXllci50ZW1wbGF0ZS5wbGF5ZWRCYXJXcmFwLmNsaWVudFdpZHRoO2E9TWF0aC5tYXgoYSwwKSxhPU1hdGgubWluKGEsMSksZS5wbGF5ZXIuYmFyLnNldChcInBsYXllZFwiLGEsXCJ3aWR0aFwiKSxlLnBsYXllci5zZWVrKGUucGxheWVyLmJhci5nZXQoXCJwbGF5ZWRcIikqZS5wbGF5ZXIudmlkZW8uZHVyYXRpb24pLGUucGxheWVyLnRpbWUuZW5hYmxlKFwicHJvZ3Jlc3NcIil9O3RoaXMucGxheWVyLnRlbXBsYXRlLnBsYXllZEJhcldyYXAuYWRkRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQubmFtZU1hcC5kcmFnU3RhcnQsZnVuY3Rpb24oKXtlLnBsYXllci50aW1lLmRpc2FibGUoXCJwcm9ncmVzc1wiKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5uYW1lTWFwLmRyYWdNb3ZlLHQpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoci5kZWZhdWx0Lm5hbWVNYXAuZHJhZ0VuZCxuKX0pLHRoaXMucGxheWVyLnRlbXBsYXRlLnBsYXllZEJhcldyYXAuYWRkRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQubmFtZU1hcC5kcmFnTW92ZSxmdW5jdGlvbih0KXtpZihlLnBsYXllci52aWRlby5kdXJhdGlvbil7dmFyIG49ci5kZWZhdWx0LmN1bXVsYXRpdmVPZmZzZXQoZS5wbGF5ZXIudGVtcGxhdGUucGxheWVkQmFyV3JhcCkubGVmdCxpPSh0LmNsaWVudFh8fHQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCktbjtpZihpPDB8fGk+ZS5wbGF5ZXIudGVtcGxhdGUucGxheWVkQmFyV3JhcC5vZmZzZXRXaWR0aClyZXR1cm47dmFyIGE9ZS5wbGF5ZXIudmlkZW8uZHVyYXRpb24qKGkvZS5wbGF5ZXIudGVtcGxhdGUucGxheWVkQmFyV3JhcC5vZmZzZXRXaWR0aCk7ZS50aHVtYm5haWxzJiZlLnRodW1ibmFpbHMubW92ZShpKSxlLnBsYXllci50ZW1wbGF0ZS5wbGF5ZWRCYXJUaW1lLnN0eWxlLmxlZnQ9aS0yMCtcInB4XCIsZS5wbGF5ZXIudGVtcGxhdGUucGxheWVkQmFyVGltZS5pbm5lclRleHQ9ci5kZWZhdWx0LnNlY29uZFRvVGltZShhKSxlLnBsYXllci50ZW1wbGF0ZS5wbGF5ZWRCYXJUaW1lLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIil9fSksdGhpcy5wbGF5ZXIudGVtcGxhdGUucGxheWVkQmFyV3JhcC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLGZ1bmN0aW9uKCl7ZS5wbGF5ZXIudmlkZW8uZHVyYXRpb24mJihlLnRodW1ibmFpbHMmJmUudGh1bWJuYWlscy5zaG93KCksZS5wbGF5ZXIudGVtcGxhdGUucGxheWVkQmFyVGltZS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpKX0pLHRoaXMucGxheWVyLnRlbXBsYXRlLnBsYXllZEJhcldyYXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIixmdW5jdGlvbigpe2UucGxheWVyLnZpZGVvLmR1cmF0aW9uJiYoZS50aHVtYm5haWxzJiZlLnRodW1ibmFpbHMuaGlkZSgpLGUucGxheWVyLnRlbXBsYXRlLnBsYXllZEJhclRpbWUuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKSl9KX19LHtrZXk6XCJpbml0RnVsbEJ1dHRvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnBsYXllci50ZW1wbGF0ZS5icm93c2VyRnVsbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe2UucGxheWVyLmZ1bGxTY3JlZW4udG9nZ2xlKFwiYnJvd3NlclwiKX0pLHRoaXMucGxheWVyLnRlbXBsYXRlLndlYkZ1bGxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtlLnBsYXllci5mdWxsU2NyZWVuLnRvZ2dsZShcIndlYlwiKX0pfX0se2tleTpcImluaXRWb2x1bWVCdXR0b25cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1mdW5jdGlvbih0KXt2YXIgbj10fHx3aW5kb3cuZXZlbnQsaT0oKG4uY2xpZW50WHx8bi5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYKS1yLmRlZmF1bHQuZ2V0RWxlbWVudFZpZXdMZWZ0KGUucGxheWVyLnRlbXBsYXRlLnZvbHVtZUJhcldyYXApLTUuNSkvMzU7ZS5wbGF5ZXIudm9sdW1lKGkpfSxuPWZ1bmN0aW9uIG4oKXtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5uYW1lTWFwLmRyYWdFbmQsbiksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQubmFtZU1hcC5kcmFnTW92ZSx0KSxlLnBsYXllci50ZW1wbGF0ZS52b2x1bWVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImRwbGF5ZXItdm9sdW1lLWFjdGl2ZVwiKX07dGhpcy5wbGF5ZXIudGVtcGxhdGUudm9sdW1lQmFyV3JhcFdyYXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24odCl7dmFyIG49dHx8d2luZG93LmV2ZW50LGk9KChuLmNsaWVudFh8fG4uY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCktci5kZWZhdWx0LmdldEVsZW1lbnRWaWV3TGVmdChlLnBsYXllci50ZW1wbGF0ZS52b2x1bWVCYXJXcmFwKS01LjUpLzM1O2UucGxheWVyLnZvbHVtZShpKX0pLHRoaXMucGxheWVyLnRlbXBsYXRlLnZvbHVtZUJhcldyYXBXcmFwLmFkZEV2ZW50TGlzdGVuZXIoci5kZWZhdWx0Lm5hbWVNYXAuZHJhZ1N0YXJ0LGZ1bmN0aW9uKCl7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQubmFtZU1hcC5kcmFnTW92ZSx0KSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5uYW1lTWFwLmRyYWdFbmQsbiksZS5wbGF5ZXIudGVtcGxhdGUudm9sdW1lQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLXZvbHVtZS1hY3RpdmVcIil9KSx0aGlzLnBsYXllci50ZW1wbGF0ZS52b2x1bWVJY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7ZS5wbGF5ZXIudmlkZW8ubXV0ZWQ/KGUucGxheWVyLnZpZGVvLm11dGVkPSExLGUucGxheWVyLnN3aXRjaFZvbHVtZUljb24oKSxlLnBsYXllci5iYXIuc2V0KFwidm9sdW1lXCIsZS5wbGF5ZXIudm9sdW1lKCksXCJ3aWR0aFwiKSk6KGUucGxheWVyLnZpZGVvLm11dGVkPSEwLGUucGxheWVyLnRlbXBsYXRlLnZvbHVtZUljb24uaW5uZXJIVE1MPWUucGxheWVyLmljb25zLmdldChcInZvbHVtZS1vZmZcIiksZS5wbGF5ZXIuYmFyLnNldChcInZvbHVtZVwiLDAsXCJ3aWR0aFwiKSl9KX19LHtrZXk6XCJpbml0UXVhbGl0eUJ1dHRvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnBsYXllci5vcHRpb25zLnZpZGVvLnF1YWxpdHkmJnRoaXMucGxheWVyLnRlbXBsYXRlLnF1YWxpdHlMaXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKHQpe3QudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImRwbGF5ZXItcXVhbGl0eS1pdGVtXCIpJiZlLnBsYXllci5zd2l0Y2hRdWFsaXR5KHQudGFyZ2V0LmRhdGFzZXQuaW5kZXgpfSl9fSx7a2V5OlwiaW5pdFNjcmVlbnNob3RCdXR0b25cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5wbGF5ZXIub3B0aW9ucy5zY3JlZW5zaG90JiZ0aGlzLnBsYXllci50ZW1wbGF0ZS5jYW1hcmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3Qud2lkdGg9ZS5wbGF5ZXIudmlkZW8udmlkZW9XaWR0aCx0LmhlaWdodD1lLnBsYXllci52aWRlby52aWRlb0hlaWdodCx0LmdldENvbnRleHQoXCIyZFwiKS5kcmF3SW1hZ2UoZS5wbGF5ZXIudmlkZW8sMCwwLHQud2lkdGgsdC5oZWlnaHQpO3ZhciBuPXQudG9EYXRhVVJMKCk7ZS5wbGF5ZXIudGVtcGxhdGUuY2FtYXJlQnV0dG9uLmhyZWY9bixlLnBsYXllci50ZW1wbGF0ZS5jYW1hcmVCdXR0b24uZG93bmxvYWQ9XCJEUGxheWVyLnBuZ1wiLGUucGxheWVyLmV2ZW50cy50cmlnZ2VyKFwic2NyZWVuc2hvdFwiLG4pfSl9fSx7a2V5OlwiaW5pdFN1YnRpdGxlQnV0dG9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMucGxheWVyLm9wdGlvbnMuc3VidGl0bGUmJih0aGlzLnBsYXllci5ldmVudHMub24oXCJzdWJ0aXRsZV9zaG93XCIsZnVuY3Rpb24oKXtlLnBsYXllci50ZW1wbGF0ZS5zdWJ0aXRsZUJ1dHRvbi5kYXRhc2V0LmJhbGxvb249ZS5wbGF5ZXIudHJhbihcIkhpZGUgc3VidGl0bGVcIiksZS5wbGF5ZXIudGVtcGxhdGUuc3VidGl0bGVCdXR0b25Jbm5lci5zdHlsZS5vcGFjaXR5PVwiXCIsZS5wbGF5ZXIudXNlci5zZXQoXCJzdWJ0aXRsZVwiLDEpfSksdGhpcy5wbGF5ZXIuZXZlbnRzLm9uKFwic3VidGl0bGVfaGlkZVwiLGZ1bmN0aW9uKCl7ZS5wbGF5ZXIudGVtcGxhdGUuc3VidGl0bGVCdXR0b24uZGF0YXNldC5iYWxsb29uPWUucGxheWVyLnRyYW4oXCJTaG93IHN1YnRpdGxlXCIpLGUucGxheWVyLnRlbXBsYXRlLnN1YnRpdGxlQnV0dG9uSW5uZXIuc3R5bGUub3BhY2l0eT1cIjAuNFwiLGUucGxheWVyLnVzZXIuc2V0KFwic3VidGl0bGVcIiwwKX0pLHRoaXMucGxheWVyLnRlbXBsYXRlLnN1YnRpdGxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7ZS5wbGF5ZXIuc3VidGl0bGUudG9nZ2xlKCl9KSl9fSx7a2V5Olwic2V0QXV0b0hpZGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5zaG93KCksY2xlYXJUaW1lb3V0KHRoaXMuYXV0b0hpZGVUaW1lciksdGhpcy5hdXRvSGlkZVRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXshZS5wbGF5ZXIudmlkZW8ucGxheWVkLmxlbmd0aHx8ZS5wbGF5ZXIucGF1c2VkfHxlLmRpc2FibGVBdXRvSGlkZXx8ZS5oaWRlKCl9LDNlMyl9fSx7a2V5Olwic2hvd1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wbGF5ZXIuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJkcGxheWVyLWhpZGUtY29udHJvbGxlclwiKX19LHtrZXk6XCJoaWRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBsYXllci5jb250YWluZXIuY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItaGlkZS1jb250cm9sbGVyXCIpLHRoaXMucGxheWVyLnNldHRpbmcuaGlkZSgpLHRoaXMucGxheWVyLmNvbW1lbnQmJnRoaXMucGxheWVyLmNvbW1lbnQuaGlkZSgpfX0se2tleTpcImlzU2hvd1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMucGxheWVyLmNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoXCJkcGxheWVyLWhpZGUtY29udHJvbGxlclwiKX19LHtrZXk6XCJ0b2dnbGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaXNTaG93KCk/dGhpcy5oaWRlKCk6dGhpcy5zaG93KCl9fSx7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuYXV0b0hpZGVUaW1lcil9fV0pLGV9KCk7dC5kZWZhdWx0PXV9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe2kodGhpcyxlKSx0aGlzLmNvbnRhaW5lcj10LmNvbnRhaW5lcix0aGlzLmJhcldpZHRoPXQuYmFyV2lkdGgsdGhpcy5jb250YWluZXIuc3R5bGUuYmFja2dyb3VuZEltYWdlPVwidXJsKCdcIit0LnVybCtcIicpXCIsdGhpcy5ldmVudHM9dC5ldmVudHN9cmV0dXJuIGEoZSxbe2tleTpcInJlc2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5jb250YWluZXIuc3R5bGUud2lkdGg9ZStcInB4XCIsdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0PXQrXCJweFwiLHRoaXMuY29udGFpbmVyLnN0eWxlLnRvcD0yLXQrXCJweFwifX0se2tleTpcInNob3dcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY29udGFpbmVyLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHRoaXMuZXZlbnRzJiZ0aGlzLmV2ZW50cy50cmlnZ2VyKFwidGh1bWJuYWlsc19zaG93XCIpfX0se2tleTpcIm1vdmVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb249XCItXCIrMTYwKihNYXRoLmNlaWwoZS90aGlzLmJhcldpZHRoKjEwMCktMSkrXCJweCAwXCIsdGhpcy5jb250YWluZXIuc3R5bGUubGVmdD1lLXRoaXMuY29udGFpbmVyLm9mZnNldFdpZHRoLzIrXCJweFwifX0se2tleTpcImhpZGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY29udGFpbmVyLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdGhpcy5ldmVudHMmJnRoaXMuZXZlbnRzLnRyaWdnZXIoXCJ0aHVtYm5haWxzX2hpZGVcIil9fV0pLGV9KCk7dC5kZWZhdWx0PW99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLG89bigwKSxzPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obykscj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49dGhpcztpKHRoaXMsZSksdGhpcy5wbGF5ZXI9dCx0aGlzLnBsYXllci50ZW1wbGF0ZS5tYXNrLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7bi5oaWRlKCl9KSx0aGlzLnBsYXllci50ZW1wbGF0ZS5zZXR0aW5nQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7bi5zaG93KCl9KSx0aGlzLmxvb3A9dGhpcy5wbGF5ZXIub3B0aW9ucy5sb29wLHRoaXMucGxheWVyLnRlbXBsYXRlLmxvb3BUb2dnbGUuY2hlY2tlZD10aGlzLmxvb3AsdGhpcy5wbGF5ZXIudGVtcGxhdGUubG9vcC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe24ucGxheWVyLnRlbXBsYXRlLmxvb3BUb2dnbGUuY2hlY2tlZD0hbi5wbGF5ZXIudGVtcGxhdGUubG9vcFRvZ2dsZS5jaGVja2VkLG4ucGxheWVyLnRlbXBsYXRlLmxvb3BUb2dnbGUuY2hlY2tlZD9uLmxvb3A9ITA6bi5sb29wPSExLG4uaGlkZSgpfSksdGhpcy5zaG93RGFubWFrdT10aGlzLnBsYXllci51c2VyLmdldChcImRhbm1ha3VcIiksdGhpcy5zaG93RGFubWFrdXx8dGhpcy5wbGF5ZXIuZGFubWFrdSYmdGhpcy5wbGF5ZXIuZGFubWFrdS5oaWRlKCksdGhpcy5wbGF5ZXIudGVtcGxhdGUuc2hvd0Rhbm1ha3VUb2dnbGUuY2hlY2tlZD10aGlzLnNob3dEYW5tYWt1LHRoaXMucGxheWVyLnRlbXBsYXRlLnNob3dEYW5tYWt1LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7bi5wbGF5ZXIudGVtcGxhdGUuc2hvd0Rhbm1ha3VUb2dnbGUuY2hlY2tlZD0hbi5wbGF5ZXIudGVtcGxhdGUuc2hvd0Rhbm1ha3VUb2dnbGUuY2hlY2tlZCxuLnBsYXllci50ZW1wbGF0ZS5zaG93RGFubWFrdVRvZ2dsZS5jaGVja2VkPyhuLnNob3dEYW5tYWt1PSEwLG4ucGxheWVyLmRhbm1ha3Uuc2hvdygpKToobi5zaG93RGFubWFrdT0hMSxuLnBsYXllci5kYW5tYWt1LmhpZGUoKSksbi5wbGF5ZXIudXNlci5zZXQoXCJkYW5tYWt1XCIsbi5zaG93RGFubWFrdT8xOjApLG4uaGlkZSgpfSksdGhpcy51bmxpbWl0RGFubWFrdT10aGlzLnBsYXllci51c2VyLmdldChcInVubGltaXRlZFwiKSx0aGlzLnBsYXllci50ZW1wbGF0ZS51bmxpbWl0RGFubWFrdVRvZ2dsZS5jaGVja2VkPXRoaXMudW5saW1pdERhbm1ha3UsdGhpcy5wbGF5ZXIudGVtcGxhdGUudW5saW1pdERhbm1ha3UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtuLnBsYXllci50ZW1wbGF0ZS51bmxpbWl0RGFubWFrdVRvZ2dsZS5jaGVja2VkPSFuLnBsYXllci50ZW1wbGF0ZS51bmxpbWl0RGFubWFrdVRvZ2dsZS5jaGVja2VkLG4ucGxheWVyLnRlbXBsYXRlLnVubGltaXREYW5tYWt1VG9nZ2xlLmNoZWNrZWQ/KG4udW5saW1pdERhbm1ha3U9ITAsbi5wbGF5ZXIuZGFubWFrdS51bmxpbWl0KCEwKSk6KG4udW5saW1pdERhbm1ha3U9ITEsbi5wbGF5ZXIuZGFubWFrdS51bmxpbWl0KCExKSksbi5wbGF5ZXIudXNlci5zZXQoXCJ1bmxpbWl0ZWRcIixuLnVubGltaXREYW5tYWt1PzE6MCksbi5oaWRlKCl9KSx0aGlzLnBsYXllci50ZW1wbGF0ZS5zcGVlZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe24ucGxheWVyLnRlbXBsYXRlLnNldHRpbmdCb3guY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItc2V0dGluZy1ib3gtbmFycm93XCIpLG4ucGxheWVyLnRlbXBsYXRlLnNldHRpbmdCb3guY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItc2V0dGluZy1ib3gtc3BlZWRcIil9KTtmb3IodmFyIGE9MDthPHRoaXMucGxheWVyLnRlbXBsYXRlLnNwZWVkSXRlbS5sZW5ndGg7YSsrKSFmdW5jdGlvbihlKXtuLnBsYXllci50ZW1wbGF0ZS5zcGVlZEl0ZW1bZV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtuLnBsYXllci5zcGVlZChuLnBsYXllci50ZW1wbGF0ZS5zcGVlZEl0ZW1bZV0uZGF0YXNldC5zcGVlZCksbi5oaWRlKCl9KX0oYSk7aWYodGhpcy5wbGF5ZXIuZGFubWFrdSl7dGhpcy5wbGF5ZXIub24oXCJkYW5tYWt1X29wYWNpdHlcIixmdW5jdGlvbihlKXtuLnBsYXllci5iYXIuc2V0KFwiZGFubWFrdVwiLGUsXCJ3aWR0aFwiKSxuLnBsYXllci51c2VyLnNldChcIm9wYWNpdHlcIixlKX0pLHRoaXMucGxheWVyLmRhbm1ha3Uub3BhY2l0eSh0aGlzLnBsYXllci51c2VyLmdldChcIm9wYWNpdHlcIikpO3ZhciBvPWZ1bmN0aW9uKGUpe3ZhciB0PWV8fHdpbmRvdy5ldmVudCxpPSgodC5jbGllbnRYfHx0LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFgpLXMuZGVmYXVsdC5nZXRFbGVtZW50Vmlld0xlZnQobi5wbGF5ZXIudGVtcGxhdGUuZGFubWFrdU9wYWNpdHlCYXJXcmFwKSkvMTMwO2k9TWF0aC5tYXgoaSwwKSxpPU1hdGgubWluKGksMSksbi5wbGF5ZXIuZGFubWFrdS5vcGFjaXR5KGkpfSxyPWZ1bmN0aW9uIGUoKXtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHMuZGVmYXVsdC5uYW1lTWFwLmRyYWdFbmQsZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihzLmRlZmF1bHQubmFtZU1hcC5kcmFnTW92ZSxvKSxuLnBsYXllci50ZW1wbGF0ZS5kYW5tYWt1T3BhY2l0eUJveC5jbGFzc0xpc3QucmVtb3ZlKFwiZHBsYXllci1zZXR0aW5nLWRhbm1ha3UtYWN0aXZlXCIpfTt0aGlzLnBsYXllci50ZW1wbGF0ZS5kYW5tYWt1T3BhY2l0eUJhcldyYXBXcmFwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKGUpe3ZhciB0PWV8fHdpbmRvdy5ldmVudCxpPSgodC5jbGllbnRYfHx0LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFgpLXMuZGVmYXVsdC5nZXRFbGVtZW50Vmlld0xlZnQobi5wbGF5ZXIudGVtcGxhdGUuZGFubWFrdU9wYWNpdHlCYXJXcmFwKSkvMTMwO2k9TWF0aC5tYXgoaSwwKSxpPU1hdGgubWluKGksMSksbi5wbGF5ZXIuZGFubWFrdS5vcGFjaXR5KGkpfSksdGhpcy5wbGF5ZXIudGVtcGxhdGUuZGFubWFrdU9wYWNpdHlCYXJXcmFwV3JhcC5hZGRFdmVudExpc3RlbmVyKHMuZGVmYXVsdC5uYW1lTWFwLmRyYWdTdGFydCxmdW5jdGlvbigpe2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIocy5kZWZhdWx0Lm5hbWVNYXAuZHJhZ01vdmUsbyksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihzLmRlZmF1bHQubmFtZU1hcC5kcmFnRW5kLHIpLG4ucGxheWVyLnRlbXBsYXRlLmRhbm1ha3VPcGFjaXR5Qm94LmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLXNldHRpbmctZGFubWFrdS1hY3RpdmVcIil9KX19cmV0dXJuIGEoZSxbe2tleTpcImhpZGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5wbGF5ZXIudGVtcGxhdGUuc2V0dGluZ0JveC5jbGFzc0xpc3QucmVtb3ZlKFwiZHBsYXllci1zZXR0aW5nLWJveC1vcGVuXCIpLHRoaXMucGxheWVyLnRlbXBsYXRlLm1hc2suY2xhc3NMaXN0LnJlbW92ZShcImRwbGF5ZXItbWFzay1zaG93XCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLnBsYXllci50ZW1wbGF0ZS5zZXR0aW5nQm94LmNsYXNzTGlzdC5yZW1vdmUoXCJkcGxheWVyLXNldHRpbmctYm94LW5hcnJvd1wiKSxlLnBsYXllci50ZW1wbGF0ZS5zZXR0aW5nQm94LmNsYXNzTGlzdC5yZW1vdmUoXCJkcGxheWVyLXNldHRpbmctYm94LXNwZWVkXCIpfSwzMDApLHRoaXMucGxheWVyLmNvbnRyb2xsZXIuZGlzYWJsZUF1dG9IaWRlPSExfX0se2tleTpcInNob3dcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGxheWVyLnRlbXBsYXRlLnNldHRpbmdCb3guY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItc2V0dGluZy1ib3gtb3BlblwiKSx0aGlzLnBsYXllci50ZW1wbGF0ZS5tYXNrLmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLW1hc2stc2hvd1wiKSx0aGlzLnBsYXllci5jb250cm9sbGVyLmRpc2FibGVBdXRvSGlkZT0hMH19XSksZX0oKTt0LmRlZmF1bHQ9cn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49dGhpcztpKHRoaXMsZSksdGhpcy5wbGF5ZXI9dCx0aGlzLnBsYXllci50ZW1wbGF0ZS5tYXNrLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7bi5oaWRlKCl9KSx0aGlzLnBsYXllci50ZW1wbGF0ZS5jb21tZW50QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7bi5zaG93KCl9KSx0aGlzLnBsYXllci50ZW1wbGF0ZS5jb21tZW50U2V0dGluZ0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe24udG9nZ2xlU2V0dGluZygpfSksdGhpcy5wbGF5ZXIudGVtcGxhdGUuY29tbWVudENvbG9yU2V0dGluZ0JveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe2lmKG4ucGxheWVyLnRlbXBsYXRlLmNvbW1lbnRDb2xvclNldHRpbmdCb3gucXVlcnlTZWxlY3RvcihcImlucHV0OmNoZWNrZWQrc3BhblwiKSl7dmFyIGU9bi5wbGF5ZXIudGVtcGxhdGUuY29tbWVudENvbG9yU2V0dGluZ0JveC5xdWVyeVNlbGVjdG9yKFwiaW5wdXQ6Y2hlY2tlZFwiKS52YWx1ZTtuLnBsYXllci50ZW1wbGF0ZS5jb21tZW50U2V0dGluZ0ZpbGwuc3R5bGUuZmlsbD1lLG4ucGxheWVyLnRlbXBsYXRlLmNvbW1lbnRJbnB1dC5zdHlsZS5jb2xvcj1lLG4ucGxheWVyLnRlbXBsYXRlLmNvbW1lbnRTZW5kRmlsbC5zdHlsZS5maWxsPWV9fSksdGhpcy5wbGF5ZXIudGVtcGxhdGUuY29tbWVudElucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7bi5oaWRlU2V0dGluZygpfSksdGhpcy5wbGF5ZXIudGVtcGxhdGUuY29tbWVudElucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsZnVuY3Rpb24oZSl7MTM9PT0oZXx8d2luZG93LmV2ZW50KS5rZXlDb2RlJiZuLnNlbmQoKX0pLHRoaXMucGxheWVyLnRlbXBsYXRlLmNvbW1lbnRTZW5kQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7bi5zZW5kKCl9KX1yZXR1cm4gYShlLFt7a2V5Olwic2hvd1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wbGF5ZXIuY29udHJvbGxlci5kaXNhYmxlQXV0b0hpZGU9ITAsdGhpcy5wbGF5ZXIudGVtcGxhdGUuY29udHJvbGxlci5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1jb250cm9sbGVyLWNvbW1lbnRcIiksdGhpcy5wbGF5ZXIudGVtcGxhdGUubWFzay5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1tYXNrLXNob3dcIiksdGhpcy5wbGF5ZXIuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLXNob3ctY29udHJvbGxlclwiKSx0aGlzLnBsYXllci50ZW1wbGF0ZS5jb21tZW50SW5wdXQuZm9jdXMoKX19LHtrZXk6XCJoaWRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBsYXllci50ZW1wbGF0ZS5jb250cm9sbGVyLmNsYXNzTGlzdC5yZW1vdmUoXCJkcGxheWVyLWNvbnRyb2xsZXItY29tbWVudFwiKSx0aGlzLnBsYXllci50ZW1wbGF0ZS5tYXNrLmNsYXNzTGlzdC5yZW1vdmUoXCJkcGxheWVyLW1hc2stc2hvd1wiKSx0aGlzLnBsYXllci5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcImRwbGF5ZXItc2hvdy1jb250cm9sbGVyXCIpLHRoaXMucGxheWVyLmNvbnRyb2xsZXIuZGlzYWJsZUF1dG9IaWRlPSExLHRoaXMuaGlkZVNldHRpbmcoKX19LHtrZXk6XCJzaG93U2V0dGluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wbGF5ZXIudGVtcGxhdGUuY29tbWVudFNldHRpbmdCb3guY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItY29tbWVudC1zZXR0aW5nLW9wZW5cIil9fSx7a2V5OlwiaGlkZVNldHRpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGxheWVyLnRlbXBsYXRlLmNvbW1lbnRTZXR0aW5nQm94LmNsYXNzTGlzdC5yZW1vdmUoXCJkcGxheWVyLWNvbW1lbnQtc2V0dGluZy1vcGVuXCIpfX0se2tleTpcInRvZ2dsZVNldHRpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGxheWVyLnRlbXBsYXRlLmNvbW1lbnRTZXR0aW5nQm94LmNsYXNzTGlzdC5jb250YWlucyhcImRwbGF5ZXItY29tbWVudC1zZXR0aW5nLW9wZW5cIik/dGhpcy5oaWRlU2V0dGluZygpOnRoaXMuc2hvd1NldHRpbmcoKX19LHtrZXk6XCJzZW5kXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMucGxheWVyLnRlbXBsYXRlLmNvbW1lbnRJbnB1dC5ibHVyKCksIXRoaXMucGxheWVyLnRlbXBsYXRlLmNvbW1lbnRJbnB1dC52YWx1ZS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLFwiXCIpKXJldHVybiB2b2lkIHRoaXMucGxheWVyLm5vdGljZSh0aGlzLnBsYXllci50cmFuKFwiUGxlYXNlIGlucHV0IGRhbm1ha3UgY29udGVudCFcIikpO3RoaXMucGxheWVyLmRhbm1ha3Uuc2VuZCh7dGV4dDp0aGlzLnBsYXllci50ZW1wbGF0ZS5jb21tZW50SW5wdXQudmFsdWUsY29sb3I6dGhpcy5wbGF5ZXIuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1jb21tZW50LXNldHRpbmctY29sb3IgaW5wdXQ6Y2hlY2tlZFwiKS52YWx1ZSx0eXBlOnRoaXMucGxheWVyLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItY29tbWVudC1zZXR0aW5nLXR5cGUgaW5wdXQ6Y2hlY2tlZFwiKS52YWx1ZX0sZnVuY3Rpb24oKXtlLnBsYXllci50ZW1wbGF0ZS5jb21tZW50SW5wdXQudmFsdWU9XCJcIixlLmhpZGUoKX0pfX1dKSxlfSgpO3QuZGVmYXVsdD1vfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9ZnVuY3Rpb24gZSh0KXtpKHRoaXMsZSksdC5vcHRpb25zLmhvdGtleSYmZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixmdW5jdGlvbihlKXtpZih0LmZvY3VzKXt2YXIgbj1kb2N1bWVudC5hY3RpdmVFbGVtZW50LnRhZ05hbWUudG9VcHBlckNhc2UoKSxpPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpO2lmKFwiSU5QVVRcIiE9PW4mJlwiVEVYVEFSRUFcIiE9PW4mJlwiXCIhPT1pJiZcInRydWVcIiE9PWkpe3ZhciBhPWV8fHdpbmRvdy5ldmVudCxvPXZvaWQgMDtzd2l0Y2goYS5rZXlDb2RlKXtjYXNlIDMyOmEucHJldmVudERlZmF1bHQoKSx0LnRvZ2dsZSgpO2JyZWFrO2Nhc2UgMzc6YS5wcmV2ZW50RGVmYXVsdCgpLHQuc2Vlayh0LnZpZGVvLmN1cnJlbnRUaW1lLTUpLHQuY29udHJvbGxlci5zZXRBdXRvSGlkZSgpO2JyZWFrO2Nhc2UgMzk6YS5wcmV2ZW50RGVmYXVsdCgpLHQuc2Vlayh0LnZpZGVvLmN1cnJlbnRUaW1lKzUpLHQuY29udHJvbGxlci5zZXRBdXRvSGlkZSgpO2JyZWFrO2Nhc2UgMzg6YS5wcmV2ZW50RGVmYXVsdCgpLG89dC52b2x1bWUoKSsuMSx0LnZvbHVtZShvKTticmVhaztjYXNlIDQwOmEucHJldmVudERlZmF1bHQoKSxvPXQudm9sdW1lKCktLjEsdC52b2x1bWUobyl9fX19KSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLGZ1bmN0aW9uKGUpe3N3aXRjaCgoZXx8d2luZG93LmV2ZW50KS5rZXlDb2RlKXtjYXNlIDI3OnQuZnVsbFNjcmVlbi5pc0Z1bGxTY3JlZW4oXCJ3ZWJcIikmJnQuZnVsbFNjcmVlbi5jYW5jZWwoXCJ3ZWJcIil9fSl9O3QuZGVmYXVsdD1hfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgbj10aGlzO2kodGhpcyxlKSx0aGlzLnBsYXllcj10LHRoaXMucGxheWVyLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIixmdW5jdGlvbihlKXt2YXIgdD1lfHx3aW5kb3cuZXZlbnQ7dC5wcmV2ZW50RGVmYXVsdCgpO3ZhciBpPW4ucGxheWVyLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtuLnNob3codC5jbGllbnRYLWkubGVmdCx0LmNsaWVudFktaS50b3ApLG4ucGxheWVyLnRlbXBsYXRlLm1hc2suYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtuLmhpZGUoKX0pfSl9cmV0dXJuIGEoZSxbe2tleTpcInNob3dcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMucGxheWVyLnRlbXBsYXRlLm1lbnUuY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItbWVudS1zaG93XCIpO3ZhciBuPXRoaXMucGxheWVyLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtlK3RoaXMucGxheWVyLnRlbXBsYXRlLm1lbnUub2Zmc2V0V2lkdGg+PW4ud2lkdGg/KHRoaXMucGxheWVyLnRlbXBsYXRlLm1lbnUuc3R5bGUucmlnaHQ9bi53aWR0aC1lK1wicHhcIix0aGlzLnBsYXllci50ZW1wbGF0ZS5tZW51LnN0eWxlLmxlZnQ9XCJpbml0aWFsXCIpOih0aGlzLnBsYXllci50ZW1wbGF0ZS5tZW51LnN0eWxlLmxlZnQ9ZStcInB4XCIsdGhpcy5wbGF5ZXIudGVtcGxhdGUubWVudS5zdHlsZS5yaWdodD1cImluaXRpYWxcIiksdCt0aGlzLnBsYXllci50ZW1wbGF0ZS5tZW51Lm9mZnNldEhlaWdodD49bi5oZWlnaHQ/KHRoaXMucGxheWVyLnRlbXBsYXRlLm1lbnUuc3R5bGUuYm90dG9tPW4uaGVpZ2h0LXQrXCJweFwiLHRoaXMucGxheWVyLnRlbXBsYXRlLm1lbnUuc3R5bGUudG9wPVwiaW5pdGlhbFwiKToodGhpcy5wbGF5ZXIudGVtcGxhdGUubWVudS5zdHlsZS50b3A9dCtcInB4XCIsdGhpcy5wbGF5ZXIudGVtcGxhdGUubWVudS5zdHlsZS5ib3R0b209XCJpbml0aWFsXCIpLHRoaXMucGxheWVyLnRlbXBsYXRlLm1hc2suY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItbWFzay1zaG93XCIpLHRoaXMucGxheWVyLmV2ZW50cy50cmlnZ2VyKFwiY29udGV4dG1lbnVfc2hvd1wiKX19LHtrZXk6XCJoaWRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBsYXllci50ZW1wbGF0ZS5tYXNrLmNsYXNzTGlzdC5yZW1vdmUoXCJkcGxheWVyLW1hc2stc2hvd1wiKSx0aGlzLnBsYXllci50ZW1wbGF0ZS5tZW51LmNsYXNzTGlzdC5yZW1vdmUoXCJkcGxheWVyLW1lbnUtc2hvd1wiKSx0aGlzLnBsYXllci5ldmVudHMudHJpZ2dlcihcImNvbnRleHRtZW51X2hpZGVcIil9fV0pLGV9KCk7dC5kZWZhdWx0PW99XSkuZGVmYXVsdH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RFBsYXllci5taW4uanMubWFwIiwiY29uc3QgYyA9IGNvbnNvbGUubG9nLFxuICBkID0gZG9jdW1lbnQsXG4gIG4gPSBuYXZpZ2F0b3IsXG4gIHcgPSB3aW5kb3dcblxuZXhwb3J0IGNvbnN0IGNhdGVnb3JpZXMgPSAoKSA9PiB7XG5cbiAgY29uc3QgcmVhZHlTdGF0ZSA9IHNldEludGVydmFsKCgpID0+IHtcblxuICAgIGlmICggZC5yZWFkeVN0YXRlICA9PT0gJ2NvbXBsZXRlJyApIHtcblxuICAgICAgY2xlYXJJbnRlcnZhbChyZWFkeVN0YXRlKVxuXG4gICAgICBsZXQgdHBsID0gJydcblxuICAgICAgLy9OYWJpZ2F6aW8gYm90b2lhXG4gICAgICBkLmdldEVsZW1lbnRCeUlkKFwiY2F0ZWdvcmllcy1idG5cIikuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5vZmYtY2FudmFzLW1lbnUnKS5jbGFzc0xpc3QudG9nZ2xlKCdpcy1vcGVuJylcblxuICAgICAgICAvL0thdGVnb3JpYW4gaWtvbm9hIChtZW51IG9mZi1jYW52YXMpXG4gICAgICAgIGlmKCBkLnF1ZXJ5U2VsZWN0b3IoJy5uYXYtaWNvbicpLmNsYXNzTGlzdC5jb250YWlucyhcImlzLWFjdGl2ZVwiKSl7XG4gICAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcubmF2LWljb24nKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKVxuICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcubmF2LWljb24nKS5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLy9zY2FwZSB0ZWtsYSBiaWRleiBpdHhpIG1lbnVhXG4gICAgICBkLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGUpID0+IHtcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAyNykge1xuICAgICAgICAgIGQucXVlcnlTZWxlY3RvcignLm9mZi1jYW52YXMtbWVudScpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKVxuICAgICAgICAgIGQucXVlcnlTZWxlY3RvcignLm5hdi1pY29uJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJylcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgLy9LYXRlZ29yaWFrIGVrYXJyaVxuICAgICAgZnVuY3Rpb24gZmV0Y2hBbGxDYXRlZ29yaWVzKGRhdGEsIHJlcXVlc3RGcm9tQkdTeW5jKSB7XG4gICAgICAgIC8vQmVoYXJyZXprbyBzZWt6aW9hayBlemt1dGF0dVxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uJykuZm9yRWFjaCggc2VjdGlvbiA9PiB7XG4gICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QuYWRkKCd1LWhpZGUnKVxuICAgICAgICB9KVxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5jYXRlZ29yaWVzJykuY2xhc3NMaXN0LnJlbW92ZSgndS1oaWRlJylcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcudHYnKS5jbGFzc0xpc3QucmVtb3ZlKCd1LWhpZGUnKVxuXG4gICAgICAgIGZldGNoKGRhdGEpXG4gICAgICAgICAgLnRoZW4oIHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSApXG4gICAgICAgICAgLnRoZW4oanNvbiA9PiB7XG5cbiAgICAgICAgICAgIGlmICggIXJlcXVlc3RGcm9tQkdTeW5jICkge1xuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnY2F0ZWdvcnktbGlzdCcpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsb2NhbEpzb25DYXRlZ29yaWVzJywgSlNPTi5zdHJpbmdpZnkoanNvbikpO1xuXG4gICAgICAgICAgICBqc29uLm1lbWJlci5mb3JFYWNoKGpzb25DYXQgPT4ge1xuICAgICAgICAgICAgICB0cGwgKz0gYFxuICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImNhdGVnb3J5LWlkXCIgZGF0YS1jYXRlZ29yeT1cIiR7anNvbkNhdFtcIkBpZFwiXX1cIj5cbiAgICAgICAgICAgICAgICBcdCR7anNvbkNhdC50aXRsZX1cbiAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgIGBcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGQucXVlcnlTZWxlY3RvcignLmNhdGVnb3JpZXNfX2xpc3QnKS5pbm5lckhUTUwgPSB0cGxcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChlcnIgPT5cbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjYXRlZ29yeS1saXN0JywgZGF0YSlcbiAgICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIC8vQXBsaWthemlvcmEgc2FydHplbiBkZW5lYW4gZWdpbiBiZWhhcnJla29hXG4gICAgICBsZXQgZGF0YSA9ICcvL3N0aWxsLWNhc3RsZS05OTc0OS5oZXJva3VhcHAuY29tL3Byb2dyYW0tdHlwZS1saXN0J1xuICAgICAgICBcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjYXRlZ29yeS1saXN0JywgZGF0YSlcblxuICAgICAgZmV0Y2hBbGxDYXRlZ29yaWVzKGRhdGEsIGZhbHNlKVxuXG4gICAgICAvL0JhY2tncm91bmQgU3luYyAocHJvZ3JhbWFrKVxuICAgICAgaWYgKCAnc2VydmljZVdvcmtlcicgaW4gbiAmJiAnU3luY01hbmFnZXInIGluIHcgKSB7XG4gICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyQkdTeW5jICgpIHtcbiAgICAgICAgICBuLnNlcnZpY2VXb3JrZXIucmVhZHlcbiAgICAgICAgICAudGhlbihyZWdpc3RyYXRpb24gPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJlZ2lzdHJhdGlvbi5zeW5jLnJlZ2lzdGVyKCduYWhpZXJhbi10di1jYXRlZ29yaWVzJylcbiAgICAgICAgICAgICAgLnRoZW4oICgpID0+IGMoJ0F0emVrbyBzaW5rcm9uaXphemlvYSBlcnJlZ2lzdHJhdHVhJykgKVxuICAgICAgICAgICAgICAuY2F0Y2goIGVyciA9PiBjKCdFcnJvcmVhIGF0emVrbyBzaW5rcm9uaXphemlvYSBlcnJlZ2lzdHJhdHplYW4nLCBlcnIpIClcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIHJlZ2lzdGVyQkdTeW5jKClcbiAgICAgIH1cbiAgICAgIC8vQmFja2dyb3VuZCBTeW5jIChwcm9ncmFtYWspXG4gICAgICBuLnNlcnZpY2VXb3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGUgPT4ge1xuICAgICAgICBjKCdBdHpla28gc2lua3Jvbml6YXppb2EgbWVzc2FnZSBiaWRlejogJywgZS5kYXRhKVxuICAgICAgICBpZiggZS5kYXRhID09PSAnb25saW5lIG5haGllcmFuLXR2LWNhdGVnb3JpZXMnIClcbiAgICAgICAgICBmZXRjaEFsbENhdGVnb3JpZXMoIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXRlZ29yeS1saXN0JyksIHRydWUpXG4gICAgICB9KVxuXG4gICAgfSAvL3JlYWR5U3RhdGVcblxuICB9LCAxMDAgKS8vaW50ZXJ2YWxcblxuICByZXR1cm4gYFxuICAgIDxkaXYgY2xhc3M9XCJjYXRlZ29yaWVzIG9mZi1jYW52YXMtbWVudVwiPlxuICAgICAgPGRpdiBjbGFzcz1cImxvYWRlclwiPjwvZGl2PlxuICAgICAgPHVsIGNsYXNzPVwiY2F0ZWdvcmllc19fbGlzdFwiPjwvdWw+XG4gICAgPC9kaXY+XG4gICAgYFxufVxuIiwiY29uc3QgYyA9IGNvbnNvbGUubG9nLFxuICBkID0gZG9jdW1lbnQsXG4gIG4gPSBuYXZpZ2F0b3IsXG4gIHcgPSB3aW5kb3dcblxuZXhwb3J0IGNvbnN0IGNhdGVnb3JpZXNTaW5nbGUgPSAoKSA9PiB7XG5cbiAgY29uc3QgcmVhZHlTdGF0ZSA9IHNldEludGVydmFsKCgpID0+IHtcblxuICAgIGlmICggZC5yZWFkeVN0YXRlICA9PT0gJ2NvbXBsZXRlJyApIHtcblxuICAgICAgY2xlYXJJbnRlcnZhbChyZWFkeVN0YXRlKVxuXG4gICAgICAvL0thdGVnb3JpYSB6ZXJyZW5kYSBla2FycmlcbiAgXHQgIGZ1bmN0aW9uIGZldGNoQ2F0ZWdvcnkoanNvbkRhdGEsIHJlcXVlc3RGcm9tQkdTeW5jLCBjYXROYW1lKSB7XG5cblx0XHQgIFx0bGV0IGRhdGEgPSBqc29uRGF0YS5zbGljZSg1KSxcblx0XHQgIFx0ICB0cGwgPSAnJ1xuXG4gICAgICAgIGQucXVlcnlTZWxlY3RvcignLm9mZi1jYW52YXMtbWVudScpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKVxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5uYXYtaWNvbicpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpXG4gICAgICAgIC8vTG9hZGVyIGVyYWt1dHNpXG4gICAgICAgIGQucXVlcnlTZWxlY3RvcignLmxvYWRlci1jYXQnKS5jbGFzc0xpc3QuYWRkKCdsb2FkZXItc2hvdycpXG4gICAgICAgIGQucXVlcnlTZWxlY3RvcignLmxvYWRlci10ZW1wbGF0ZS1jYXQnKS5jbGFzc0xpc3QuYWRkKCdsb2FkZXItc2hvdycpXG4gICAgICAgIC8vQmVoYXJyZXprbyBzZWt6aW9hayBlemt1dGF0dVxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uJykuZm9yRWFjaCggc2VjdGlvbiA9PiB7XG4gICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QuYWRkKCd1LWhpZGUnKVxuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgLy9CaWRlb2EgbWFydHhhbiBiYWRhZ28gZXJlLCBnZXJhdHVcbiAgICAgICAgaWYoZC5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItdmlkZW9cIikpIHtcbiAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci12aWRlb1wiKS5wYXVzZSgpXG4gICAgICAgIH1cblxuICAgICAgICBmZXRjaChkYXRhKVxuICAgICAgICAgIC50aGVuKCByZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkgKVxuICAgICAgICAgIC50aGVuKGpzb24gPT4ge1xuXG4gICAgICAgICAgICBpZiAoICFyZXF1ZXN0RnJvbUJHU3luYyApIHtcbiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2NhdGVnb3J5JylcbiAgICAgIFx0XHRcdH1cblxuICAgICAgICAgICAgLy9Mb2FkZXIgZXprdXRhdHVcbiAgICAgICAgICAgIGQucXVlcnlTZWxlY3RvcignLmxvYWRlci1jYXQnKS5jbGFzc0xpc3QucmVtb3ZlKCdsb2FkZXItc2hvdycpXG4gICAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXItdGVtcGxhdGUtY2F0JykuY2xhc3NMaXN0LnJlbW92ZSgnbG9hZGVyLXNob3cnKVxuXG4gICAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5zaW5nbGUtY2F0JykuY2xhc3NMaXN0LnJlbW92ZSgndS1oaWRlJylcblxuICAgICAgICBcdFx0anNvbi5tZW1iZXIuZm9yRWFjaChqc29uQ2F0ID0+IHtcbiAgICAgICAgICAgICAgdHBsICs9IGBcbiAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzPVwicHJvZ3JhbS1pZFwiIGRhdGEtcHJvZ3JhbT1cIiR7anNvbkNhdFtcIkBpZFwiXX1cIj5cbiAgICAgICAgICAgICAgICAgICAgJHtqc29uQ2F0LnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcuc2luZ2xlLWNhdF9fbGlzdCcpLmlubmVySFRNTCA9IHRwbFxuICAgICAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcuc2luZ2xlLWNhdF9faGVhZGVyJykuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidHZfX3RpdGxlXCI+JHtjYXROYW1lfTwvZGl2PlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInR2X19udW1iZXJcIj4oJHtqc29uLm1lbWJlci5sZW5ndGh9KTwvc3Bhbj4gc2FpbyBlcmFrdXN0ZW5cbiAgICAgICAgICAgICAgYFxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKVxuXG4gICAgICB9IC8vZmV0Y2hDYXRlZ29yeVxuXG4gICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5jYXRlZ29yaWVzX19saXN0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgICAgIGlmKCBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2NhdGVnb3J5LWlkJykgKSB7XG4gICAgICAgICAgdmFyIGNhdE5hbWUgPSBlLnRhcmdldC5pbm5lckhUTUxcbiAgICAgICAgICBsZXQgZGF0YSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jYXRlZ29yeScpXG5cbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2F0ZWdvcnknLCBkYXRhKVxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjYXRlZ29yeS1uYW1lJywgY2F0TmFtZSlcblxuICAgICAgICAgIGZldGNoQ2F0ZWdvcnkoZGF0YSwgZmFsc2UsIGNhdE5hbWUpXG5cbiAgICAgICAgICAvL0JhY2tncm91bmQgU3luYyAoa2F0ZWdvcmlhKVxuICAgICAgICAgIGlmICggJ3NlcnZpY2VXb3JrZXInIGluIG4gJiYgJ1N5bmNNYW5hZ2VyJyBpbiB3ICkge1xuICAgICAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJCR1N5bmMgKCkge1xuICAgICAgICAgICAgICBuLnNlcnZpY2VXb3JrZXIucmVhZHlcbiAgICAgICAgICAgICAgLnRoZW4ocmVnaXN0cmF0aW9uID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVnaXN0cmF0aW9uLnN5bmMucmVnaXN0ZXIoJ25haGllcmFuLWNhdGVnb3J5JylcbiAgICAgICAgICAgICAgICAudGhlbiggKCkgPT4gYygnQXR6ZWtvIHNpbmtyb25pemF6aW9hIGVycmVnaXN0cmF0dWEnKSApXG4gICAgICAgICAgICAgICAgLmNhdGNoKCBlcnIgPT4gYygnRXJyb3JlYSBhdHpla28gc2lua3Jvbml6YXppb2EgZXJyZWdpc3RyYXR6ZWFuJywgZXJyKSApXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWdpc3RlckJHU3luYygpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLy9CYWNrZ3JvdW5kIFN5bmMgKGthdGVnb3JpYSlcbiAgICAgIG4uc2VydmljZVdvcmtlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZSA9PiB7XG5cdFx0ICAgIGNvbnNvbGUubG9nKCdBdHpla28gc2lua3Jvbml6YXppb2EgbWVzc2FnZSBiaWRleiBha3RpYmF0dWE6ICcsIGUuZGF0YSlcblx0XHQgICAgaWYoIGUuZGF0YSA9PT0gJ29ubGluZSBuYWhpZXJhbi1jYXRlZ29yeScpXG5cdFx0ICAgIFx0ZmV0Y2hDYXRlZ29yeShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2F0ZWdvcnknKSwgdHJ1ZSwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NhdGVnb3J5LW5hbWUnKSlcblx0XHQgIH0pXG5cbiAgICB9IC8vcmVhZHlTdGF0ZVxuXG4gIH0sIDEwMCApIC8vaW50ZXJ2YWxcblxuICByZXR1cm4gYFxuICAgIDxkaXYgY2xhc3M9XCJsb2FkZXItdGVtcGxhdGUgbG9hZGVyLXRlbXBsYXRlLWNhdFwiPlxuICAgIFx0PGRpdiBjbGFzcz1cImxvYWRlciBsb2FkZXItY2F0XCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInNpbmdsZS1jYXQgc2VjdGlvbiB1LWhpZGVcIj5cbiAgICAgIDxoZWFkZXIgY2xhc3M9XCJzZWN0aW9uLWhlYWRlciB0dl9faGVhZGVyIHNpbmdsZS1jYXRfX2hlYWRlclwiPjwvaGVhZGVyPlxuICAgICAgPHVsIGNsYXNzPVwidHZfX2xpc3Qgc2luZ2xlLWNhdF9fbGlzdFwiPjwvdWw+XG4gICAgPC9kaXY+XG4gICAgYFxufVxuIiwiaW1wb3J0IHt0dn0gZnJvbSAnLi90dic7XG5cbmNvbnN0IGMgPSBjb25zb2xlLmxvZyxcbiAgZCA9IGRvY3VtZW50LFxuICBuID0gbmF2aWdhdG9yLFxuICB3ID0gd2luZG93XG5cbmV4cG9ydCBjb25zdCBwd2EgPSAoKSA9PiB7XG4gIC8vU2VydmljZSBXb3JrZXJyYSBlcnJlZ2lzdHJhdHVcbiAgaWYgKCAnc2VydmljZVdvcmtlcicgaW4gbiApIHtcbiAgICBuLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJy4vc3cuanMnKVxuICAgIC50aGVuKCByZWdpc3RyYXRpb24gPT4ge1xuICAgICAgYygnU2VydmljZSBXb3JrZXIgZXJyZWdpc3RyYXR1YScsIHJlZ2lzdHJhdGlvbi5zY29wZSlcbiAgICB9KVxuICAgIC5jYXRjaCggZXJyID0+IGMoYFJlZ2lzdHJvIGRlIFNlcnZpY2UgV29ya2VyIGZhbGxpZG9gLCBlcnIpIClcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgaXNPbmxpbmUgPSAoKSA9PiB7XG4gIC8vS29uZXhpb2FyZW4gZWdvZXJhIChvbmxpbmUvb2ZmbGluZSlcbiAgY29uc3QgbWV0YVRhZ1RoZW1lID0gZC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9dGhlbWUtY29sb3JdJylcblxuICBmdW5jdGlvbiBuZXR3b3JrU3RhdHVzIChlKSB7XG5cbiAgICBpZiAoIG4ub25MaW5lICkge1xuICAgICAgbWV0YVRhZ1RoZW1lLnNldEF0dHJpYnV0ZSgnY29udGVudCcsICcjZmZmZmZmJylcbiAgICAgIGQucXVlcnlTZWxlY3RvcihcIi5tYWluLWZvb3Rlcl9fc3RhdHVzXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJvZmZsaW5lXCIpXG4gICAgICBkLnF1ZXJ5U2VsZWN0b3IoXCIub2ZmbGluZVwiKS5pbm5lckhUTUwgPSBcIlwiXG4gICAgfSBlbHNlIHtcbiAgICAgIG1ldGFUYWdUaGVtZS5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnLCAnI2M5YzljOScpXG4gICAgICBkLnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1mb290ZXJfX3N0YXR1c1wiKS5jbGFzc0xpc3QuYWRkKFwib2ZmbGluZVwiKVxuICAgICAgZC5xdWVyeVNlbGVjdG9yKFwiLm9mZmxpbmVcIikuaW5uZXJIVE1MID0gXCI8ZGl2IGNsYXNzPSd0ZXh0Jz5TYXJlYSBiZXJyZXNrdXJhdHplbi4uLjwvZGl2PlwiXG4gICAgfVxuICB9XG5cbiAgdy5hZGRFdmVudExpc3RlbmVyKCdvbmxpbmUnLCBuZXR3b3JrU3RhdHVzKVxuICB3LmFkZEV2ZW50TGlzdGVuZXIoJ29mZmxpbmUnLCBuZXR3b3JrU3RhdHVzKVxufVxuXG5leHBvcnQgY29uc3QgaW5pdCA9ICgpID0+IHtcbiAgXG4gIGNvbnN0IHJlYWR5U3RhdGUgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgLy9BcGxpa2F6aW9hL2xlaWhvYSBlZ3VuZXJhdHVcbiAgICBpZiAoIGQucmVhZHlTdGF0ZSAgPT09ICdjb21wbGV0ZScgKSB7XG4gICAgICBjbGVhckludGVydmFsKHJlYWR5U3RhdGUpXG4gICAgICBkLmdldEVsZW1lbnRCeUlkKFwicmVsb2FkLWFwcFwiKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpXG4gICAgICB9KVxuICAgIH1cbiAgfSwgMTAwIClcblxuICByZXR1cm4gYFxuICA8aGVhZGVyIGNsYXNzPVwibWFpbi1oZWFkZXJcIj5cbiAgICA8ZGl2IGNsYXNzPVwibWFpbi1oZWFkZXJfX2NvbHNcIj5cbiAgICAgIDxpbWcgc3JjPVwiLi9hc3NldHMvZWl0Yi1sb2dvLWJsdWUuc3ZnXCIgYWx0PVwiTmFoaWVyYW5cIiBjbGFzcz1cIm1haW4taGVhZGVyX19sb2dvXCIgaWQ9XCJyZWxvYWQtYXBwXCI+XG4gICAgICA8c3BhbiBjbGFzcz1cIm1haW4taGVhZGVyX19zbG9nYW5cIj5uYWhpZXJhbjwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwibWFpbi1oZWFkZXJfX2NvbHMgcmlnaHRcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJuYXYtaWNvblwiIGlkPVwiY2F0ZWdvcmllcy1idG5cIj5cbiAgICAgIFx0PGRpdiBjbGFzcz1cIm5hdi1pY29uX19iYXJcIj48L2Rpdj5cbiAgICAgIFx0PGRpdiBjbGFzcz1cIm5hdi1pY29uX19iYXJcIj48L2Rpdj5cbiAgICAgIFx0PGRpdiBjbGFzcz1cIm5hdi1pY29uX19iYXJcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2hlYWRlcj5cblxuICAke3R2KCl9XG5cbiAgPGZvb3RlciBjbGFzcz1cIm1haW4tZm9vdGVyXCI+XG4gICAgPGRpdiBjbGFzcz1cIm1haW4tZm9vdGVyX19zdGF0dXNcIj48L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwibWFpbi1mb290ZXJfX3Jvd1wiPlxuICAgICAgPGRpdiBjbGFzcz1cIm1haW4tZm9vdGVyX19jb2wtbG9nb1wiPlxuICAgICAgXHQ8aW1nIHNyYz1cIi4vYXNzZXRzL2VpdGItbG9nby13aGl0ZS5zdmdcIiBhbHQ9XCJlaXRiIG5haGllcmFuXCIgY2xhc3M9XCJtYWluLWZvb3Rlcl9fbG9nb1wiPlxuICAgICAgXHQ8ZGl2IGNsYXNzPVwibWFpbi1mb290ZXJfX3RleHRcIj5BemtlbiBlZ3VuZXJha2V0YTpcbiAgICAgIFx0XHQ8c3BhbiBjbGFzcz1cInNhdmVkLWRhdGVcIj4ke2xvY2FsU3RvcmFnZS5nZXRJdGVtKFwianNvbkRhdGVcIil9PC9zcGFuPlxuICAgICAgXHQ8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm1haW4tZm9vdGVyX19jb2wtYnRuIGRlbGV0ZVN0b3JhZ2VcIj5cbiAgICAgIFx0PGltZyBzcmM9XCIuL2Fzc2V0cy9yZWxvYWQuc3ZnXCIgYWx0PVwiRGF0dWFrIGVndW5lcmF0dVwiIGNsYXNzPVwibWFpbi1mb290ZXJfX3JlbG9hZFwiPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG5cbiAgICA8ZGl2IGNsYXNzPVwibWFpbi1mb290ZXJfX3Jvd1wiPlxuICAgICAgPGRpdiBjbGFzcz1cIm1haW4tZm9vdGVyX19wb3dlcmVkLWJ5XCI+XG4gICAgICBcdFBXQSBnYXJhcGVuYSA8YSBvbmNsaWNrPVwid2luZG93LmxvY2F0aW9uPSdodHRwczovL3R3aXR0ZXIuY29tL2FzaWVybXVzYSdcIiBocmVmPVwiI1wiPkBhc2llcm11c2E8L2E+IHxcbiAgICAgIFx0ZWl0YiBBUElhIDxhIG9uY2xpY2s9XCJ3aW5kb3cubG9jYXRpb249J2h0dHBzOi8vdHdpdHRlci5jb20vZXJyYWxpbidcIiBocmVmPVwiI1wiPkBlcnJhbGluPC9hPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZm9vdGVyPlxuICBgXG59XG4iLCJpbXBvcnQge2NhdGVnb3JpZXN9IGZyb20gJy4vY2F0ZWdvcmllcydcbmltcG9ydCB7c2VsZWN0UHJvZ3JhbX0gZnJvbSAnLi90dlByb2dyYW0nXG5pbXBvcnQge3NlbGVjdEVwaXNvZGV9IGZyb20gJy4vdHZQcm9ncmFtRXBpc29kZSdcbmltcG9ydCB7Y2F0ZWdvcmllc1NpbmdsZX0gZnJvbSAnLi9jYXRlZ29yaWVzU2luZ2xlJ1xuXG5jb25zdCBjID0gY29uc29sZS5sb2csXG4gIGQgPSBkb2N1bWVudCxcbiAgbiA9IG5hdmlnYXRvcixcbiAgdyA9IHdpbmRvd1xuXG5jb25zdCBmaWx0ZXJpbmcgPSAodWwpID0+IHtcblxuICBkLmdldEVsZW1lbnRCeUlkKCdmaW5kLXByb2dyYW1zJykuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZSkgPT4ge1xuXG4gICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9jYWxKc29uJykpLFxuICAgICAgbGlzdGEgPSBudWxsLFxuICAgICAgdHBsID0gJydcblxuICAgIGxpc3RhID0ganNvbi5tZW1iZXIuZmlsdGVyKCBsaXN0ID0+IHtcbiAgICAgIHJldHVybiBsaXN0LnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoZS50YXJnZXQudmFsdWUudG9Mb3dlckNhc2UoKSlcbiAgICB9KVxuXG4gICAgbGlzdGEuZm9yRWFjaChqc29uID0+IHtcbiAgICAgIHRwbCArPVxuICAgICAgYFxuICAgICAgPGxpPlxuICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzPVwicHJvZ3JhbS1pZFwiIGRhdGEtcHJvZ3JhbT1cIiR7anNvbltcIkBpZFwiXX1cIj5cbiAgICAgICAgJHtqc29uLnRpdGxlfVxuICAgICAgICA8L2E+XG4gICAgICA8L2xpPlxuICAgICAgYFxuICAgIH0pXG5cbiAgICBkLnF1ZXJ5U2VsZWN0b3IodWwpLmlubmVySFRNTCA9IHRwbFxuICAgIGQucXVlcnlTZWxlY3RvcignLnR2X19oZWFkZXInKS5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9XCJ0dl9fbnVtYmVyXCI+JHtsaXN0YS5sZW5ndGh9PC9zcGFuPiBzYWlvIGVyYWt1c3RlbmBcbiAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IHR2ID0gKCkgPT4ge1xuXG4gIGNvbnN0IHJlYWR5U3RhdGUgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG5cbiAgICBpZiAoIGQucmVhZHlTdGF0ZSAgPT09ICdjb21wbGV0ZScgKSB7XG5cbiAgICAgIGNsZWFySW50ZXJ2YWwocmVhZHlTdGF0ZSlcblxuICAgICAgLy9Qcm9ncmFtYSBlcmFrdXRzaSAoYnVrbGVhKVxuICAgICAgZnVuY3Rpb24gZ2V0UHJvZ3JhbXMoanNvbikge1xuXG4gICAgICAgIGxldCB0cGwgPSAnJ1xuXG4gICAgICAgIEpTT04ucGFyc2UoanNvbikubWVtYmVyLmZvckVhY2goanNvbiA9PiB7XG5cbiAgICAgICAgICB0cGwgKz0gYFxuICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzPVwicHJvZ3JhbS1pZFwiIGRhdGEtcHJvZ3JhbT1cIiR7anNvbltcIkBpZFwiXX1cIj5cbiAgICAgICAgICAgICAgICAke2pzb24udGl0bGV9XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICBgXG4gICAgICAgIH0pXG5cbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcudHZfX2xpc3QnKS5pbm5lckhUTUwgPSB0cGxcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcudHZfX2hlYWRlcicpLmlubmVySFRNTCA9IGBTYWlvIGd1enRpYWsgZXJha3VzdGVuIDxzcGFuIGNsYXNzPVwidHZfX251bWJlclwiPigke0pTT04ucGFyc2UoIGpzb24gKS5tZW1iZXIubGVuZ3RofSk8L3NwYW4+YFxuICAgICAgICAvL0xvYWRlciBlemt1dGF0dVxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXItdHYnKS5jbGFzc0xpc3QucmVtb3ZlKCdsb2FkZXItc2hvdycpXG4gICAgICAgIGQucXVlcnlTZWxlY3RvcignLmxvYWRlci10ZW1wbGF0ZS10dicpLmNsYXNzTGlzdC5yZW1vdmUoJ2xvYWRlci1zaG93JylcbiAgICAgICAgLy9Gb290ZXJyZWFuIEFQSWFyZW4gZWd1bmVyYWtldGEgZGF0YSBiaXN0YXJhdHVcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcubWFpbi1mb290ZXJfX3RleHQnKS5jbGFzc0xpc3QuYWRkKCdpcy1jYWNoZScpXG4gICAgICB9XG5cbiAgICAgIC8vUHJvZ3JhbWFrIGVrYXJyaVxuICAgICAgZnVuY3Rpb24gZmV0Y2hBbGxQcm9ncmFtcyhkYXRhLCByZXF1ZXN0RnJvbUJHU3luYywgcmVzZXQpIHtcblxuICAgICAgICBsZXQgdHBsID0gJydcblxuICAgICAgICAvL0xvYWRlciBlcmFrdXRzaVxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXItdGVtcGxhdGUtdHYnKS5jbGFzc0xpc3QuYWRkKCdsb2FkZXItc2hvdycpXG4gICAgICAgIGQucXVlcnlTZWxlY3RvcignLmxvYWRlci10dicpLmNsYXNzTGlzdC5hZGQoJ2xvYWRlci1zaG93JylcbiAgICAgICAgLy9CZWhhcnJlemtvIHNla3ppb2FrIGV6a3V0YXR1XG4gICAgICAgIGQucXVlcnlTZWxlY3RvckFsbCgnLnNlY3Rpb24nKS5mb3JFYWNoKCBzZWN0aW9uID0+IHtcbiAgICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3UtaGlkZScpXG4gICAgICAgIH0pXG4gICAgICAgIGQucXVlcnlTZWxlY3RvcignLmNhdGVnb3JpZXMnKS5jbGFzc0xpc3QucmVtb3ZlKCd1LWhpZGUnKVxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy50dicpLmNsYXNzTGlzdC5yZW1vdmUoJ3UtaGlkZScpXG4gICAgICAgIFxuICAgICAgICAvL0JpZGVvYSBtYXJ0eGFuIGJhZGFnbyBlcmUsIGdlcmF0dVxuICAgICAgICBpZihkLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci12aWRlb1wiKSkge1xuICAgICAgICAgIGQucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXZpZGVvXCIpLnBhdXNlKClcbiAgICAgICAgfVxuXG4gICAgICAgIC8vQVBJYSBkZWl0dSBiZWhhciBiYWRhLi4uXG4gICAgICAgIGlmKHJlc2V0KSB7XG5cbiAgICAgICAgICBmZXRjaChkYXRhKVxuICAgICAgICAgICAgLnRoZW4oIHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSApXG4gICAgICAgICAgICAudGhlbihqc29uID0+IHtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmICggIXJlcXVlc3RGcm9tQkdTeW5jICkge1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0dicpXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbG9jYWxKc29uJywgSlNPTi5zdHJpbmdpZnkoanNvbikpO1xuXG4gICAgICAgICAgICAgIGxldCBzYXZlZERhdGUgPSBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIGRhdGUgPSBzYXZlZERhdGUuZ2V0RnVsbFllYXIoKSArICcvJyArICgnMCcgKyAoc2F2ZWREYXRlLmdldE1vbnRoKCkrMSkpLnNsaWNlKC0yKSArICcvJyArICgnMCcgKyBzYXZlZERhdGUuZ2V0RGF0ZSgpKS5zbGljZSgtMikgKyAnIC0gJyxcbiAgICAgICAgICAgICAgICB0aW1lID0gKCcwJyArIHNhdmVkRGF0ZS5nZXRIb3VycygpKS5zbGljZSgtMikgKyBcIjpcIiArICgnMCcgKyBzYXZlZERhdGUuZ2V0TWludXRlcygpKS5zbGljZSgtMiksXG4gICAgICAgICAgICAgICAgZGF0ZVRpbWUgPSBkYXRlICsgJyAnICsgdGltZVxuXG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwianNvbkRhdGVcIiwgZGF0ZVRpbWUpXG4gICAgICAgICAgICAgIGQucXVlcnlTZWxlY3RvcignLnNhdmVkLWRhdGUnKS5pbm5lckhUTUwgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImpzb25EYXRlXCIpXG5cbiAgICAgICAgICAgICAgZ2V0UHJvZ3JhbXMobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvY2FsSnNvbicpKVxuXG4gICAgICAgICAgICAgIC8vTm90aWZpa2F6aW8gYmlkZXogb2hhcnRhcmF6aVxuICAgICAgICAgICAgICBpZiggdy5Ob3RpZmljYXRpb24gJiYgTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gIT09ICdkZW5pZWQnICkge1xuICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbihzdGF0dXMgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc3RhdHVzKVxuICAgICAgICAgICAgICAgICAgbGV0IG4gPSBuZXcgTm90aWZpY2F0aW9uKCdOYWhpZXJhbicsIHtcbiAgICAgICAgICAgICAgICAgICAgYm9keTogJ1Byb2dyYW1hIHplcnJlbmRhIGVndW5lcmF0dSBkYSA6KScsXG4gICAgICAgICAgICAgICAgICAgIGljb246ICcuL2Fzc2V0cy9mYXZpY29uLnBuZydcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndHYnLCBkYXRhKVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgLy9Qcm9ncmFtYWsgbG9jYWwtZWFuIGdvcmRldGEgYmFkYWdvXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGdldFByb2dyYW1zKGRhdGEpXG4gICAgICAgIH1cblxuICAgICAgfS8vZmV0Y2hBbGxQcm9ncmFtc1xuXG4gICAgICAvL0ZpbHRyb2EgZWdpblxuICAgICAgZmlsdGVyaW5nKCcudHZfX2xpc3QnKVxuXG4gICAgICAvL0dvcmRldGFrbyBBUElhIGV6YWJhdHUgZXRhIGJlcnJpYSBla2FydHpla28gLSBFWkFCQVRVXG4gICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5kZWxldGVTdG9yYWdlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICBpZiAoIGNvbmZpcm0oJ1Byb2dyYW1hIHplcnJlbmRhIGVndW5lcmF0dSBuYWhpIGFsIGR1enU/JykgPT0gdHJ1ZSkge1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdsb2NhbEpzb24nKVxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdqc29uRGF0ZScpXG5cbiAgICAgICAgICBsZXQgcmVzZXQgPSB0cnVlLFxuICAgICAgICAgICAgZGF0YT0gJy8vc3RpbGwtY2FzdGxlLTk5NzQ5Lmhlcm9rdWFwcC5jb20vcGxheWxpc3QnXG5cbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndHYnLCBkYXRhKVxuXG4gICAgICAgICAgZmV0Y2hBbGxQcm9ncmFtcyhkYXRhLCBmYWxzZSwgcmVzZXQpXG5cbiAgICAgICAgICAvL0JhY2tncm91bmQgU3luYyAocHJvZ3JhbWFrKVxuICAgICAgICAgIGlmICggJ3NlcnZpY2VXb3JrZXInIGluIG4gJiYgJ1N5bmNNYW5hZ2VyJyBpbiB3ICkge1xuICAgICAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJCR1N5bmMgKCkge1xuICAgICAgICAgICAgICBuLnNlcnZpY2VXb3JrZXIucmVhZHlcbiAgICAgICAgICAgICAgLnRoZW4ocmVnaXN0cmF0aW9uID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVnaXN0cmF0aW9uLnN5bmMucmVnaXN0ZXIoJ25haGllcmFuLXR2JylcbiAgICAgICAgICAgICAgICAgIC50aGVuKCAoKSA9PiBjKCdBdHpla28gc2lua3Jvbml6YXppb2EgZXJyZWdpc3RyYXR1YScpIClcbiAgICAgICAgICAgICAgICAgIC5jYXRjaCggZXJyID0+IGMoJ0Vycm9yZWEgYXR6ZWtvIHNpbmtyb25pemF6aW9hIGVycmVnaXN0cmF0emVhbicsIGVycikgKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVnaXN0ZXJCR1N5bmMoKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgLy9BcGxpa2F6aW9yYSBzYXJ0emVuIGRlbmVhbiBlZ2luIGJlaGFycmVrb2EgKEFQSWEgZGVpdHUgZWRvIGV6KVxuICAgICAgaWYobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvY2FsSnNvbicpKXtcbiAgICAgICAgZmV0Y2hBbGxQcm9ncmFtcyhsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9jYWxKc29uJyksIGZhbHNlLCBmYWxzZSlcbiAgICAgIH1lbHNle1xuICAgICAgICBsZXQgcmVzZXQgPSB0cnVlLFxuICAgICAgICAgIGRhdGE9ICcvL3N0aWxsLWNhc3RsZS05OTc0OS5oZXJva3VhcHAuY29tL3BsYXlsaXN0J1xuXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0dicsIGRhdGEpXG5cbiAgICAgICAgZmV0Y2hBbGxQcm9ncmFtcyhkYXRhLCBmYWxzZSwgcmVzZXQpXG5cbiAgICAgICAgLy9CYWNrZ3JvdW5kIFN5bmMgKHByb2dyYW1haylcbiAgICAgICAgaWYgKCAnc2VydmljZVdvcmtlcicgaW4gbiAmJiAnU3luY01hbmFnZXInIGluIHcgKSB7XG4gICAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJCR1N5bmMgKCkge1xuICAgICAgICAgICAgbi5zZXJ2aWNlV29ya2VyLnJlYWR5XG4gICAgICAgICAgICAudGhlbihyZWdpc3RyYXRpb24gPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gcmVnaXN0cmF0aW9uLnN5bmMucmVnaXN0ZXIoJ25haGllcmFuLXR2JylcbiAgICAgICAgICAgICAgLnRoZW4oICgpID0+IGMoJ0F0emVrbyBzaW5rcm9uaXphemlvYSBlcnJlZ2lzdHJhdHVhJykgKVxuICAgICAgICAgICAgICAuY2F0Y2goIGVyciA9PiBjKCdFcnJvcmVhIGF0emVrbyBzaW5rcm9uaXphemlvYSBlcnJlZ2lzdHJhdHplYW4nLCBlcnIpIClcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICAgIHJlZ2lzdGVyQkdTeW5jKClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy9CYWNrZ3JvdW5kIFN5bmMgKHByb2dyYW1haylcbiAgICAgIG4uc2VydmljZVdvcmtlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZSA9PiB7XG4gICAgICAgIGMoJ0F0emVrbyBzaW5rcm9uaXphemlvYSBtZXNzYWdlIGJpZGV6OiAnLCBlLmRhdGEpXG4gICAgICAgIGlmKCBlLmRhdGEgPT09ICdvbmxpbmUgbmFoaWVyYW4tdHYnIClcbiAgICAgICAgICBmZXRjaEFsbFByb2dyYW1zKCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndHYnKSwgdHJ1ZSwgZmFsc2UgKVxuICAgICAgfSlcblxuICAgIH0gLy9yZWFkeVN0YXRlXG4gIH0sIDEwMCApLy9pbnRlcnZhbFxuXG4gIHJldHVybiBgXG4gICAgJHtjYXRlZ29yaWVzKCl9XG4gICAgPGRpdiBjbGFzcz1cInR2IHNlY3Rpb25cIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ0dl9fZm9ybVwiPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImZpbmQtcHJvZ3JhbXNcIiBjbGFzcz1cInR2X19pbnB1dFwiIHBsYWNlaG9sZGVyPVwiZWl0YmtvIHNhaW9lbiBhcnRlYW4gYmlsYXR1Li4uXCIgdGl0bGU9XCJTYWlvYWsgYmlsYXR1XCI+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxoZWFkZXIgY2xhc3M9XCJzZWN0aW9uLWhlYWRlciB0dl9faGVhZGVyXCI+PC9oZWFkZXI+XG4gICAgICA8dWwgY2xhc3M9XCJ0dl9fbGlzdFwiPjwvdWw+XG4gICAgICA8ZGl2IGNsYXNzPVwibG9hZGVyLXRlbXBsYXRlIGxvYWRlci10ZW1wbGF0ZS10dlwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibG9hZGVyIGxvYWRlci10dlwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgJHtzZWxlY3RQcm9ncmFtKCl9XG4gICAgJHtzZWxlY3RFcGlzb2RlKCl9XG4gICAgJHtjYXRlZ29yaWVzU2luZ2xlKCl9XG4gICAgYFxufVxuIiwiY29uc3QgYyA9IGNvbnNvbGUubG9nLFxuICBkID0gZG9jdW1lbnQsXG4gIG4gPSBuYXZpZ2F0b3IsXG4gIHcgPSB3aW5kb3dcblxuZXhwb3J0IGNvbnN0IHNlbGVjdFByb2dyYW0gPSAoKSA9PiB7XG5cbiAgY29uc3QgcmVhZHlTdGF0ZSA9IHNldEludGVydmFsKCgpID0+IHtcblxuICAgIGlmICggZC5yZWFkeVN0YXRlICA9PT0gJ2NvbXBsZXRlJyApIHtcblxuICAgICAgY2xlYXJJbnRlcnZhbChyZWFkeVN0YXRlKVxuXG4gICAgICAvL1Byb2dyYW1hIGVrYXJyaSAoemVycmVuZGEpXG4gICAgICBmdW5jdGlvbiBmZXRjaFByb2dyYW0oanNvbkRhdGEsIHJlcXVlc3RGcm9tQkdTeW5jKSB7XG5cdCBcdFx0XG4gICAgICAgIGxldCBkYXRhID0ganNvbkRhdGEuc2xpY2UoNSksXG4gICAgICAgICAgdHBsID0gJycsXG4gICAgICAgICAgZGF0ZSA9ICcnXG5cbiAgICAgICAgLy9CZWhhcnJlemtvIHNla3ppb2FrIGV6a3V0YXR1XG4gICAgICAgIGQucXVlcnlTZWxlY3RvckFsbCgnLnNlY3Rpb24nKS5mb3JFYWNoKCBzZWN0aW9uID0+IHtcbiAgICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3UtaGlkZScpXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy9Mb2FkZXIgZXJha3V0c2lcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyLXByb2dyYW0nKS5jbGFzc0xpc3QuYWRkKCdsb2FkZXItc2hvdycpXG4gICAgICAgIGQucXVlcnlTZWxlY3RvcignLmxvYWRlci10ZW1wbGF0ZS1wcm9ncmFtJykuY2xhc3NMaXN0LmFkZCgnbG9hZGVyLXNob3cnKVxuICAgICAgICBcbiAgICAgICAgLy9CaWRlb2EgbWFydHhhbiBiYWRhZ28gZXJlLCBnZXJhdHVcbiAgICAgICAgaWYoZC5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItdmlkZW9cIikpIHtcbiAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci12aWRlb1wiKS5wYXVzZSgpXG4gICAgICAgIH1cblxuICAgICAgICBmZXRjaChkYXRhKVxuICAgICAgICAgIC50aGVuKCByZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkgKVxuICAgICAgICAgIC50aGVuKGpzb24gPT4ge1xuXG4gICAgICAgICAgICBpZiAoICFyZXF1ZXN0RnJvbUJHU3luYyApIHtcbiAgXHRcdFx0XHRcdCAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3R2LXByb2dyYW0nKVxuICAgICAgICAgICAgfVxuXG4gIFx0XHRcdFx0ICBkLnF1ZXJ5U2VsZWN0b3IoJy5wcm9ncmFtJykuY2xhc3NMaXN0LnJlbW92ZSgndS1oaWRlJylcbiAgXHRcdFx0XHQgIC8vTG9hZGVyIGV6a3V0YXR1XG4gICAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXItcHJvZ3JhbScpLmNsYXNzTGlzdC5yZW1vdmUoJ2xvYWRlci1zaG93JylcbiAgICAgICAgICAgIGQucXVlcnlTZWxlY3RvcignLmxvYWRlci10ZW1wbGF0ZS1wcm9ncmFtJykuY2xhc3NMaXN0LnJlbW92ZSgnbG9hZGVyLXNob3cnKVxuXG4gICAgICAgICAgICBqc29uLm1lbWJlci5mb3JFYWNoKGpzb24gPT4ge1xuICAgICAgICAgICAgICBpZihqc29uLmJyb2FkY2FzdF9kYXRlKSB7XG4gICAgICAgICAgICAgICAgZGF0ZSA9IGpzb24uYnJvYWRjYXN0X2RhdGUuc2xpY2UoMCwxMClcbiAgXHRcdFx0XHQgIFx0fVxuICAgICAgICAgICAgICB0cGwgKz0gYFxuICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImN1c3RvbS1lcGlzb2RlXCIgZGF0YS1lcGlzb2RlPVwiJHtqc29uW1wiQGlkXCJdfVwiPlxuICAgICAgXHRcdFx0XHRcdCAgPGRpdiBjbGFzcz1cInByb2dyYW1fX2ltYWdlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtqc29uLmVwaXNvZGVfaW1hZ2Uuc2xpY2UoNSl9XCIgY2xhc3M9XCJwcm9ncmFtX19pbWcgY3VzdG9tLWVwaXNvZGVcIiBkYXRhLWVwaXNvZGU9XCIke2pzb25bXCJAaWRcIl19XCI+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyYW1fX2NvbnRlbnQgY3VzdG9tLWVwaXNvZGVcIiBkYXRhLWVwaXNvZGU9XCIke2pzb25bXCJAaWRcIl19XCI+XG4gICAgICAgICAgICAgICAgICAgICR7anNvbi50aXRsZX1cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmFtX19kYXRlXCI+JHtkYXRlfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgXHRkLnF1ZXJ5U2VsZWN0b3IoJy5wcm9ncmFtX19saXN0JykuaW5uZXJIVE1MID0gdHBsXG4gICAgICAgICAgXHRkLnF1ZXJ5U2VsZWN0b3IoJy5wcm9ncmFtX19oZWFkZXInKS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgXHRcdDxkaXYgY2xhc3M9XCJwcm9ncmFtX190aXRsZVwiPiR7anNvbi5uYW1lfTwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3JhbV9fZGVzY1wiPiR7anNvbi5kZXNjX2dyb3VwfTwvZGl2PlxuICAgICAgICAgICAgICBgXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpXG5cdFx0ICB9XG5cbiAgICAgIC8vUHJvZ3JhbWEgZWthcnJpIChjbGljayBlYmVudHVhKVxuICAgICAgZC5nZXRFbGVtZW50QnlJZChcImFwcFwiKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIGlmKCBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Byb2dyYW0taWQnKSApIHtcblxuICBcdFx0ICAgIGxldCBkYXRhID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXByb2dyYW0nKVxuXG4gIFx0XHQgIFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3R2LXByb2dyYW0nLCBkYXRhKVxuXG4gICAgICAgICAgZmV0Y2hQcm9ncmFtKCBkYXRhLCBmYWxzZSlcblxuICAgICAgICAgIC8vQmFja2dyb3VuZCBTeW5jIChwcm9ncmFtYWspXG4gICAgICAgICAgaWYgKCAnc2VydmljZVdvcmtlcicgaW4gbiAmJiAnU3luY01hbmFnZXInIGluIHcgKSB7XG4gIFx0XHRcdCAgICBmdW5jdGlvbiByZWdpc3RlckJHU3luYyAoKSB7XG4gIFx0XHRcdCAgICAgIG4uc2VydmljZVdvcmtlci5yZWFkeVxuICBcdFx0XHQgICAgICAgIC50aGVuKHJlZ2lzdHJhdGlvbiA9PiB7XG4gIFx0XHRcdCAgICAgICAgICByZXR1cm4gcmVnaXN0cmF0aW9uLnN5bmMucmVnaXN0ZXIoJ25haGllcmFuLXR2LXByb2dyYW0nKVxuICBcdFx0XHQgICAgICAgICAgICAudGhlbiggKCkgPT4gYygnQXR6ZWtvIHNpbmtyb25pemF6aW9hIGVycmVnaXN0cmF0dWEnKSApXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCggZXJyID0+IGMoJ0Vycm9yZWEgYXR6ZWtvIHNpbmtyb25pemF6aW9hIGVycmVnaXN0cmF0emVhbicsIGVycikgKVxuICBcdFx0XHQgICAgICAgIH0pXG4gIFx0XHRcdCAgICB9XG4gIFx0XHRcdCAgICByZWdpc3RlckJHU3luYygpXG4gIFx0XHRcdCAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLy9CYWNrZ3JvdW5kIFN5bmMgKHByb2dyYW1haylcbiAgICAgIG4uc2VydmljZVdvcmtlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZSA9PiB7XG5cdFx0ICAgIGNvbnNvbGUubG9nKCdBdHpla28gc2lua3Jvbml6YXppb2EgbWVzc2FnZSBiaWRleiBha3RpYmF0dWE6ICcsIGUuZGF0YSlcblx0XHQgICAgaWYoIGUuZGF0YSA9PT0gJ29ubGluZSBuYWhpZXJhbi10di1wcm9ncmFtJyApXG5cdFx0ICAgIFx0ZmV0Y2hQcm9ncmFtKCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndHYtcHJvZ3JhbScpLCB0cnVlIClcblx0XHQgIH0pXG4gICAgfSAvL3JlYWR5U3RhdGVcbiAgfSwgMTAwICkvL2ludGVydmFsXG5cbiAgcmV0dXJuIGBcbiAgICA8ZGl2IGNsYXNzPVwibG9hZGVyLXRlbXBsYXRlIGxvYWRlci10ZW1wbGF0ZS1wcm9ncmFtXCI+XG4gIFx0ICA8ZGl2IGNsYXNzPVwibG9hZGVyIGxvYWRlci1wcm9ncmFtXCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInByb2dyYW0gc2VjdGlvbiB1LWhpZGVcIj5cbiAgXHQgIDxoZWFkZXIgY2xhc3M9XCJzZWN0aW9uLWhlYWRlciBwcm9ncmFtX19oZWFkZXJcIj48L2hlYWRlcj5cbiAgICAgIDx1bCBjbGFzcz1cInByb2dyYW1fX2xpc3RcIj48L3VsPlxuICAgIDwvZGl2PlxuICAgIGBcbn1cbiIsImltcG9ydCBEUGxheWVyIGZyb20gJ0RQbGF5ZXInXG5cbmNvbnN0IGMgPSBjb25zb2xlLmxvZyxcbiAgZCA9IGRvY3VtZW50LFxuICBuID0gbmF2aWdhdG9yLFxuICB3ID0gd2luZG93XG5cbmV4cG9ydCBjb25zdCBzZWxlY3RFcGlzb2RlID0gKCkgPT4ge1xuXG4gIGNvbnN0IHJlYWR5U3RhdGUgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG5cbiAgICBpZiAoIGQucmVhZHlTdGF0ZSAgPT09ICdjb21wbGV0ZScgKSB7XG4gICAgICBjbGVhckludGVydmFsKHJlYWR5U3RhdGUpXG5cbiAgICAgIC8vQXR6ZXJhIGpvYW4gKHByb2dyYW1ldGFyYSlcbiAgICAgIGQuZ2V0RWxlbWVudEJ5SWQoJ2VwaXNvZGVfX2JhY2snKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIC8vQmVoYXJyZXprbyBzZWt6aW9hayBlemt1dGF0dVxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uJykuZm9yRWFjaCggc2VjdGlvbiA9PiB7XG4gICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QuYWRkKCd1LWhpZGUnKVxuICAgICAgICB9KVxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5wcm9ncmFtJykuY2xhc3NMaXN0LnJlbW92ZSgndS1oaWRlJylcbiAgICAgICAgXG4gICAgICAgIC8vQmlkZW9hIG1hcnR4YW4gYmFkYWdvIGVyZSwgZ2VyYXR1XG4gICAgICAgIGlmKGQucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXZpZGVvXCIpKSB7XG4gICAgICAgICAgZC5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItdmlkZW9cIikucGF1c2UoKVxuICAgICAgICB9XG4gICAgXG4gICAgICB9KVxuXG4gICAgICAvL2VwaXNvZGUga2FyZ2F0dVxuICAgICAgZnVuY3Rpb24gZmV0Y2hFcGlzb2RlKGpzb25EYXRhLCByZXF1ZXN0RnJvbUJHU3luYykge1xuXG4gICAgICAgIGxldCBkYXRhID0ganNvbkRhdGEuc2xpY2UoNSlcblxuICAgICAgICAvL0xvYWRlciBlcmFrdXRzaVxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXItZXBpc29kZScpLmNsYXNzTGlzdC5hZGQoJ2xvYWRlci1zaG93JylcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyLXRlbXBsYXRlLWVwaXNvZGUnKS5jbGFzc0xpc3QuYWRkKCdsb2FkZXItc2hvdycpXG5cbiAgICAgICAgLy9CZWhhcnJlemtvIHNla3ppb2FrIGV6a3V0YXR1XG4gICAgICAgIGQucXVlcnlTZWxlY3RvckFsbCgnLnNlY3Rpb24nKS5mb3JFYWNoKCBzZWN0aW9uID0+IHtcbiAgICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3UtaGlkZScpXG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICAvL0FQSWEgZGVpdHUgKGVwaXNvZGUpXG4gICAgICAgIGZldGNoKGRhdGEpXG4gICAgICAgIFxuICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgICAgICAudGhlbihqc29uID0+IHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGRwID0gXCJcIlxuICAgICAgICAgICAgXG4gICAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5lcGlzb2RlJykuY2xhc3NMaXN0LnJlbW92ZSgndS1oaWRlJylcblxuICAgICAgICAgICAgaWYgKCFyZXF1ZXN0RnJvbUJHU3luYykge1xuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndHYtcHJvZ3JhbS1lcGlzb2RlJylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9Mb2FkZXIgZXprdXRhdHVcbiAgICAgICAgICAgIGQucXVlcnlTZWxlY3RvcignLmxvYWRlci1lcGlzb2RlJykuY2xhc3NMaXN0LnJlbW92ZSgnbG9hZGVyLXNob3cnKVxuICAgICAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyLXRlbXBsYXRlLWVwaXNvZGUnKS5jbGFzc0xpc3QucmVtb3ZlKCdsb2FkZXItc2hvdycpXG5cbiAgICAgICAgICAgIGxldCB1cmxFbmQgPSBqc29uLnVybC5zbGljZSgtMyk7XG5cbiAgICAgICAgICAgIGlmKHVybEVuZCA9PT0gJ21wNCcpIHtcbiAgICAgICAgICAgICAgdXJsRW5kID0ganNvbi51cmxcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICB1cmxFbmQgPSBqc29uLmZvcm1hdHNbN10udXJsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKGQuZ2V0RWxlbWVudEJ5SWQoJ2RwbGF5ZXInKSl7XG4gICAgICAgICAgICAgIGRwID0gbmV3IERQbGF5ZXIoe1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogZC5nZXRFbGVtZW50QnlJZCgnZHBsYXllcicpLFxuICAgICAgICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0aGVtZTogJyMwMDhjZDAnLFxuICAgICAgICAgICAgICAgIHZpZGVvOiB7XG4gICAgICAgICAgICAgICAgICB1cmw6IHVybEVuZCAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAgXG4gICAgICAgICAgICAvL0JpZGVvYXJlbiBzcmMga29kZWEgYWxkYXR1IChodHRwcyBiaWRleiBmdW50emlvbmF0emVrbykgICAgICAgICAgIFxuICAgICAgICAgICAgZC5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItdmlkZW9cIikuc2V0QXR0cmlidXRlKFwic3JjXCIsIHVybEVuZC5zbGljZSg1KSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcuZXBpc29kZV9fZXJyb3InKS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93JylcbiAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5lcGlzb2RlX19oZWFkZXInKS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlcGlzb2RlX190aXRsZVwiPiR7anNvbi50aXRsZX08L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImVwaXNvZGVfX2Rlc2NcIj4ke2pzb24uZGVzY3JpcHRpb259PC9kaXY+XG4gICAgICAgICAgICAgIGBcbiAgICAgICAgXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0di1wcm9ncmFtLWVwaXNvZGUnLCBqc29uRGF0YSlcbiAgICAgICAgICAgIGQucXVlcnlTZWxlY3RvcignLmVwaXNvZGVfX2Vycm9yJykuaW5uZXJIVE1MID0gJ0tvbmV4aW9hayBodXRzIGVnaW4gZHUnXG4gICAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5lcGlzb2RlX19lcnJvcicpLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKVxuICAgICAgICAgIH0pXG4gICAgICB9IC8vZmV0Y2hFcGlzb2RlXG5cbiAgICAgIC8vUHJvZ3JhbWEgemVycmVuZGF0aWsgZXBpc29kZSBla2FycmkgKGNsaWNrKVxuICAgICAgZC5xdWVyeVNlbGVjdG9yKCcucHJvZ3JhbV9fbGlzdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAgICAgaWYoIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY3VzdG9tLWVwaXNvZGUnKSApIHtcblxuICAgICAgICAgIGxldCBkYXRhID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWVwaXNvZGUnKVxuXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3R2LXByb2dyYW0tZXBpc29kZScsIGRhdGEpXG4gICAgICAgICAgZmV0Y2hFcGlzb2RlKGRhdGEsIGZhbHNlKVxuXG4gICAgICAgICAgLy9CYWNrZ3JvdW5kIFN5bmMgKGVwaXNvZGUpXG4gICAgICAgICAgaWYgKCAnc2VydmljZVdvcmtlcicgaW4gbiAmJiAnU3luY01hbmFnZXInIGluIHcgKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiByZWdpc3RlckJHU3luYyAoKSB7XG4gICAgICAgICAgICAgIG4uc2VydmljZVdvcmtlci5yZWFkeVxuICAgICAgICAgICAgICAudGhlbihyZWdpc3RyYXRpb24gPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWdpc3RyYXRpb24uc3luYy5yZWdpc3RlcignbmFoaWVyYW4tdHYtcHJvZ3JhbS1lcGlzb2RlJylcbiAgICAgICAgICAgICAgICAgIC50aGVuKCAoKSA9PiBjKCdBdHpla28gc2lua3Jvbml6YXppb2EgZXJyZWdpc3RyYXR1YScpIClcbiAgICAgICAgICAgICAgICAgIC5jYXRjaCggZXJyID0+IGMoJ0Vycm9yZWEgYXR6ZWtvIHNpbmtyb25pemF6aW9hIGVycmVnaXN0cmF0emVhbicsIGVycikgKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVnaXN0ZXJCR1N5bmMoKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC8vQmFja2dyb3VuZCBTeW5jIChlcGlzb2RlKVxuICAgICAgbi5zZXJ2aWNlV29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBlID0+IHtcbiAgICAgICAgYygnQXR6ZWtvIHNpbmtyb25pemF6aW9hIG1lc3NhZ2UgYmlkZXo6ICcsIGUuZGF0YSlcbiAgICAgICAgaWYoIGUuZGF0YSA9PT0gJ29ubGluZSBuYWhpZXJhbi10di1wcm9ncmFtLWVwaXNvZGUnIHx8IGUuZGF0YSA9PT0gJ29ubGluZSB0ZXN0LXRhZy1mcm9tLWRldnRvb2xzJyApXG4gICAgICAgICAgZmV0Y2hFcGlzb2RlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0di1wcm9ncmFtLWVwaXNvZGUnKSwgdHJ1ZSlcbiAgICAgIH0pXG5cbiAgICB9IC8vcmVhZHlTdGF0ZVxuICB9LCAxMDAgKS8vaW50ZXJ2YWxcblxuICByZXR1cm4gYFxuICAgIDxkaXYgY2xhc3M9XCJsb2FkZXItdGVtcGxhdGUgbG9hZGVyLXRlbXBsYXRlLWVwaXNvZGVcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJsb2FkZXIgbG9hZGVyLWVwaXNvZGVcIj48L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIDxkaXYgY2xhc3M9XCJlcGlzb2RlIHNlY3Rpb24gdS1oaWRlXCI+XG4gICAgICA8aGVhZGVyIGNsYXNzPVwic2VjdGlvbi1oZWFkZXIgZXBpc29kZV9faGVhZGVyXCI+PC9oZWFkZXI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZXBpc29kZV9fcGxheVwiPlxuICAgICAgICA8ZGl2IGlkPVwiZHBsYXllclwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZXBpc29kZV9fZXJyb3JcIj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJlcGlzb2RlX19uYXZcIj48YSBocmVmPVwiI1wiIGlkPVwiZXBpc29kZV9fYmFja1wiPjwgQXR6ZXJhPC9hPjwvZGl2PlxuICAgIDwvZGl2PlxuICAgIGBcbn1cbiIsImltcG9ydCB7IGluaXQsIHB3YSwgaXNPbmxpbmUgfSBmcm9tICcuL2NvbXBvbmVudHMvaW5pdCc7XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcHAnKS5pbm5lckhUTUwgPSBpbml0KClcblxuLy9BcGxpa3ppb2Egd2ViIHByb2dyZXNpYm9hIGVycmVnaXN0cmF0dVxucHdhKClcbi8vT25saW5lL2ZmbGluZSBnYXVkZW4gemVoYXp0dVxuaXNPbmxpbmUoKVxuIl19
