(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("DPlayer",[],t):"object"==typeof exports?exports.DPlayer=t():e.DPlayer=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=/mobile/i.test(window.navigator.userAgent),a={secondToTime:function(e){var t=function(e){return e<10?"0"+e:""+e},n=parseInt(e/60),i=parseInt(e-60*n);return t(n)+":"+t(i)},getElementViewLeft:function(e){var t=e.offsetLeft,n=e.offsetParent,i=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;null!==n&&n!==e;)t+=n.offsetLeft,n=n.offsetParent;else for(;null!==n;)t+=n.offsetLeft,n=n.offsetParent;return t-i},getScrollPosition:function(){return{left:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,top:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},setScrollPosition:function(e){var t=e.left,n=void 0===t?0:t,i=e.top,a=void 0===i?0:i;this.isFirefox?(document.documentElement.scrollLeft=n,document.documentElement.scrollTop=a):window.scrollTo(n,a)},isMobile:i,isFirefox:/firefox/i.test(window.navigator.userAgent),isChrome:/chrome/i.test(window.navigator.userAgent),storage:{set:function(e,t){localStorage.setItem(e,t)},get:function(e){return localStorage.getItem(e)}},cumulativeOffset:function(e){var t=0,n=0;do{t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:n}},nameMap:{dragStart:i?"touchstart":"mousedown",dragMove:i?"touchmove":"mousemove",dragEnd:i?"touchend":"mouseup"}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2);var i=n(3),a=function(e){return e&&e.__esModule?e:{default:e}}(i);console.log("\n %c DPlayer 1.21.0 8e69ada %c http://dplayer.js.org \n\n","color: #fadfa3; background: #030307; padding:5px 0;","background: #fadfa3; padding:5px 0;"),t.default=a.default},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(4),r=i(s),l=n(0),c=i(l),u=n(9),d=i(u),p=n(12),h=i(p),y=n(13),m=i(y),f=n(14),v=i(f),g=n(15),b=i(g),k=n(16),w=i(k),S=n(17),T=i(S),L=n(18),x=i(L),M=n(19),_=i(M),E=n(20),q=i(E),B=n(21),P=i(B),O=n(22),j=i(O),C=n(23),z=i(C),F=n(25),I=i(F),W=n(26),D=i(W),H=n(27),A=i(H),R=n(28),V=i(R),N=0,X=[],Q=function(){function e(t){var n=this;a(this,e),this.options=(0,d.default)(t),this.options.video.quality&&(this.qualityIndex=this.options.video.defaultQuality,this.quality=this.options.video.quality[this.options.video.defaultQuality]),this.tran=new h.default(this.options.lang).tran,this.icons=new v.default(this.options),this.events=new w.default,this.user=new x.default(this),this.container=this.options.container,this.container.classList.add("dplayer"),this.options.danmaku||this.container.classList.add("dplayer-no-danmaku"),this.options.live&&this.container.classList.add("dplayer-live"),c.default.isMobile&&this.container.classList.add("dplayer-mobile"),this.arrow=this.container.offsetWidth<=500,this.arrow&&this.container.classList.add("dplayer-arrow"),this.template=new m.default({container:this.container,options:this.options,index:N,tran:this.tran,icons:this.icons}),this.video=this.template.video,this.bar=new q.default(this.template),this.bezel=new j.default(this.template.bezel),this.fullScreen=new T.default(this),this.controller=new z.default(this),this.options.danmaku&&(this.danmaku=new b.default({container:this.template.danmaku,opacity:this.user.get("opacity"),callback:function(){setTimeout(function(){n.template.danmakuLoading.style.display="none",n.options.autoplay?n.play():c.default.isMobile&&n.pause()},0)},error:function(e){n.notice(e)},apiBackend:this.options.apiBackend,borderColor:this.options.theme,height:this.arrow?24:30,time:function(){return n.video.currentTime},unlimited:this.user.get("unlimited"),api:{id:this.options.danmaku.id,address:this.options.danmaku.api,token:this.options.danmaku.token,maximum:this.options.danmaku.maximum,addition:this.options.danmaku.addition,user:this.options.danmaku.user},events:this.events}),this.comment=new D.default(this)),this.setting=new I.default(this),document.addEventListener("click",function(){n.focus=!1},!0),this.container.addEventListener("click",function(){n.focus=!0},!0),this.paused=!0,this.time=new P.default(this),this.hotkey=new A.default(this),this.contextmenu=new V.default(this),this.initVideo(this.video,this.quality&&this.quality.type||this.options.video.type),!this.danmaku&&this.options.autoplay&&this.play(),N++,X.push(this)}return o(e,[{key:"seek",value:function(e){e=Math.max(e,0),this.video.duration&&(e=Math.min(e,this.video.duration)),this.video.currentTime<e?this.notice(this.tran("FF")+" "+(e-this.video.currentTime).toFixed(0)+" "+this.tran("s")):this.video.currentTime>e&&this.notice(this.tran("REW")+" "+(this.video.currentTime-e).toFixed(0)+" "+this.tran("s")),this.video.currentTime=e,this.danmaku&&this.danmaku.seek(),this.bar.set("played",e/this.video.duration,"width")}},{key:"play",value:function(){var e=this;if(this.paused=!1,this.video.paused&&this.bezel.switch(this.icons.get("play")),this.template.playButton.innerHTML=this.icons.get("pause"),r.default.resolve(this.video.play()).catch(function(){e.pause()}).then(function(){}),this.time.enable(),this.container.classList.add("dplayer-playing"),this.danmaku&&this.danmaku.play(),this.options.mutex)for(var t=0;t<X.length;t++)this!==X[t]&&X[t].pause()}},{key:"pause",value:function(){this.paused=!0,this.container.classList.remove("dplayer-loading"),this.video.paused||this.bezel.switch(this.icons.get("pause")),this.ended=!1,this.template.playButton.innerHTML=this.icons.get("play"),this.video.pause(),this.time.disable(),this.container.classList.remove("dplayer-playing"),this.danmaku&&this.danmaku.pause()}},{key:"switchVolumeIcon",value:function(){this.volume()>=.95?this.template.volumeIcon.innerHTML=this.icons.get("volume-up"):this.volume()>0?this.template.volumeIcon.innerHTML=this.icons.get("volume-down"):this.template.volumeIcon.innerHTML=this.icons.get("volume-off")}},{key:"volume",value:function(e,t,n){if(e=parseFloat(e),!isNaN(e)){e=Math.max(e,0),e=Math.min(e,1),this.bar.set("volume",e,"width");var i=(100*e).toFixed(0)+"%";this.template.volumeBarWrapWrap.dataset.balloon=i,t||this.user.set("volume",e),n||this.notice(this.tran("Volume")+" "+(100*e).toFixed(0)+"%"),this.video.volume=e,this.video.muted&&(this.video.muted=!1),this.switchVolumeIcon()}return this.video.volume}},{key:"toggle",value:function(){this.video.paused?this.play():this.pause()}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"switchVideo",value:function(e,t){this.pause(),this.video.poster=e.pic?e.pic:"",this.video.src=e.url,this.initMSE(this.video,e.type||"auto"),t&&(this.template.danmakuLoading.style.display="block",this.bar.set("played",0,"width"),this.bar.set("loaded",0,"width"),this.template.ptime.innerHTML="00:00",this.template.danmaku.innerHTML="",this.danmaku&&this.danmaku.reload({id:t.id,address:t.api,token:t.token,maximum:t.maximum,addition:t.addition,user:t.user}))}},{key:"initMSE",value:function(e,t){var n=this;if(this.type=t,this.options.video.customType&&this.options.video.customType[t])"[object Function]"===Object.prototype.toString.call(this.options.video.customType[t])?this.options.video.customType[t](this.video,this):console.error("Illegal customType: "+t);else switch("auto"===this.type&&(/m3u8(#|\?|$)/i.exec(e.src)?this.type="hls":/.flv(#|\?|$)/i.exec(e.src)?this.type="flv":/.mpd(#|\?|$)/i.exec(e.src)?this.type="dash":this.type="normal"),this.type){case"hls":if(Hls)if(Hls.isSupported()){var i=new Hls;i.loadSource(e.src),i.attachMedia(e)}else this.notice("Error: Hls is not supported.");else this.notice("Error: Can't find Hls.");break;case"flv":if(flvjs&&flvjs.isSupported())if(flvjs.isSupported()){var a=flvjs.createPlayer({type:"flv",url:e.src});a.attachMediaElement(e),a.load()}else this.notice("Error: flvjs is not supported.");else this.notice("Error: Can't find flvjs.");break;case"dash":dashjs?dashjs.MediaPlayer().create().initialize(e,e.src,!1):this.notice("Error: Can't find dashjs.");break;case"webtorrent":if(WebTorrent)if(WebTorrent.WEBRTC_SUPPORT){this.container.classList.add("dplayer-loading");var o=new WebTorrent,s=e.src;o.add(s,function(e){e.files.find(function(e){return e.name.endsWith(".mp4")}).renderTo(n.video,{autoplay:n.options.autoplay},function(){n.container.classList.remove("dplayer-loading")})})}else this.notice("Error: Webtorrent is not supported.");else this.notice("Error: Can't find Webtorrent.")}}},{key:"initVideo",value:function(e,t){var n=this;this.initMSE(e,t),this.on("durationchange",function(){1!==e.duration&&(n.template.dtime.innerHTML=c.default.secondToTime(e.duration))}),this.on("progress",function(){var t=e.buffered.length?e.buffered.end(e.buffered.length-1)/e.duration:0;n.bar.set("loaded",t,"width")}),this.on("error",function(){n.tran&&n.notice&&(n.type,n.notice(n.tran("This video fails to load"),-1))}),this.ended=!1,this.on("ended",function(){n.bar.set("played",1,"width"),n.setting.loop?(n.seek(0),e.play()):(n.ended=!0,n.pause()),n.danmaku&&(n.danmaku.danIndex=0)}),this.on("play",function(){n.paused&&n.play()}),this.on("pause",function(){n.paused||n.pause()});for(var i=0;i<this.events.videoEvents.length;i++)!function(t){e.addEventListener(n.events.videoEvents[t],function(){n.events.trigger(n.events.videoEvents[t])})}(i);this.volume(this.user.get("volume"),!0,!0),this.options.subtitle&&(this.subtitle=new _.default(this.template.subtitle,this.video,this.options.subtitle,this.events),this.user.get("subtitle")||this.subtitle.hide())}},{key:"switchQuality",value:function(e){var t=this;if(this.qualityIndex!==e&&!this.switchingQuality){this.qualityIndex=e,this.switchingQuality=!0,this.quality=this.options.video.quality[e],this.template.qualityButton.innerHTML=this.quality.name;var n=this.video.paused;this.video.pause();var i=this.template.tplVideo(!1,null,this.options.screenshot,"auto",this.quality.url,this.options.subtitle),a=(new DOMParser).parseFromString(i,"text/html").body.firstChild;this.template.videoWrap.insertBefore(a,this.template.videoWrap.getElementsByTagName("div")[0]),this.prevVideo=this.video,this.video=a,this.initVideo(this.video,this.quality.type||this.options.video.type),this.seek(this.prevVideo.currentTime),this.notice(this.tran("Switching to")+" "+this.quality.name+" "+this.tran("quality"),-1),this.events.trigger("quality_start",this.quality),this.on("canplay",function(){if(t.prevVideo){if(t.video.currentTime!==t.prevVideo.currentTime)return void t.seek(t.prevVideo.currentTime);t.template.videoWrap.removeChild(t.prevVideo),t.video.classList.add("dplayer-video-current"),n||t.video.play(),t.prevVideo=null,t.notice(t.tran("Switched to")+" "+t.quality.name+" "+t.tran("quality")),t.switchingQuality=!1,t.events.trigger("quality_end")}})}}},{key:"notice",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;this.template.notice.innerHTML=e,this.template.notice.style.opacity=i,this.noticeTime&&clearTimeout(this.noticeTime),this.events.trigger("notice_show",e),this.noticeTime=setTimeout(function(){t.template.notice.style.opacity=0,t.events.trigger("notice_hide")},n)}},{key:"resize",value:function(){this.danmaku&&this.danmaku.resize(),this.events.trigger("resize")}},{key:"speed",value:function(e){this.video.playbackRate=e}},{key:"destroy",value:function(){X.splice(X.indexOf(this),1),this.pause(),this.controller.destroy(),this.time.destroy(),this.video.src="",this.container.innerHTML="",this.events.trigger("destroy");for(var e in this)this.hasOwnProperty(e)&&"paused"!==e&&delete this[e]}}]),e}();t.default=Q},function(e,t,n){"use strict";(function(e){function n(){}function i(e,t){return function(){e.apply(t,arguments)}}function a(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,u._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?o:s)(t.promise,e._value);var i;try{i=n(e._value)}catch(e){return void s(t.promise,e)}o(t.promise,i)})}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===(void 0===t?"undefined":d(t))||"function"==typeof t)){var n=t.then;if(t instanceof u)return e._state=3,e._value=t,void r(e);if("function"==typeof n)return void c(i(n,t),e)}e._state=1,e._value=t,r(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,r(e)}function r(e){2===e._state&&0===e._deferreds.length&&u._immediateFn(function(){e._handled||u._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function c(e,t){var n=!1;try{e(function(e){n||(n=!0,o(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}function u(e){if(!(this instanceof u))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}Object.defineProperty(t,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=setTimeout,h=u.prototype;h.catch=function(e){return this.then(null,e)},h.then=function(e,t){var i=new this.constructor(n);return a(this,new l(e,t,i)),i},u.all=function(e){return new u(function(t,n){function i(e,s){try{if(s&&("object"===(void 0===s?"undefined":d(s))||"function"==typeof s)){var r=s.then;if("function"==typeof r)return void r.call(s,function(t){i(e,t)},n)}a[e]=s,0==--o&&t(a)}catch(e){n(e)}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var a=Array.prototype.slice.call(e);if(0===a.length)return t([]);for(var o=a.length,s=0;s<a.length;s++)i(s,a[s])})},u.resolve=function(e){return e&&"object"===(void 0===e?"undefined":d(e))&&e.constructor===u?e:new u(function(t){t(e)})},u.reject=function(e){return new u(function(t,n){n(e)})},u.race=function(e){return new u(function(t,n){for(var i=0,a=e.length;i<a;i++)e[i].then(t,n)})},u._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){p(e,0)},u._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.default=u}).call(t,n(5).setImmediate)},function(e,t,n){"use strict";function i(e,t){this._id=e,this._clearFn=t}var a=Function.prototype.apply;t.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(6),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){"use strict";(function(e,t){!function(e,n){function i(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[l]=i,r(l),l++}function a(e){delete c[e]}function o(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}function s(e){if(u)setTimeout(s,0,e);else{var t=c[e];if(t){u=!0;try{o(t)}finally{a(e),u=!1}}}}if(!e.setImmediate){var r,l=1,c={},u=!1,d=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?function(){r=function(e){t.nextTick(function(){s(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&s(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){s(e.data)},r=function(t){e.port2.postMessage(t)}}():d&&"onreadystatechange"in d.createElement("script")?function(){var e=d.documentElement;r=function(t){var n=d.createElement("script");n.onreadystatechange=function(){s(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){r=function(e){setTimeout(s,0,e)}}(),p.setImmediate=i,p.clearImmediate=a}}("undefined"==typeof self?void 0===e?void 0:e:self)}).call(t,n(7),n(8))},function(e,t,n){"use strict";var i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":a(window))&&(i=window)}e.exports=i},function(e,t,n){"use strict";function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(d===setTimeout)return setTimeout(e,0);if((d===i||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function s(e){if(p===clearTimeout)return clearTimeout(e);if((p===a||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function r(){f&&y&&(f=!1,y.length?m=y.concat(m):v=-1,m.length&&l())}function l(){if(!f){var e=o(r);f=!0;for(var t=m.length;t;){for(y=m,m=[];++v<t;)y&&y[v].run();v=-1,t=m.length}y=null,f=!1,s(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var d,p,h=e.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:i}catch(e){d=i}try{p="function"==typeof clearTimeout?clearTimeout:a}catch(e){p=a}}();var y,m=[],f=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new c(e,t)),1!==m.length||f||o(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(10),s=i(o),r=n(11),l=i(r);t.default=function(e){var t={container:e.element||document.getElementsByClassName("dplayer")[0],live:!1,autoplay:!1,theme:"#b7daff",loop:!1,lang:(navigator.language||navigator.browserLanguage).toLowerCase(),screenshot:!1,hotkey:!0,preload:"auto",volume:.7,apiBackend:l.default,video:{},icons:{play:["0 0 16 32","M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"],pause:["0 0 17 32","M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"],"volume-up":["0 0 21 32","M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056z"],"volume-down":["0 0 21 32","M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"],"volume-off":["0 0 21 32","M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"],loop:["0 0 32 32","M1.882 16.941c0 4.152 3.221 7.529 7.177 7.529v1.882c-4.996 0-9.060-4.222-9.060-9.412s4.064-9.412 9.060-9.412h7.96l-3.098-3.098 1.331-1.331 5.372 5.37-5.37 5.372-1.333-1.333 3.1-3.098h-7.962c-3.957 0-7.177 3.377-7.177 7.529zM22.94 7.529v1.882c3.957 0 7.177 3.377 7.177 7.529s-3.221 7.529-7.177 7.529h-7.962l3.098-3.098-1.331-1.331-5.37 5.37 5.372 5.372 1.331-1.331-3.1-3.1h7.96c4.998 0 9.062-4.222 9.062-9.412s-4.064-9.412-9.060-9.412z"],full:["0 0 32 33","M6.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v4h4c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333zM30.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h4v-4c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM30.667 12c-0.8 0-1.333-0.533-1.333-1.333v-4h-4c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM1.333 12c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333h-4v4c0 0.8-0.533 1.333-1.333 1.333z"],"full-in":["0 0 32 33","M24.965 24.38h-18.132c-1.366 0-2.478-1.113-2.478-2.478v-11.806c0-1.364 1.111-2.478 2.478-2.478h18.132c1.366 0 2.478 1.113 2.478 2.478v11.806c0 1.364-1.11 2.478-2.478 2.478zM6.833 10.097v11.806h18.134l-0.002-11.806h-18.132zM2.478 28.928h5.952c0.684 0 1.238-0.554 1.238-1.239 0-0.684-0.554-1.238-1.238-1.238h-5.952v-5.802c0-0.684-0.554-1.239-1.238-1.239s-1.239 0.556-1.239 1.239v5.802c0 1.365 1.111 2.478 2.478 2.478zM30.761 19.412c-0.684 0-1.238 0.554-1.238 1.238v5.801h-5.951c-0.686 0-1.239 0.554-1.239 1.238 0 0.686 0.554 1.239 1.239 1.239h5.951c1.366 0 2.478-1.111 2.478-2.478v-5.801c0-0.683-0.554-1.238-1.239-1.238zM0 5.55v5.802c0 0.683 0.554 1.238 1.238 1.238s1.238-0.555 1.238-1.238v-5.802h5.952c0.684 0 1.238-0.554 1.238-1.238s-0.554-1.238-1.238-1.238h-5.951c-1.366-0.001-2.478 1.111-2.478 2.476zM32 11.35v-5.801c0-1.365-1.11-2.478-2.478-2.478h-5.951c-0.686 0-1.239 0.554-1.239 1.238s0.554 1.238 1.239 1.238h5.951v5.801c0 0.683 0.554 1.237 1.238 1.237 0.686 0.002 1.239-0.553 1.239-1.236z"],setting:["0 0 32 28","M28.633 17.104c0.035 0.21 0.026 0.463-0.026 0.76s-0.14 0.598-0.262 0.904c-0.122 0.306-0.271 0.581-0.445 0.825s-0.367 0.419-0.576 0.524c-0.209 0.105-0.393 0.157-0.55 0.157s-0.332-0.035-0.524-0.105c-0.175-0.052-0.393-0.1-0.655-0.144s-0.528-0.052-0.799-0.026c-0.271 0.026-0.541 0.083-0.812 0.17s-0.502 0.236-0.694 0.445c-0.419 0.437-0.664 0.934-0.734 1.493s0.009 1.092 0.236 1.598c0.175 0.349 0.148 0.699-0.079 1.048-0.105 0.14-0.271 0.284-0.498 0.432s-0.476 0.284-0.747 0.406-0.555 0.218-0.851 0.288c-0.297 0.070-0.559 0.105-0.786 0.105-0.157 0-0.306-0.061-0.445-0.183s-0.236-0.253-0.288-0.393h-0.026c-0.192-0.541-0.52-1.009-0.982-1.402s-1-0.589-1.611-0.589c-0.594 0-1.131 0.197-1.611 0.589s-0.816 0.851-1.009 1.375c-0.087 0.21-0.218 0.362-0.393 0.458s-0.367 0.144-0.576 0.144c-0.244 0-0.52-0.044-0.825-0.131s-0.611-0.197-0.917-0.327c-0.306-0.131-0.581-0.284-0.825-0.458s-0.428-0.349-0.55-0.524c-0.087-0.122-0.135-0.266-0.144-0.432s0.057-0.397 0.197-0.694c0.192-0.402 0.266-0.86 0.223-1.375s-0.266-0.991-0.668-1.428c-0.244-0.262-0.541-0.432-0.891-0.511s-0.681-0.109-0.995-0.092c-0.367 0.017-0.742 0.087-1.127 0.21-0.244 0.070-0.489 0.052-0.734-0.052-0.192-0.070-0.371-0.231-0.537-0.485s-0.314-0.533-0.445-0.838c-0.131-0.306-0.231-0.62-0.301-0.943s-0.087-0.59-0.052-0.799c0.052-0.384 0.227-0.629 0.524-0.734 0.524-0.21 0.995-0.555 1.415-1.035s0.629-1.017 0.629-1.611c0-0.611-0.21-1.144-0.629-1.598s-0.891-0.786-1.415-0.996c-0.157-0.052-0.288-0.179-0.393-0.38s-0.157-0.406-0.157-0.616c0-0.227 0.035-0.48 0.105-0.76s0.162-0.55 0.275-0.812 0.244-0.502 0.393-0.72c0.148-0.218 0.31-0.38 0.485-0.485 0.14-0.087 0.275-0.122 0.406-0.105s0.275 0.052 0.432 0.105c0.524 0.21 1.070 0.275 1.637 0.197s1.070-0.327 1.506-0.747c0.21-0.209 0.362-0.467 0.458-0.773s0.157-0.607 0.183-0.904c0.026-0.297 0.026-0.568 0-0.812s-0.048-0.419-0.065-0.524c-0.035-0.105-0.066-0.227-0.092-0.367s-0.013-0.262 0.039-0.367c0.105-0.244 0.293-0.458 0.563-0.642s0.563-0.336 0.878-0.458c0.314-0.122 0.62-0.214 0.917-0.275s0.533-0.092 0.707-0.092c0.227 0 0.406 0.074 0.537 0.223s0.223 0.301 0.275 0.458c0.192 0.471 0.507 0.886 0.943 1.244s0.952 0.537 1.546 0.537c0.611 0 1.153-0.17 1.624-0.511s0.803-0.773 0.996-1.297c0.070-0.14 0.179-0.284 0.327-0.432s0.301-0.223 0.458-0.223c0.244 0 0.511 0.035 0.799 0.105s0.572 0.166 0.851 0.288c0.279 0.122 0.537 0.279 0.773 0.472s0.423 0.402 0.563 0.629c0.087 0.14 0.113 0.293 0.079 0.458s-0.070 0.284-0.105 0.354c-0.227 0.506-0.297 1.039-0.21 1.598s0.341 1.048 0.76 1.467c0.419 0.419 0.934 0.651 1.546 0.694s1.179-0.057 1.703-0.301c0.14-0.087 0.31-0.122 0.511-0.105s0.371 0.096 0.511 0.236c0.262 0.244 0.493 0.616 0.694 1.113s0.336 1 0.406 1.506c0.035 0.297-0.013 0.528-0.144 0.694s-0.266 0.275-0.406 0.327c-0.542 0.192-1.004 0.528-1.388 1.009s-0.576 1.026-0.576 1.637c0 0.594 0.162 1.113 0.485 1.559s0.747 0.764 1.27 0.956c0.122 0.070 0.227 0.14 0.314 0.21 0.192 0.157 0.323 0.358 0.393 0.602v0zM16.451 19.462c0.786 0 1.528-0.149 2.227-0.445s1.305-0.707 1.821-1.231c0.515-0.524 0.921-1.131 1.218-1.821s0.445-1.428 0.445-2.214c0-0.786-0.148-1.524-0.445-2.214s-0.703-1.292-1.218-1.808c-0.515-0.515-1.122-0.921-1.821-1.218s-1.441-0.445-2.227-0.445c-0.786 0-1.524 0.148-2.214 0.445s-1.292 0.703-1.808 1.218c-0.515 0.515-0.921 1.118-1.218 1.808s-0.445 1.428-0.445 2.214c0 0.786 0.149 1.524 0.445 2.214s0.703 1.297 1.218 1.821c0.515 0.524 1.118 0.934 1.808 1.231s1.428 0.445 2.214 0.445v0z"],right:["0 0 32 32","M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"],comment:["0 0 32 32","M27.128 0.38h-22.553c-2.336 0-4.229 1.825-4.229 4.076v16.273c0 2.251 1.893 4.076 4.229 4.076h4.229v-2.685h8.403l-8.784 8.072 1.566 1.44 7.429-6.827h9.71c2.335 0 4.229-1.825 4.229-4.076v-16.273c0-2.252-1.894-4.076-4.229-4.076zM28.538 19.403c0 1.5-1.262 2.717-2.819 2.717h-8.36l-0.076-0.070-0.076 0.070h-11.223c-1.557 0-2.819-1.217-2.819-2.717v-13.589c0-1.501 1.262-2.718 2.819-2.718h19.734c1.557 0 2.819-0.141 2.819 1.359v14.947zM9.206 10.557c-1.222 0-2.215 0.911-2.215 2.036s0.992 2.035 2.215 2.035c1.224 0 2.216-0.911 2.216-2.035s-0.992-2.036-2.216-2.036zM22.496 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.224 0 2.215-0.911 2.215-2.035s-0.991-2.036-2.215-2.036zM15.852 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.222 0 2.215-0.911 2.215-2.035s-0.992-2.036-2.215-2.036z"],"comment-off":["0 0 32 32","M27.090 0.131h-22.731c-2.354 0-4.262 1.839-4.262 4.109v16.401c0 2.269 1.908 4.109 4.262 4.109h4.262v-2.706h8.469l-8.853 8.135 1.579 1.451 7.487-6.88h9.787c2.353 0 4.262-1.84 4.262-4.109v-16.401c0-2.27-1.909-4.109-4.262-4.109v0zM28.511 19.304c0 1.512-1.272 2.738-2.841 2.738h-8.425l-0.076-0.070-0.076 0.070h-11.311c-1.569 0-2.841-1.226-2.841-2.738v-13.696c0-1.513 1.272-2.739 2.841-2.739h19.889c1.569 0 2.841-0.142 2.841 1.37v15.064z"],send:["0 0 32 32","M13.725 30l3.9-5.325-3.9-1.125v6.45zM0 17.5l11.050 3.35 13.6-11.55-10.55 12.425 11.8 3.65 6.1-23.375-32 15.5z"],pallette:["0 0 32 32","M19.357 2.88c1.749 0 3.366 0.316 4.851 0.946 1.485 0.632 2.768 1.474 3.845 2.533s1.922 2.279 2.532 3.661c0.611 1.383 0.915 2.829 0.915 4.334 0 1.425-0.304 2.847-0.915 4.271-0.611 1.425-1.587 2.767-2.928 4.028-0.855 0.813-1.811 1.607-2.869 2.38s-2.136 1.465-3.233 2.075c-1.099 0.61-2.198 1.098-3.296 1.465-1.098 0.366-2.115 0.549-3.051 0.549-1.343 0-2.441-0.438-3.296-1.311-0.854-0.876-1.281-2.41-1.281-4.608 0-0.366 0.020-0.773 0.060-1.221s0.062-0.895 0.062-1.343c0-0.773-0.183-1.353-0.55-1.738-0.366-0.387-0.793-0.58-1.281-0.58-0.652 0-1.21 0.295-1.678 0.886s-0.926 1.23-1.373 1.921c-0.447 0.693-0.905 1.334-1.372 1.923s-1.028 0.886-1.679 0.886c-0.529 0-1.048-0.427-1.556-1.282s-0.763-2.259-0.763-4.212c0-2.197 0.529-4.241 1.587-6.133s2.462-3.529 4.21-4.912c1.75-1.383 3.762-2.471 6.041-3.264 2.277-0.796 4.617-1.212 7.018-1.253zM7.334 15.817c0.569 0 1.047-0.204 1.434-0.611s0.579-0.875 0.579-1.404c0-0.569-0.193-1.047-0.579-1.434s-0.864-0.579-1.434-0.579c-0.529 0-0.987 0.193-1.373 0.579s-0.58 0.864-0.58 1.434c0 0.53 0.194 0.998 0.58 1.404 0.388 0.407 0.845 0.611 1.373 0.611zM12.216 11.79c0.691 0 1.292-0.254 1.8-0.763s0.762-1.107 0.762-1.8c0-0.732-0.255-1.343-0.762-1.831-0.509-0.489-1.109-0.732-1.8-0.732-0.732 0-1.342 0.244-1.831 0.732-0.488 0.488-0.732 1.098-0.732 1.831 0 0.693 0.244 1.292 0.732 1.8s1.099 0.763 1.831 0.763zM16.366 25.947c0.692 0 1.282-0.214 1.77-0.64s0.732-0.987 0.732-1.678-0.244-1.261-0.732-1.709c-0.489-0.448-1.078-0.671-1.77-0.671-0.65 0-1.21 0.223-1.678 0.671s-0.702 1.018-0.702 1.709c0 0.692 0.234 1.25 0.702 1.678s1.027 0.64 1.678 0.64zM19.113 9.592c0.651 0 1.129-0.203 1.433-0.611 0.305-0.406 0.459-0.874 0.459-1.404 0-0.488-0.154-0.947-0.459-1.373-0.304-0.427-0.782-0.641-1.433-0.641-0.529 0-1.008 0.193-1.434 0.58s-0.64 0.865-0.64 1.434c0 0.571 0.213 1.049 0.64 1.434 0.427 0.389 0.905 0.581 1.434 0.581zM24.848 12.826c0.57 0 1.067-0.213 1.495-0.64 0.427-0.427 0.64-0.947 0.64-1.556 0-0.57-0.214-1.068-0.64-1.495-0.428-0.427-0.927-0.64-1.495-0.64-0.611 0-1.129 0.213-1.555 0.64-0.428 0.427-0.642 0.926-0.642 1.495 0 0.611 0.213 1.129 0.642 1.556s0.947 0.64 1.555 0.64z"],camera:["0 0 32 32","M16 23c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6zM16 13c-2.206 0-4 1.794-4 4s1.794 4 4 4c2.206 0 4-1.794 4-4s-1.794-4-4-4zM27 28h-22c-1.654 0-3-1.346-3-3v-16c0-1.654 1.346-3 3-3h3c0.552 0 1 0.448 1 1s-0.448 1-1 1h-3c-0.551 0-1 0.449-1 1v16c0 0.552 0.449 1 1 1h22c0.552 0 1-0.448 1-1v-16c0-0.551-0.448-1-1-1h-11c-0.552 0-1-0.448-1-1s0.448-1 1-1h11c1.654 0 3 1.346 3 3v16c0 1.654-1.346 3-3 3zM24 10.5c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5zM15 4c0 0.552-0.448 1-1 1h-4c-0.552 0-1-0.448-1-1v0c0-0.552 0.448-1 1-1h4c0.552 0 1 0.448 1 1v0z"],subtitle:["0 0 32 32","M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z"]},iconsColor:"#ffffff",contextmenu:[],mutex:!0};for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n]);return e.video&&!e.video.type&&(e.video.type="auto"),"object"===a(e.danmaku)&&e.danmaku&&!e.danmaku.user&&(e.danmaku.user="DIYgod"),e.subtitle&&(!e.subtitle.type&&(e.subtitle.type="webvtt"),!e.subtitle.fontSize&&(e.subtitle.fontSize="20px"),!e.subtitle.bottom&&(e.subtitle.bottom="40px"),!e.subtitle.color&&(e.subtitle.color="#fff")),e.video.quality&&(e.video.url=[e.video.quality[e.video.defaultQuality].url]),e.lang&&(e.lang=e.lang.toLowerCase()),e.icons&&(e.icons=(0,s.default)({},t.icons,e.icons)),e.contextmenu=e.contextmenu.concat([{text:"About author",link:"https://diygod.me"},{text:"About DPlayer",link:"https://github.com/MoePlayer/DPlayer"},{text:"DPlayer feedback",link:"https://github.com/DIYgod/DPlayer/issues"},{text:"DPlayer 1.21.0 8e69ada",link:"https://github.com/MoePlayer/DPlayer/releases"}]),e}},function(e,t,n){"use strict";function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,l=i(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var u in n)o.call(n,u)&&(l[u]=n[u]);if(a){r=a(n);for(var d=0;d<r.length;d++)s.call(n,r[d])&&(l[r[d]]=n[r[d]])}}return l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,n,i,a){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState){if(o.status>=200&&o.status<300||304===o.status){var e=JSON.parse(o.responseText);return 0!==e.code?i(o,e):n(o,e)}a(o)}},o.open(null!==t?"POST":"GET",e,!0),o.send(null!==t?JSON.stringify(t):null)};t.default={send:function(e,t,n){i(e,t,function(e,t){console.log("Post danmaku: ",t),n&&n()},function(e,t){alert(t.msg)},function(e){console.log("Request was unsuccessful: "+e.status)})},read:function(e,t){i(e,null,function(e,n){t(null,n.danmaku)},function(e,n){t({status:e.status,response:n})},function(e){t({status:e.status,response:null})})}}},function(e,t,n){"use strict";function i(e){var t=this;this.lang=e,this.tran=function(e){return a[t.lang]&&a[t.lang][e]?a[t.lang][e]:e}}Object.defineProperty(t,"__esModule",{value:!0});var a={"zh-cn":{"Danmaku is loading":"\u5f39\u5e55\u52a0\u8f7d\u4e2d",Top:"\u9876\u90e8",Bottom:"\u5e95\u90e8",Rolling:"\u6eda\u52a8","Input danmaku, hit Enter":"\u8f93\u5165\u5f39\u5e55\uff0c\u56de\u8f66\u53d1\u9001","About author":"\u5173\u4e8e\u4f5c\u8005","DPlayer feedback":"\u64ad\u653e\u5668\u610f\u89c1\u53cd\u9988","About DPlayer":"\u5173\u4e8e DPlayer \u64ad\u653e\u5668",Loop:"\u6d17\u8111\u5faa\u73af",Speed:"\u901f\u5ea6","Opacity for danmaku":"\u5f39\u5e55\u900f\u660e\u5ea6",Normal:"\u6b63\u5e38","Please input danmaku content!":"\u8981\u8f93\u5165\u5f39\u5e55\u5185\u5bb9\u554a\u5582\uff01","Set danmaku color":"\u8bbe\u7f6e\u5f39\u5e55\u989c\u8272","Set danmaku type":"\u8bbe\u7f6e\u5f39\u5e55\u7c7b\u578b","Show danmaku":"\u663e\u793a\u5f39\u5e55","This video fails to load":"\u89c6\u9891\u52a0\u8f7d\u5931\u8d25","Switching to":"\u6b63\u5728\u5207\u6362\u81f3","Switched to":"\u5df2\u7ecf\u5207\u6362\u81f3",quality:"\u753b\u8d28",FF:"\u5feb\u8fdb",REW:"\u5feb\u9000","Unlimited danmaku":"\u6d77\u91cf\u5f39\u5e55","Send danmaku":"\u53d1\u9001\u5f39\u5e55",Setting:"\u8bbe\u7f6e","Full screen":"\u5168\u5c4f","Web full screen":"\u9875\u9762\u5168\u5c4f",Send:"\u53d1\u9001",Screenshot:"\u622a\u56fe",s:"\u79d2","Show subtitle":"\u663e\u793a\u5b57\u5e55","Hide subtitle":"\u9690\u85cf\u5b57\u5e55",Volume:"\u97f3\u91cf",Live:"\u76f4\u64ad"},"zh-tw":{"Danmaku is loading":"\u5f48\u5e55\u52a0\u8f09\u4e2d",Top:"\u9802\u90e8",Bottom:"\u5e95\u90e8",Rolling:"\u6efe\u52d5","Input danmaku, hit Enter":"\u8f38\u5165\u5f48\u5e55\uff0cEnter \u767c\u9001","About author":"\u95dc\u65bc\u4f5c\u8005","DPlayer feedback":"\u64ad\u653e\u5668\u610f\u898b\u53cd\u994b","About DPlayer":"\u95dc\u65bc DPlayer \u64ad\u653e\u5668",Loop:"\u5faa\u74b0\u64ad\u653e",Speed:"\u901f\u5ea6","Opacity for danmaku":"\u5f48\u5e55\u900f\u660e\u5ea6",Normal:"\u6b63\u5e38","Please input danmaku content!":"\u8acb\u8f38\u5165\u5f48\u5e55\u5185\u5bb9\u554a\uff01","Set danmaku color":"\u8a2d\u7f6e\u5f48\u5e55\u984f\u8272","Set danmaku type":"\u8a2d\u7f6e\u5f48\u5e55\u985e\u578b","Show danmaku":"\u986f\u793a\u5f48\u5e55","This video fails to load":"\u8996\u983b\u52a0\u8f09\u5931\u6557","Switching to":"\u6b63\u5728\u5207\u63db\u81f3","Switched to":"\u5df2\u7d93\u5207\u63db\u81f3",quality:"\u756b\u8cea",FF:"\u5feb\u9032",REW:"\u5feb\u9000","Unlimited danmaku":"\u6d77\u91cf\u5f48\u5e55","Send danmaku":"\u767c\u9001\u5f48\u5e55",Setting:"\u8a2d\u7f6e","Full screen":"\u5168\u5c4f","Web full screen":"\u9801\u9762\u5168\u5c4f",Send:"\u767c\u9001",Screenshot:"\u622a\u5716",s:"\u79d2","Show subtitle":"\u986f\u793a\u5b57\u5e55","Hide subtitle":"\u96b1\u85cf\u5b57\u5e55",Volume:"\u97f3\u91cf",Live:"\u76f4\u64ad"}};t.default=i},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.container=t.container,this.options=t.options,this.index=t.index,this.tran=t.tran,this.icons=t.icons,this.init()}return a(e,[{key:"init",value:function(){this.container.innerHTML=this.tpl(this.options,this.index,this.tran,this.icons),this.volumeBar=this.container.querySelector(".dplayer-volume-bar-inner"),this.volumeBarWrap=this.container.querySelector(".dplayer-volume-bar"),this.volumeBarWrapWrap=this.container.querySelector(".dplayer-volume-bar-wrap"),this.volumeButton=this.container.querySelector(".dplayer-volume"),this.volumeIcon=this.container.querySelector(".dplayer-volume-icon .dplayer-icon-content"),this.playedBar=this.container.querySelector(".dplayer-played"),this.loadedBar=this.container.querySelector(".dplayer-loaded"),this.playedBarWrap=this.container.querySelector(".dplayer-bar-wrap"),this.playedBarTime=this.container.querySelector(".dplayer-bar-time"),this.danmaku=this.container.querySelector(".dplayer-danmaku"),this.danmakuLoading=this.container.querySelector(".dplayer-danloading"),this.video=this.container.querySelector(".dplayer-video-current"),this.bezel=this.container.querySelector(".dplayer-bezel-icon"),this.playButton=this.container.querySelector(".dplayer-play-icon"),this.videoWrap=this.container.querySelector(".dplayer-video-wrap"),this.controllerMask=this.container.querySelector(".dplayer-controller-mask"),this.ptime=this.container.querySelector(".dplayer-ptime"),this.settingButton=this.container.querySelector(".dplayer-setting-icon"),this.settingBox=this.container.querySelector(".dplayer-setting-box"),this.mask=this.container.querySelector(".dplayer-mask"),this.loop=this.container.querySelector(".dplayer-setting-loop"),this.loopToggle=this.container.querySelector(".dplayer-setting-loop .dplayer-toggle-setting-input"),this.showDanmaku=this.container.querySelector(".dplayer-setting-showdan"),this.showDanmakuToggle=this.container.querySelector(".dplayer-showdan-setting-input"),this.unlimitDanmaku=this.container.querySelector(".dplayer-setting-danunlimit"),this.unlimitDanmakuToggle=this.container.querySelector(".dplayer-danunlimit-setting-input"),this.speed=this.container.querySelector(".dplayer-setting-speed"),this.speedItem=this.container.querySelectorAll(".dplayer-setting-speed-item"),this.danmakuOpacityBar=this.container.querySelector(".dplayer-danmaku-bar-inner"),this.danmakuOpacityBarWrap=this.container.querySelector(".dplayer-danmaku-bar"),this.danmakuOpacityBarWrapWrap=this.container.querySelector(".dplayer-danmaku-bar-wrap"),this.danmakuOpacityBox=this.container.querySelector(".dplayer-setting-danmaku"),this.dtime=this.container.querySelector(".dplayer-dtime"),this.controller=this.container.querySelector(".dplayer-controller"),this.commentInput=this.container.querySelector(".dplayer-comment-input"),this.commentButton=this.container.querySelector(".dplayer-comment-icon"),this.commentSettingBox=this.container.querySelector(".dplayer-comment-setting-box"),this.commentSettingButton=this.container.querySelector(".dplayer-comment-setting-icon"),this.commentSettingFill=this.container.querySelector(".dplayer-comment-setting-icon .dplayer-fill"),this.commentSendButton=this.container.querySelector(".dplayer-send-icon"),this.commentSendFill=this.container.querySelector(".dplayer-send-icon .dplayer-fill"),this.commentColorSettingBox=this.container.querySelector(".dplayer-comment-setting-color"),this.browserFullButton=this.container.querySelector(".dplayer-full-icon"),this.webFullButton=this.container.querySelector(".dplayer-full-in-icon"),this.menu=this.container.querySelector(".dplayer-menu"),this.qualityList=this.container.querySelector(".dplayer-quality-list"),this.camareButton=this.container.querySelector(".dplayer-camera-icon"),this.subtitleButton=this.container.querySelector(".dplayer-subtitle-icon"),this.subtitleButtonInner=this.container.querySelector(".dplayer-subtitle-icon .dplayer-icon-content"),this.subtitle=this.container.querySelector(".dplayer-subtitle"),this.qualityButton=this.container.querySelector(".dplayer-quality-icon"),this.barPreview=this.container.querySelector(".dplayer-bar-preview"),this.barWrap=this.container.querySelector(".dplayer-bar-wrap"),this.notice=this.container.querySelector(".dplayer-notice")}},{key:"tpl",value:function(e,t,n,i){return'<div class="dplayer-mask"></div><div class="dplayer-video-wrap">'+this.tplVideo(!0,e.video.pic,e.screenshot,e.preload,e.video.url,e.subtitle)+(e.logo?'<div class="dplayer-logo"><img src="'+e.logo+'"></div>':"")+'<div class="dplayer-danmaku" style="'+(e.danmaku?this.tplDanmakumargin(e.danmaku.margin):"")+'"><div class="dplayer-danmaku-item dplayer-danmaku-item--demo"></div></div><div class="dplayer-subtitle"></div><div class="dplayer-bezel"><span class="dplayer-bezel-icon"></span>'+(e.danmaku?'<span class="dplayer-danloading">'+n("Danmaku is loading")+"</span>":"")+'<span class="diplayer-loading-icon"><svg height="100%" version="1.1" viewBox="0 0 22 22" width="100%"><svg x="7" y="1"><circle class="diplayer-loading-dot diplayer-loading-dot-0" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-1" cx="4" cy="4" r="2"></circle></svg><svg x="13" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-2" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-3" cx="4" cy="4" r="2"></circle></svg><svg x="7" y="13"><circle class="diplayer-loading-dot diplayer-loading-dot-4" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-5" cx="4" cy="4" r="2"></circle></svg><svg x="1" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-6" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-7" cx="4" cy="4" r="2"></circle></svg></svg></span></div></div><div class="dplayer-controller-mask"></div><div class="dplayer-controller"><div class="dplayer-icons dplayer-comment-box"><button class="dplayer-icon dplayer-comment-setting-icon" data-balloon="'+n("Setting")+'" data-balloon-pos="up"><span class="dplayer-icon-content">'+i.get("pallette")+'</span></button><div class="dplayer-comment-setting-box"><div class="dplayer-comment-setting-color"><div class="dplayer-comment-setting-title">'+n("Set danmaku color")+'</div><label><input type="radio" name="dplayer-danmaku-color-'+t+'" value="#fff" checked><span style="background: #fff;"></span></label><label><input type="radio" name="dplayer-danmaku-color-'+t+'" value="#e54256"><span style="background: #e54256"></span></label><label><input type="radio" name="dplayer-danmaku-color-'+t+'" value="#ffe133"><span style="background: #ffe133"></span></label><label><input type="radio" name="dplayer-danmaku-color-'+t+'" value="#64DD17"><span style="background: #64DD17"></span></label><label><input type="radio" name="dplayer-danmaku-color-'+t+'" value="#39ccff"><span style="background: #39ccff"></span></label><label><input type="radio" name="dplayer-danmaku-color-'+t+'" value="#D500F9"><span style="background: #D500F9"></span></label></div><div class="dplayer-comment-setting-type"><div class="dplayer-comment-setting-title">'+n("Set danmaku type")+'</div><label><input type="radio" name="dplayer-danmaku-type-'+t+'" value="top"><span>'+n("Top")+'</span></label><label><input type="radio" name="dplayer-danmaku-type-'+t+'" value="right" checked><span>'+n("Rolling")+'</span></label><label><input type="radio" name="dplayer-danmaku-type-'+t+'" value="bottom"><span>'+n("Bottom")+'</span></label></div></div><input class="dplayer-comment-input" type="text" placeholder="'+n("Input danmaku, hit Enter")+'" maxlength="30"><button class="dplayer-icon dplayer-send-icon" data-balloon="'+n("Send")+'" data-balloon-pos="up"><span class="dplayer-icon-content">'+i.get("send")+'</span></button></div><div class="dplayer-icons dplayer-icons-left"><button class="dplayer-icon dplayer-play-icon"><span class="dplayer-icon-content">'+i.get("play")+'</span></button><div class="dplayer-volume"><button class="dplayer-icon dplayer-volume-icon"><span class="dplayer-icon-content">'+i.get("volume-down")+'</span></button><div class="dplayer-volume-bar-wrap" data-balloon-pos="up"><div class="dplayer-volume-bar"><div class="dplayer-volume-bar-inner" style="background: '+e.theme+';"><span class="dplayer-thumb" style="background: '+e.theme+'"></span></div></div></div></div><span class="dplayer-time"><span class="dplayer-ptime">0:00</span> / <span class="dplayer-dtime">0:00</span></span>'+(e.live?'<span class="dplayer-live-badge"><span class="dplayer-live-dot" style="background: '+e.theme+';"></span>'+n("Live")+"</span>":"")+'</div><div class="dplayer-icons dplayer-icons-right">'+(e.video.quality?'<div class="dplayer-quality"><button class="dplayer-icon dplayer-quality-icon">'+e.video.quality[e.video.defaultQuality].name+'</button><div class="dplayer-quality-mask">'+this.tplQualityList(e.video.quality)+"</div></div>":"")+(e.screenshot?'<a href="#" class="dplayer-icon dplayer-camera-icon" data-balloon="'+n("Screenshot")+'" data-balloon-pos="up"><span class="dplayer-icon-content">'+i.get("camera")+"</span></a>":"")+'<div class="dplayer-comment"><button class="dplayer-icon dplayer-comment-icon" data-balloon="'+n("Send danmaku")+'" data-balloon-pos="up"><span class="dplayer-icon-content">'+i.get("comment")+"</span></button></div>"+(e.subtitle?'<div class="dplayer-subtitle-btn"><button class="dplayer-icon dplayer-subtitle-icon" data-balloon="'+n("Hide subtitle")+'" data-balloon-pos="up"><span class="dplayer-icon-content">'+i.get("subtitle")+"</span></button></div>":"")+'<div class="dplayer-setting"><button class="dplayer-icon dplayer-setting-icon" data-balloon="'+n("Setting")+'" data-balloon-pos="up"><span class="dplayer-icon-content">'+i.get("setting")+'</span></button><div class="dplayer-setting-box"><div class="dplayer-setting-origin-panel"><div class="dplayer-setting-item dplayer-setting-speed"><span class="dplayer-label">'+n("Speed")+'</span><div class="dplayer-toggle">'+i.get("right")+'</div></div><div class="dplayer-setting-item dplayer-setting-loop"><span class="dplayer-label">'+n("Loop")+'</span><div class="dplayer-toggle"><input class="dplayer-toggle-setting-input" type="checkbox" name="dplayer-toggle"><label for="dplayer-toggle"></label></div></div><div class="dplayer-setting-item dplayer-setting-showdan"><span class="dplayer-label">'+n("Show danmaku")+'</span><div class="dplayer-toggle"><input class="dplayer-showdan-setting-input" type="checkbox" name="dplayer-toggle-dan"><label for="dplayer-toggle-dan"></label></div></div><div class="dplayer-setting-item dplayer-setting-danunlimit"><span class="dplayer-label">'+n("Unlimited danmaku")+'</span><div class="dplayer-toggle"><input class="dplayer-danunlimit-setting-input" type="checkbox" name="dplayer-toggle-danunlimit"><label for="dplayer-toggle-danunlimit"></label></div></div><div class="dplayer-setting-item dplayer-setting-danmaku"><span class="dplayer-label">'+n("Opacity for danmaku")+'</span><div class="dplayer-danmaku-bar-wrap"><div class="dplayer-danmaku-bar"><div class="dplayer-danmaku-bar-inner"><span class="dplayer-thumb"></span></div></div></div></div></div><div class="dplayer-setting-speed-panel"><div class="dplayer-setting-speed-item" data-speed="0.5"><span class="dplayer-label">0.5</span></div><div class="dplayer-setting-speed-item" data-speed="0.75"><span class="dplayer-label">0.75</span></div><div class="dplayer-setting-speed-item" data-speed="1"><span class="dplayer-label">'+n("Normal")+'</span></div><div class="dplayer-setting-speed-item" data-speed="1.25"><span class="dplayer-label">1.25</span></div><div class="dplayer-setting-speed-item" data-speed="1.5"><span class="dplayer-label">1.5</span></div><div class="dplayer-setting-speed-item" data-speed="2"><span class="dplayer-label">2</span></div></div></div></div><div class="dplayer-full"><button class="dplayer-icon dplayer-full-in-icon" data-balloon="'+n("Web full screen")+'" data-balloon-pos="up"><span class="dplayer-icon-content">'+i.get("full-in")+'</span></button><button class="dplayer-icon dplayer-full-icon" data-balloon="'+n("Full screen")+'" data-balloon-pos="up"><span class="dplayer-icon-content">'+i.get("full")+'</span></button></div></div><div class="dplayer-bar-wrap"><div class="dplayer-bar-time hidden">00:00</div><div class="dplayer-bar-preview"></div><div class="dplayer-bar"><div class="dplayer-loaded" style="width: 0;"></div><div class="dplayer-played" style="width: 0; background: '+e.theme+'"><span class="dplayer-thumb" style="background: '+e.theme+'"></span></div></div></div></div>'+this.tplContextmenuList(e.contextmenu,n)+'<div class="dplayer-notice"></div>'}},{key:"tplDanmakumargin",value:function(e){var t="";if(e)for(var n in e)t+=n+":"+e[n]+";";return t}},{key:"tplContextmenuList",value:function(e,t){for(var n='<div class="dplayer-menu">',i=0;i<e.length;i++)n+='<div class="dplayer-menu-item"><a target="_blank" href="'+e[i].link+'">'+t(e[i].text)+"</a></div>";return n+="</div>"}},{key:"tplQualityList",value:function(e){for(var t='<div class="dplayer-quality-list">',n=0;n<e.length;n++)t+='<div class="dplayer-quality-item" data-index="'+n+'">'+e[n].name+"</div>";return t+="</div>"}},{key:"tplVideo",value:function(e,t,n,i,a,o){var s=o&&"webvtt"===o.type;return'<video class="dplayer-video '+(e?'dplayer-video-current"':"")+'" '+(t?'poster="'+t+'"':"")+" webkit-playsinline playsinline "+(n||s?'crossorigin="anonymous"':"")+" "+(i?'preload="'+i+'"':"")+' src="'+a+'">'+(s?'<track kind="metadata" default src="'+o.url+'"></track>':"")+"</video>"}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.icons=t.icons,this.iconColor=t.iconsColor}return a(e,[{key:"get",value:function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+(this.icons[e][2]||"100%")+'" height="'+(this.icons[e][2]||"100%")+'" version="1.1" viewBox="'+this.icons[e][0]+'"><path class="dplayer-fill" style="fill:'+this.iconColor+'" d="'+this.icons[e][1]+'" id="dplayer-'+e+'"></path></svg>'}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t){i(this,e),this.options=t,this.container=this.options.container,this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.dan=[],this.showing=!0,this._opacity=this.options.opacity,this.events=this.options.events,this.unlimited=this.options.unlimited,this._measure(""),this.load()}return o(e,[{key:"load",value:function(){var e=this,t=void 0;t=this.options.api.maximum?this.options.api.address+"v2/?id="+this.options.api.id+"&max="+this.options.api.maximum:this.options.api.address+"v2/?id="+this.options.api.id;var n=(this.options.api.addition||[]).slice(0);n.push(t),this.events&&this.events.trigger("danmaku_load_start",n),this._readAllEndpoints(n,function(t){e.dan=[].concat.apply([],t).sort(function(e,t){return e.time-t.time}),window.requestAnimationFrame(function(){e.frame()}),e.options.callback(),e.events&&e.events.trigger("danmaku_load_end")})}},{key:"reload",value:function(e){this.options.api=e,this.dan=[],this.clear(),this.load()}},{key:"_readAllEndpoints",value:function(e,t){for(var n=this,i=[],a=0,o=0;o<e.length;++o)this.options.apiBackend.read(e[o],function(o){return function(s,r){if(++a,s)s.response?n.options.error(s.response.msg):n.options.error("Request was unsuccessful: "+s.status),i[o]=[];else{var l=["right","top","bottom"];i[o]=r?r.map(function(e){return{time:e[0],type:l[e[1]],color:e[2],author:e[3],text:e[4]}}):[]}if(a===e.length)return t(i)}}(o))}},{key:"send",value:function(e,t){var n={token:this.options.api.token,player:this.options.api.id,author:this.options.api.user,time:this.options.time(),text:e.text,color:e.color,type:e.type};this.options.apiBackend.send(this.options.api.address+"v2/",n,t),this.dan.splice(this.danIndex,0,n),this.danIndex++;var i={text:this.htmlEncode(n.text),color:n.color,type:n.type,border:"2px solid "+this.options.borderColor};this.draw(i),this.events&&this.events.trigger("danmaku_send",n)}},{key:"frame",value:function(){var e=this;if(this.dan.length&&!this.paused&&this.showing){for(var t=this.dan[this.danIndex],n=[];t&&this.options.time()>parseFloat(t.time);)n.push(t),t=this.dan[++this.danIndex];this.draw(n)}window.requestAnimationFrame(function(){e.frame()})}},{key:"opacity",value:function(e){if(void 0!==e){for(var t=this.container.getElementsByClassName("dplayer-danmaku-item"),n=0;n<t.length;n++)t[n].style.opacity=e;this._opacity=e,this.events&&this.events.trigger("danmaku_opacity",this._opacity)}return this._opacity}},{key:"draw",value:function(e){var t=this;if(this.showing){var n=this.options.height,i=this.container.offsetWidth,o=this.container.offsetHeight,s=parseInt(o/n),r=function(e){var n=e.offsetWidth||parseInt(e.style.width),i=e.getBoundingClientRect().right||t.container.getBoundingClientRect().right+n;return t.container.getBoundingClientRect().right-i},l=function(e){return(i+e)/5},c=function(e,n,o){for(var c=i/l(o),u=0;t.unlimited||u<s;u++){var d=function(a){var o=t.danTunnel[n][a+""];if(!o||!o.length)return t.danTunnel[n][a+""]=[e],e.addEventListener("animationend",function(){t.danTunnel[n][a+""].splice(0,1)}),{v:a%s};if("right"!==n)return"continue";for(var u=0;u<o.length;u++){var d=r(o[u])-10;if(d<=i-c*l(parseInt(o[u].style.width))||d<=0)break;if(u===o.length-1)return t.danTunnel[n][a+""].push(e),e.addEventListener("animationend",function(){t.danTunnel[n][a+""].splice(0,1)}),{v:a%s}}}(u);switch(d){case"continue":continue;default:if("object"===(void 0===d?"undefined":a(d)))return d.v}}return-1};"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]);for(var u=document.createDocumentFragment(),d=0;d<e.length;d++)!function(a){e[a].type||(e[a].type="right"),e[a].color||(e[a].color="#fff");var o=document.createElement("div");o.classList.add("dplayer-danmaku-item"),o.classList.add("dplayer-danmaku-"+e[a].type),e[a].border?o.innerHTML='<span style="border:'+e[a].border+'">'+e[a].text+"</span>":o.innerHTML=e[a].text,o.style.opacity=t._opacity,o.style.color=e[a].color,o.addEventListener("animationend",function(){t.container.removeChild(o)});var s=t._measure(e[a].text),r=void 0;switch(e[a].type){case"right":r=c(o,e[a].type,s),r>=0&&(o.style.width=s+1+"px",o.style.top=n*r+"px",o.style.transform="translateX(-"+i+"px)");break;case"top":r=c(o,e[a].type),r>=0&&(o.style.top=n*r+"px");break;case"bottom":r=c(o,e[a].type),r>=0&&(o.style.bottom=n*r+"px");break;default:console.error("Can't handled danmaku type: "+e[a].type)}r>=0&&(o.classList.add("dplayer-danmaku-move"),u.appendChild(o))}(d);return this.container.appendChild(u),u}}},{key:"play",value:function(){this.paused=!1}},{key:"pause",value:function(){this.paused=!0}},{key:"_measure",value:function(e){if(!this.context){var t=getComputedStyle(this.container.getElementsByClassName("dplayer-danmaku-item")[0],null);this.context=document.createElement("canvas").getContext("2d"),this.context.font=t.getPropertyValue("font")}return this.context.measureText(e).width}},{key:"seek",value:function(){this.clear();for(var e=0;e<this.dan.length;e++){if(this.dan[e].time>=this.options.time()){this.danIndex=e;break}this.danIndex=this.dan.length}}},{key:"clear",value:function(){this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.options.container.innerHTML="",this.events&&this.events.trigger("danmaku_clear")}},{key:"htmlEncode",value:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2f;")}},{key:"resize",value:function(){for(var e=this.container.offsetWidth,t=this.container.getElementsByClassName("dplayer-danmaku-item"),n=0;n<t.length;n++)t[n].style.transform="translateX(-"+e+"px)"}},{key:"hide",value:function(){this.showing=!1,this.pause(),this.clear(),this.events&&this.events.trigger("danmaku_hide")}},{key:"show",value:function(){this.seek(),this.showing=!0,this.play(),this.events&&this.events.trigger("danmaku_show")}},{key:"unlimit",value:function(e){this.unlimited=e}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e),this.events={},this.videoEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["screenshot","thumbnails_show","thumbnails_hide","danmaku_show","danmaku_hide","danmaku_clear","danmaku_loaded","danmaku_send","danmaku_opacity","contextmenu_show","contextmenu_hide","notice_show","notice_hide","quality_start","quality_end","destroy","resize","fullscreen","fullscreen_cancel","webfullscreen","webfullscreen_cancel","subtitle_show","subtitle_hide","subtitle_change"]}return a(e,[{key:"on",value:function(e,t){this.type(e)&&"function"==typeof t&&(this.events[e]||(this.events[e]=[]),this.events[e].push(t))}},{key:"trigger",value:function(e,t){if(this.events[e]&&this.events[e].length)for(var n=0;n<this.events[e].length;n++)this.events[e][n](t)}},{key:"type",value:function(e){return-1!==this.playerEvents.indexOf(e)?"player":-1!==this.videoEvents.indexOf(e)?"video":(console.error("Unknown event name: "+e),null)}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(){function e(t){var n=this;i(this,e),this.player=t,this.player.events.on("webfullscreen",function(){n.player.resize()}),this.player.events.on("webfullscreen_cancel",function(){n.player.resize(),s.default.setScrollPosition(n.lastScrollPosition)});var a=function(){n.player.resize(),n.isFullScreen("browser")?n.player.events.trigger("fullscreen"):(s.default.setScrollPosition(n.lastScrollPosition),n.player.events.trigger("fullscreen_cancel"))};this.player.container.addEventListener("fullscreenchange",a),this.player.container.addEventListener("mozfullscreenchange",a),this.player.container.addEventListener("webkitfullscreenchange",a)}return a(e,[{key:"isFullScreen",value:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser"){case"browser":return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;case"web":return this.player.container.classList.contains("dplayer-fulled")}}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser",t="browser"===e?"web":"browser",n=this.isFullScreen(t);switch(n||(this.lastScrollPosition=s.default.getScrollPosition()),e){case"browser":this.player.container.requestFullscreen?this.player.container.requestFullscreen():this.player.container.mozRequestFullScreen?this.player.container.mozRequestFullScreen():this.player.container.webkitRequestFullscreen?this.player.container.webkitRequestFullscreen():this.player.video.webkitEnterFullscreen&&this.player.video.webkitEnterFullscreen();break;case"web":this.player.container.classList.add("dplayer-fulled"),document.body.classList.add("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen")}n&&this.cancel(t)}},{key:"cancel",value:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser"){case"browser":document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen();break;case"web":this.player.container.classList.remove("dplayer-fulled"),document.body.classList.remove("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen_cancel")}}},{key:"toggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser";this.isFullScreen(e)?this.cancel(e):this.request(e)}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(){function e(t){i(this,e),this.storageName={opacity:"dplayer-danmaku-opacity",volume:"dplayer-volume",unlimited:"dplayer-danmaku-unlimited",danmaku:"dplayer-danmaku-show",subtitle:"dplayer-subtitle-show"},this.default={opacity:.7,volume:t.options.volume||.7,unlimited:(t.options.danmaku&&t.options.danmaku.unlimited?1:0)||0,danmaku:1,subtitle:1},this.data={},this.init()}return a(e,[{key:"init",value:function(){for(var e in this.storageName){var t=this.storageName[e];this.data[e]=parseFloat(s.default.storage.get(t)||this.default[e])}}},{key:"get",value:function(e){return this.data[e]}},{key:"set",value:function(e,t){this.data[e]=t,s.default.storage.set(this.storageName[e],t)}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,n,a,o){i(this,e),this.container=t,this.video=n,this.options=a,this.events=o,this.init()}return a(e,[{key:"init",value:function(){var e=this;if(this.container.style.fontSize=this.options.fontSize,this.container.style.bottom=this.options.bottom,this.container.style.color=this.options.color,this.video.textTracks&&this.video.textTracks[0]){var t=this.video.textTracks[0];t.oncuechange=function(){var n=t.activeCues[0];if(n){e.container.innerHTML="";var i=document.createElement("p");i.appendChild(n.getCueAsHTML()),e.container.appendChild(i)}else e.container.innerHTML="";e.events.trigger("subtitle_change")}}}},{key:"show",value:function(){this.container.classList.remove("dplayer-subtitle-hide"),this.events.trigger("subtitle_show")}},{key:"hide",value:function(){this.container.classList.add("dplayer-subtitle-hide"),this.events.trigger("subtitle_hide")}},{key:"toggle",value:function(){this.container.classList.contains("dplayer-subtitle-hide")?this.show():this.hide()}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.elements={},this.elements.volume=t.volumeBar,this.elements.played=t.playedBar,this.elements.loaded=t.loadedBar,this.elements.danmaku=t.danmakuOpacityBar}return a(e,[{key:"set",value:function(e,t,n){t=Math.max(t,0),t=Math.min(t,1),this.elements[e].style[n]=100*t+"%"}},{key:"get",value:function(e){return parseFloat(this.elements[e].style.width)/100}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(){function e(t){i(this,e),this.player=t,window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),this.types=["loading","progress"],this.init()}return a(e,[{key:"init",value:function(){for(var e=0;e<this.types.length;e++){this["init"+this.types[e]+"Checker"]()}}},{key:"initloadingChecker",value:function(){var e=this,t=0,n=0,i=!1;this.loadingChecker=setInterval(function(){e.enableloadingChecker&&(n=e.player.video.currentTime,i||n!==t||e.player.video.paused||(e.player.container.classList.add("dplayer-loading"),i=!0),i&&n>t&&!e.player.video.paused&&(e.player.container.classList.remove("dplayer-loading"),i=!1),t=n)},100)}},{key:"initprogressChecker",value:function(){var e=this;this.progressChecker=setInterval(function(){if(e.enableprogressChecker){e.player.bar.set("played",e.player.video.currentTime/e.player.video.duration,"width");var t=s.default.secondToTime(e.player.video.currentTime);e.player.template.ptime.innerHTML!==t&&(e.player.template.ptime.innerHTML=s.default.secondToTime(e.player.video.currentTime))}},100)}},{key:"enable",value:function(e){if(e)this["enable"+e+"Checker"]=!0;else for(var t=0;t<this.types.length;t++){var n=this.types[t];this["enable"+n+"Checker"]=!0}}},{key:"disable",value:function(e){if(e)this["enable"+e+"Checker"]=!1;else for(var t=0;t<this.types.length;t++){var n=this.types[t];this["enable"+n+"Checker"]=!1}}},{key:"destroy",value:function(e){if(e)clearInterval(this[e+"Checker"]);else for(var t=0;t<this.types.length;t++)clearInterval(this[this.types[t]+"Checker"])}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){var n=this;i(this,e),this.container=t,this.container.addEventListener("animationend",function(){n.container.classList.remove("dplayer-bezel-transition")})}return a(e,[{key:"switch",value:function(e){this.container.innerHTML=e,this.container.classList.add("dplayer-bezel-transition")}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(0),r=i(s),l=n(24),c=i(l),u=function(){function e(t){var n=this;a(this,e),this.player=t,this.autoHideTimer=0,r.default.isMobile||(this.player.container.addEventListener("mousemove",function(){n.setAutoHide()}),this.player.container.addEventListener("click",function(){n.setAutoHide()}),this.player.on("play",function(){n.setAutoHide()}),this.player.on("pause",function(){n.setAutoHide()})),this.initPlayButton(),this.initThumbnails(),this.initPlayedBar(),this.initFullButton(),this.initQualityButton(),this.initScreenshotButton(),this.initSubtitleButton(),r.default.isMobile||this.initVolumeButton()}return o(e,[{key:"initPlayButton",value:function(){var e=this;this.player.template.playButton.addEventListener("click",function(){e.player.toggle()}),r.default.isMobile?(this.player.template.videoWrap.addEventListener("click",function(){e.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){e.toggle()})):(this.player.template.videoWrap.addEventListener("click",function(){e.player.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){e.player.toggle()}))}},{key:"initThumbnails",value:function(){var e=this;this.player.options.video.thumbnails&&(this.thumbnails=new c.default({container:this.player.template.barPreview,barWidth:this.player.template.barWrap.offsetWidth,url:this.player.options.video.thumbnails,events:this.player.events}),this.player.on("loadedmetadata",function(){e.thumbnails.resize(160,e.player.video.videoHeight/e.player.video.videoWidth*160)}))}},{key:"initPlayedBar",value:function(){var e=this,t=function(t){var n=((t.clientX||t.changedTouches[0].clientX)-r.default.getElementViewLeft(e.player.template.playedBarWrap))/e.player.template.playedBarWrap.clientWidth;n=Math.max(n,0),n=Math.min(n,1),e.player.bar.set("played",n,"width"),e.player.template.ptime.innerHTML=r.default.secondToTime(n*e.player.video.duration)},n=function n(i){document.removeEventListener(r.default.nameMap.dragEnd,n),document.removeEventListener(r.default.nameMap.dragMove,t);var a=((i.clientX||i.changedTouches[0].clientX)-r.default.getElementViewLeft(e.player.template.playedBarWrap))/e.player.template.playedBarWrap.clientWidth;a=Math.max(a,0),a=Math.min(a,1),e.player.bar.set("played",a,"width"),e.player.seek(e.player.bar.get("played")*e.player.video.duration),e.player.time.enable("progress")};this.player.template.playedBarWrap.addEventListener(r.default.nameMap.dragStart,function(){e.player.time.disable("progress"),document.addEventListener(r.default.nameMap.dragMove,t),document.addEventListener(r.default.nameMap.dragEnd,n)}),this.player.template.playedBarWrap.addEventListener(r.default.nameMap.dragMove,function(t){if(e.player.video.duration){var n=r.default.cumulativeOffset(e.player.template.playedBarWrap).left,i=(t.clientX||t.changedTouches[0].clientX)-n;if(i<0||i>e.player.template.playedBarWrap.offsetWidth)return;var a=e.player.video.duration*(i/e.player.template.playedBarWrap.offsetWidth);e.thumbnails&&e.thumbnails.move(i),e.player.template.playedBarTime.style.left=i-20+"px",e.player.template.playedBarTime.innerText=r.default.secondToTime(a),e.player.template.playedBarTime.classList.remove("hidden")}}),this.player.template.playedBarWrap.addEventListener("mouseenter",function(){e.player.video.duration&&(e.thumbnails&&e.thumbnails.show(),e.player.template.playedBarTime.classList.remove("hidden"))}),this.player.template.playedBarWrap.addEventListener("mouseleave",function(){e.player.video.duration&&(e.thumbnails&&e.thumbnails.hide(),e.player.template.playedBarTime.classList.add("hidden"))})}},{key:"initFullButton",value:function(){var e=this;this.player.template.browserFullButton.addEventListener("click",function(){e.player.fullScreen.toggle("browser")}),this.player.template.webFullButton.addEventListener("click",function(){e.player.fullScreen.toggle("web")})}},{key:"initVolumeButton",value:function(){var e=this,t=function(t){var n=t||window.event,i=((n.clientX||n.changedTouches[0].clientX)-r.default.getElementViewLeft(e.player.template.volumeBarWrap)-5.5)/35;e.player.volume(i)},n=function n(){document.removeEventListener(r.default.nameMap.dragEnd,n),document.removeEventListener(r.default.nameMap.dragMove,t),e.player.template.volumeButton.classList.remove("dplayer-volume-active")};this.player.template.volumeBarWrapWrap.addEventListener("click",function(t){var n=t||window.event,i=((n.clientX||n.changedTouches[0].clientX)-r.default.getElementViewLeft(e.player.template.volumeBarWrap)-5.5)/35;e.player.volume(i)}),this.player.template.volumeBarWrapWrap.addEventListener(r.default.nameMap.dragStart,function(){document.addEventListener(r.default.nameMap.dragMove,t),document.addEventListener(r.default.nameMap.dragEnd,n),e.player.template.volumeButton.classList.add("dplayer-volume-active")}),this.player.template.volumeIcon.addEventListener("click",function(){e.player.video.muted?(e.player.video.muted=!1,e.player.switchVolumeIcon(),e.player.bar.set("volume",e.player.volume(),"width")):(e.player.video.muted=!0,e.player.template.volumeIcon.innerHTML=e.player.icons.get("volume-off"),e.player.bar.set("volume",0,"width"))})}},{key:"initQualityButton",value:function(){var e=this;this.player.options.video.quality&&this.player.template.qualityList.addEventListener("click",function(t){t.target.classList.contains("dplayer-quality-item")&&e.player.switchQuality(t.target.dataset.index)})}},{key:"initScreenshotButton",value:function(){var e=this;this.player.options.screenshot&&this.player.template.camareButton.addEventListener("click",function(){var t=document.createElement("canvas");t.width=e.player.video.videoWidth,t.height=e.player.video.videoHeight,t.getContext("2d").drawImage(e.player.video,0,0,t.width,t.height);var n=t.toDataURL();e.player.template.camareButton.href=n,e.player.template.camareButton.download="DPlayer.png",e.player.events.trigger("screenshot",n)})}},{key:"initSubtitleButton",value:function(){var e=this;this.player.options.subtitle&&(this.player.events.on("subtitle_show",function(){e.player.template.subtitleButton.dataset.balloon=e.player.tran("Hide subtitle"),e.player.template.subtitleButtonInner.style.opacity="",e.player.user.set("subtitle",1)}),this.player.events.on("subtitle_hide",function(){e.player.template.subtitleButton.dataset.balloon=e.player.tran("Show subtitle"),e.player.template.subtitleButtonInner.style.opacity="0.4",e.player.user.set("subtitle",0)}),this.player.template.subtitleButton.addEventListener("click",function(){e.player.subtitle.toggle()}))}},{key:"setAutoHide",value:function(){var e=this;this.show(),clearTimeout(this.autoHideTimer),this.autoHideTimer=setTimeout(function(){!e.player.video.played.length||e.player.paused||e.disableAutoHide||e.hide()},3e3)}},{key:"show",value:function(){this.player.container.classList.remove("dplayer-hide-controller")}},{key:"hide",value:function(){this.player.container.classList.add("dplayer-hide-controller"),this.player.setting.hide(),this.player.comment&&this.player.comment.hide()}},{key:"isShow",value:function(){return!this.player.container.classList.contains("dplayer-hide-controller")}},{key:"toggle",value:function(){this.isShow()?this.hide():this.show()}},{key:"destroy",value:function(){clearTimeout(this.autoHideTimer)}}]),e}();t.default=u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.container=t.container,this.barWidth=t.barWidth,this.container.style.backgroundImage="url('"+t.url+"')",this.events=t.events}return a(e,[{key:"resize",value:function(e,t){this.container.style.width=e+"px",this.container.style.height=t+"px",this.container.style.top=2-t+"px"}},{key:"show",value:function(){this.container.style.display="block",this.events&&this.events.trigger("thumbnails_show")}},{key:"move",value:function(e){this.container.style.backgroundPosition="-"+160*(Math.ceil(e/this.barWidth*100)-1)+"px 0",this.container.style.left=e-this.container.offsetWidth/2+"px"}},{key:"hide",value:function(){this.container.style.display="none",this.events&&this.events.trigger("thumbnails_hide")}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(){function e(t){var n=this;i(this,e),this.player=t,this.player.template.mask.addEventListener("click",function(){n.hide()}),this.player.template.settingButton.addEventListener("click",function(){n.show()}),this.loop=this.player.options.loop,this.player.template.loopToggle.checked=this.loop,this.player.template.loop.addEventListener("click",function(){n.player.template.loopToggle.checked=!n.player.template.loopToggle.checked,n.player.template.loopToggle.checked?n.loop=!0:n.loop=!1,n.hide()}),this.showDanmaku=this.player.user.get("danmaku"),this.showDanmaku||this.player.danmaku&&this.player.danmaku.hide(),this.player.template.showDanmakuToggle.checked=this.showDanmaku,this.player.template.showDanmaku.addEventListener("click",function(){n.player.template.showDanmakuToggle.checked=!n.player.template.showDanmakuToggle.checked,n.player.template.showDanmakuToggle.checked?(n.showDanmaku=!0,n.player.danmaku.show()):(n.showDanmaku=!1,n.player.danmaku.hide()),n.player.user.set("danmaku",n.showDanmaku?1:0),n.hide()}),this.unlimitDanmaku=this.player.user.get("unlimited"),this.player.template.unlimitDanmakuToggle.checked=this.unlimitDanmaku,this.player.template.unlimitDanmaku.addEventListener("click",function(){n.player.template.unlimitDanmakuToggle.checked=!n.player.template.unlimitDanmakuToggle.checked,n.player.template.unlimitDanmakuToggle.checked?(n.unlimitDanmaku=!0,n.player.danmaku.unlimit(!0)):(n.unlimitDanmaku=!1,n.player.danmaku.unlimit(!1)),n.player.user.set("unlimited",n.unlimitDanmaku?1:0),n.hide()}),this.player.template.speed.addEventListener("click",function(){n.player.template.settingBox.classList.add("dplayer-setting-box-narrow"),n.player.template.settingBox.classList.add("dplayer-setting-box-speed")});for(var a=0;a<this.player.template.speedItem.length;a++)!function(e){n.player.template.speedItem[e].addEventListener("click",function(){n.player.speed(n.player.template.speedItem[e].dataset.speed),n.hide()})}(a);if(this.player.danmaku){this.player.on("danmaku_opacity",function(e){n.player.bar.set("danmaku",e,"width"),n.player.user.set("opacity",e)}),this.player.danmaku.opacity(this.player.user.get("opacity"));var o=function(e){var t=e||window.event,i=((t.clientX||t.changedTouches[0].clientX)-s.default.getElementViewLeft(n.player.template.danmakuOpacityBarWrap))/130;i=Math.max(i,0),i=Math.min(i,1),n.player.danmaku.opacity(i)},r=function e(){document.removeEventListener(s.default.nameMap.dragEnd,e),document.removeEventListener(s.default.nameMap.dragMove,o),n.player.template.danmakuOpacityBox.classList.remove("dplayer-setting-danmaku-active")};this.player.template.danmakuOpacityBarWrapWrap.addEventListener("click",function(e){var t=e||window.event,i=((t.clientX||t.changedTouches[0].clientX)-s.default.getElementViewLeft(n.player.template.danmakuOpacityBarWrap))/130;i=Math.max(i,0),i=Math.min(i,1),n.player.danmaku.opacity(i)}),this.player.template.danmakuOpacityBarWrapWrap.addEventListener(s.default.nameMap.dragStart,function(){document.addEventListener(s.default.nameMap.dragMove,o),document.addEventListener(s.default.nameMap.dragEnd,r),n.player.template.danmakuOpacityBox.classList.add("dplayer-setting-danmaku-active")})}}return a(e,[{key:"hide",value:function(){var e=this;this.player.template.settingBox.classList.remove("dplayer-setting-box-open"),this.player.template.mask.classList.remove("dplayer-mask-show"),setTimeout(function(){e.player.template.settingBox.classList.remove("dplayer-setting-box-narrow"),e.player.template.settingBox.classList.remove("dplayer-setting-box-speed")},300),this.player.controller.disableAutoHide=!1}},{key:"show",value:function(){this.player.template.settingBox.classList.add("dplayer-setting-box-open"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.controller.disableAutoHide=!0}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){var n=this;i(this,e),this.player=t,this.player.template.mask.addEventListener("click",function(){n.hide()}),this.player.template.commentButton.addEventListener("click",function(){n.show()}),this.player.template.commentSettingButton.addEventListener("click",function(){n.toggleSetting()}),this.player.template.commentColorSettingBox.addEventListener("click",function(){if(n.player.template.commentColorSettingBox.querySelector("input:checked+span")){var e=n.player.template.commentColorSettingBox.querySelector("input:checked").value;n.player.template.commentSettingFill.style.fill=e,n.player.template.commentInput.style.color=e,n.player.template.commentSendFill.style.fill=e}}),this.player.template.commentInput.addEventListener("click",function(){n.hideSetting()}),this.player.template.commentInput.addEventListener("keydown",function(e){13===(e||window.event).keyCode&&n.send()}),this.player.template.commentSendButton.addEventListener("click",function(){n.send()})}return a(e,[{key:"show",value:function(){this.player.controller.disableAutoHide=!0,this.player.template.controller.classList.add("dplayer-controller-comment"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.container.classList.add("dplayer-show-controller"),this.player.template.commentInput.focus()}},{key:"hide",value:function(){this.player.template.controller.classList.remove("dplayer-controller-comment"),this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.container.classList.remove("dplayer-show-controller"),this.player.controller.disableAutoHide=!1,this.hideSetting()}},{key:"showSetting",value:function(){this.player.template.commentSettingBox.classList.add("dplayer-comment-setting-open")}},{key:"hideSetting",value:function(){this.player.template.commentSettingBox.classList.remove("dplayer-comment-setting-open")}},{key:"toggleSetting",value:function(){this.player.template.commentSettingBox.classList.contains("dplayer-comment-setting-open")?this.hideSetting():this.showSetting()}},{key:"send",value:function(){var e=this;if(this.player.template.commentInput.blur(),!this.player.template.commentInput.value.replace(/^\s+|\s+$/g,""))return void this.player.notice(this.player.tran("Please input danmaku content!"));this.player.danmaku.send({text:this.player.template.commentInput.value,color:this.player.container.querySelector(".dplayer-comment-setting-color input:checked").value,type:this.player.container.querySelector(".dplayer-comment-setting-type input:checked").value},function(){e.player.template.commentInput.value="",e.hide()})}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function e(t){i(this,e),t.options.hotkey&&document.addEventListener("keydown",function(e){if(t.focus){var n=document.activeElement.tagName.toUpperCase(),i=document.activeElement.getAttribute("contenteditable");if("INPUT"!==n&&"TEXTAREA"!==n&&""!==i&&"true"!==i){var a=e||window.event,o=void 0;switch(a.keyCode){case 32:a.preventDefault(),t.toggle();break;case 37:a.preventDefault(),t.seek(t.video.currentTime-5),t.controller.setAutoHide();break;case 39:a.preventDefault(),t.seek(t.video.currentTime+5),t.controller.setAutoHide();break;case 38:a.preventDefault(),o=t.volume()+.1,t.volume(o);break;case 40:a.preventDefault(),o=t.volume()-.1,t.volume(o)}}}}),document.addEventListener("keydown",function(e){switch((e||window.event).keyCode){case 27:t.fullScreen.isFullScreen("web")&&t.fullScreen.cancel("web")}})};t.default=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){var n=this;i(this,e),this.player=t,this.player.container.addEventListener("contextmenu",function(e){var t=e||window.event;t.preventDefault();var i=n.player.container.getBoundingClientRect();n.show(t.clientX-i.left,t.clientY-i.top),n.player.template.mask.addEventListener("click",function(){n.hide()})})}return a(e,[{key:"show",value:function(e,t){this.player.template.menu.classList.add("dplayer-menu-show");var n=this.player.container.getBoundingClientRect();e+this.player.template.menu.offsetWidth>=n.width?(this.player.template.menu.style.right=n.width-e+"px",this.player.template.menu.style.left="initial"):(this.player.template.menu.style.left=e+"px",this.player.template.menu.style.right="initial"),t+this.player.template.menu.offsetHeight>=n.height?(this.player.template.menu.style.bottom=n.height-t+"px",this.player.template.menu.style.top="initial"):(this.player.template.menu.style.top=t+"px",this.player.template.menu.style.bottom="initial"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.events.trigger("contextmenu_show")}},{key:"hide",value:function(){this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.template.menu.classList.remove("dplayer-menu-show"),this.player.events.trigger("contextmenu_hide")}}]),e}();t.default=o}]).default});

},{}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var c = console.log,
    d = document,
    n = navigator,
    w = window;

var categories = exports.categories = function categories() {

  var readyState = setInterval(function () {

    if (d.readyState === 'complete') {

      //Kategoriak ekarri
      var fetchAllCategories = function fetchAllCategories(data, requestFromBGSync) {
        //Beharrezko sekzioak ezkutatu
        d.querySelectorAll('.section').forEach(function (section) {
          section.classList.add('u-hide');
        });
        d.querySelector('.categories').classList.remove('u-hide');
        d.querySelector('.tv').classList.remove('u-hide');

        fetch(data).then(function (response) {
          return response.json();
        }).then(function (json) {

          if (!requestFromBGSync) {
            localStorage.removeItem('category-list');
          }

          localStorage.setItem('localJsonCategories', JSON.stringify(json));

          json.member.forEach(function (jsonCat) {
            tpl += '\n              <li>\n                <a href="#" class="category-id" data-category="' + jsonCat["@id"] + '">\n                \t' + jsonCat.title + '\n                </a>\n              </li>\n              ';
          });

          d.querySelector('.categories__list').innerHTML = tpl;
        }).catch(function (err) {
          return localStorage.setItem('category-list', data);
        });
      };

      //Aplikaziora sartzen denean egin beharrekoa


      clearInterval(readyState);

      var tpl = '';

      //Nabigazio botoia
      d.getElementById("categories-btn").addEventListener('click', function (e) {
        d.querySelector('.off-canvas-menu').classList.toggle('is-open');

        //Kategorian ikonoa (menu off-canvas)
        if (d.querySelector('.nav-icon').classList.contains("is-active")) {
          d.querySelector('.nav-icon').classList.remove('is-active');
        } else {
          d.querySelector('.nav-icon').classList.add('is-active');
        }
      });
      //scape tekla bidez itxi menua
      d.addEventListener('keyup', function (e) {
        if (e.keyCode == 27) {
          d.querySelector('.off-canvas-menu').classList.remove('is-open');
          d.querySelector('.nav-icon').classList.remove('is-active');
        }
      });var data = '//still-castle-99749.herokuapp.com/program-type-list';

      localStorage.setItem('category-list', data);

      fetchAllCategories(data, false);

      //Background Sync (programak)
      if ('serviceWorker' in n && 'SyncManager' in w) {
        var registerBGSync = function registerBGSync() {
          n.serviceWorker.ready.then(function (registration) {
            return registration.sync.register('nahieran-tv-categories').then(function () {
              return c('Atzeko sinkronizazioa erregistratua');
            }).catch(function (err) {
              return c('Errorea atzeko sinkronizazioa erregistratzean', err);
            });
          });
        };

        registerBGSync();
      }
      //Background Sync (programak)
      n.serviceWorker.addEventListener('message', function (e) {
        c('Atzeko sinkronizazioa message bidez: ', e.data);
        if (e.data === 'online nahieran-tv-categories') fetchAllCategories(localStorage.getItem('category-list'), true);
      });
    } //readyState
  }, 100); //interval

  return '\n    <div class="categories off-canvas-menu">\n      <div class="loader"></div>\n      <ul class="categories__list"></ul>\n    </div>\n    ';
};

},{}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var c = console.log,
    d = document,
    n = navigator,
    w = window;

var categoriesSingle = exports.categoriesSingle = function categoriesSingle() {

  var readyState = setInterval(function () {

    if (d.readyState === 'complete') {

      //Kategoria zerrenda ekarri
      var fetchCategory = function fetchCategory(jsonData, requestFromBGSync, catName) {

        var data = jsonData.slice(5),
            tpl = '';

        d.querySelector('.off-canvas-menu').classList.remove('is-open');
        d.querySelector('.nav-icon').classList.remove('is-active');
        //Loader erakutsi
        d.querySelector('.loader-cat').classList.add('loader-show');
        d.querySelector('.loader-template-cat').classList.add('loader-show');
        //Beharrezko sekzioak ezkutatu
        d.querySelectorAll('.section').forEach(function (section) {
          section.classList.add('u-hide');
        });

        //Bideoa martxan badago ere, geratu
        if (d.querySelector(".dplayer-video")) {
          d.querySelector(".dplayer-video").pause();
        }

        fetch(data).then(function (response) {
          return response.json();
        }).then(function (json) {

          if (!requestFromBGSync) {
            localStorage.removeItem('category');
          }

          //Loader ezkutatu
          d.querySelector('.loader-cat').classList.remove('loader-show');
          d.querySelector('.loader-template-cat').classList.remove('loader-show');

          d.querySelector('.single-cat').classList.remove('u-hide');

          json.member.forEach(function (jsonCat) {
            tpl += '\n                <li>\n                  <a href="#" class="program-id" data-program="' + jsonCat["@id"] + '">\n                    ' + jsonCat.title + '\n                    </a>\n                  </li>\n                  ';
          });

          d.querySelector('.single-cat__list').innerHTML = tpl;
          d.querySelector('.single-cat__header').innerHTML = '\n              <div class="tv__title">' + catName + '</div>\n              <span class="tv__number">(' + json.member.length + ')</span> saio erakusten\n              ';
        }).catch(function (err) {
          return console.log(err);
        });
      }; //fetchCategory

      clearInterval(readyState);d.querySelector('.categories__list').addEventListener('click', function (e) {

        e.preventDefault();

        if (e.target.classList.contains('category-id')) {
          var catName = e.target.innerHTML;
          var data = e.target.getAttribute('data-category');

          localStorage.setItem('category', data);
          localStorage.setItem('category-name', catName);

          fetchCategory(data, false, catName);

          //Background Sync (kategoria)
          if ('serviceWorker' in n && 'SyncManager' in w) {
            var registerBGSync = function registerBGSync() {
              n.serviceWorker.ready.then(function (registration) {
                return registration.sync.register('nahieran-category').then(function () {
                  return c('Atzeko sinkronizazioa erregistratua');
                }).catch(function (err) {
                  return c('Errorea atzeko sinkronizazioa erregistratzean', err);
                });
              });
            };

            registerBGSync();
          }
        }
      });
      //Background Sync (kategoria)
      n.serviceWorker.addEventListener('message', function (e) {
        console.log('Atzeko sinkronizazioa message bidez aktibatua: ', e.data);
        if (e.data === 'online nahieran-category') fetchCategory(localStorage.getItem('category'), true, localStorage.getItem('category-name'));
      });
    } //readyState
  }, 100); //interval

  return '\n    <div class="loader-template loader-template-cat">\n    \t<div class="loader loader-cat"></div>\n    </div>\n    <div class="single-cat section u-hide">\n      <header class="section-header tv__header single-cat__header"></header>\n      <ul class="tv__list single-cat__list"></ul>\n    </div>\n    ';
};

},{}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.init = exports.isOnline = exports.pwa = undefined;

var _tv = require('./tv');

var c = console.log,
    d = document,
    n = navigator,
    w = window;

var pwa = exports.pwa = function pwa() {
  //Service Workerra erregistratu
  if ('serviceWorker' in n && n.userAgent.indexOf("Firefox") === -1) {
    //Exkluitu firefox SW erregistrotik
    n.serviceWorker.register('./sw.js').then(function (registration) {
      c('Service Worker erregistratua', registration.scope);
    }).catch(function (err) {
      return c('Registro de Service Worker fallido', err);
    });
  }
};

var isOnline = exports.isOnline = function isOnline() {
  //Konexioaren egoera (online/offline)
  var metaTagTheme = d.querySelector('meta[name=theme-color]');

  function networkStatus(e) {

    if (n.onLine) {
      metaTagTheme.setAttribute('content', '#ffffff');
      d.querySelector(".main-footer__status").classList.remove("offline");
      d.querySelector(".offline").innerHTML = "";
    } else {
      metaTagTheme.setAttribute('content', '#c9c9c9');
      d.querySelector(".main-footer__status").classList.add("offline");
      d.querySelector(".offline").innerHTML = "<div class='text'>Sarea berreskuratzen...</div>";
    }
  }

  w.addEventListener('online', networkStatus);
  w.addEventListener('offline', networkStatus);
};

var init = exports.init = function init() {

  var readyState = setInterval(function () {
    //Aplikazioa/leihoa eguneratu
    if (d.readyState === 'complete') {
      clearInterval(readyState);
      d.getElementById("reload-app").addEventListener('click', function (e) {
        location.reload();
      });
    }
  }, 100);

  return '\n  <header class="main-header">\n    <div class="main-header__cols">\n      <img src="./assets/eitb-logo-blue.svg" alt="Nahieran" class="main-header__logo" id="reload-app">\n      <span class="main-header__slogan">nahieran</span>\n    </div>\n    <div class="main-header__cols right">\n      <div class="nav-icon" id="categories-btn">\n      \t<div class="nav-icon__bar"></div>\n      \t<div class="nav-icon__bar"></div>\n      \t<div class="nav-icon__bar"></div>\n      </div>\n    </div>\n  </header>\n\n  ' + (0, _tv.tv)() + '\n\n  <footer class="main-footer">\n    <div class="main-footer__status"></div>\n    <div class="main-footer__row">\n      <div class="main-footer__col-logo">\n      \t<img src="./assets/eitb-logo-white.svg" alt="eitb nahieran" class="main-footer__logo">\n      \t<div class="main-footer__text">Azken eguneraketa:\n      \t\t<span class="saved-date">' + localStorage.getItem("jsonDate") + '</span>\n      \t</div>\n      </div>\n      <div class="main-footer__col-btn deleteStorage">\n      \t<img src="./assets/reload.svg" alt="Datuak eguneratu" class="main-footer__reload">\n      </div>\n    </div>\n\n    <div class="main-footer__row">\n      <div class="main-footer__powered-by">\n      \tPWA garapena <a onclick="window.location=\'https://twitter.com/asiermusa\'" href="#">@asiermusa</a> |\n      \teitb APIa <a onclick="window.location=\'https://twitter.com/erralin\'" href="#">@erralin</a>\n      </div>\n    </div>\n  </footer>\n  ';
};

},{"./tv":5}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.tv = undefined;

var _categories = require('./categories');

var _tvProgram = require('./tvProgram');

var _tvProgramEpisode = require('./tvProgramEpisode');

var _categoriesSingle = require('./categoriesSingle');

var c = console.log,
    d = document,
    n = navigator,
    w = window;

var filtering = function filtering(ul) {

  d.getElementById('find-programs').addEventListener('keyup', function (e) {

    var json = JSON.parse(localStorage.getItem('localJson')),
        lista = null,
        tpl = '';

    lista = json.member.filter(function (list) {
      return list.title.toLowerCase().includes(e.target.value.toLowerCase());
    });

    lista.forEach(function (json) {
      tpl += '\n      <li>\n        <a href="#" class="program-id" data-program="' + json["@id"] + '">\n        ' + json.title + '\n        </a>\n      </li>\n      ';
    });

    d.querySelector(ul).innerHTML = tpl;
    d.querySelector('.tv__header').innerHTML = '<span class="tv__number">' + lista.length + '</span> saio erakusten';
  });
};

var tv = exports.tv = function tv() {

  var readyState = setInterval(function () {

    if (d.readyState === 'complete') {

      //Programa erakutsi (buklea)
      var getPrograms = function getPrograms(json) {

        var tpl = '';

        JSON.parse(json).member.forEach(function (json) {

          tpl += '\n            <li>\n              <a href="#" class="program-id" data-program="' + json["@id"] + '">\n                ' + json.title + '\n              </a>\n            </li>\n            ';
        });

        d.querySelector('.tv__list').innerHTML = tpl;
        d.querySelector('.tv__header').innerHTML = 'Saio guztiak erakusten <span class="tv__number">(' + JSON.parse(json).member.length + ')</span>';
        //Loader ezkutatu
        d.querySelector('.loader-tv').classList.remove('loader-show');
        d.querySelector('.loader-template-tv').classList.remove('loader-show');
        //Footerrean APIaren eguneraketa data bistaratu
        d.querySelector('.main-footer__text').classList.add('is-cache');
      };

      //Programak ekarri


      var fetchAllPrograms = function fetchAllPrograms(data, requestFromBGSync, reset) {

        var tpl = '';

        //Loader erakutsi
        d.querySelector('.loader-template-tv').classList.add('loader-show');
        d.querySelector('.loader-tv').classList.add('loader-show');
        //Beharrezko sekzioak ezkutatu
        d.querySelectorAll('.section').forEach(function (section) {
          section.classList.add('u-hide');
        });
        d.querySelector('.categories').classList.remove('u-hide');
        d.querySelector('.tv').classList.remove('u-hide');

        //Bideoa martxan badago ere, geratu
        if (d.querySelector(".dplayer-video")) {
          d.querySelector(".dplayer-video").pause();
        }

        //APIa deitu behar bada...
        if (reset) {

          fetch(data).then(function (response) {
            return response.json();
          }).then(function (json) {

            if (!requestFromBGSync) {
              localStorage.removeItem('tv');
            }

            localStorage.setItem('localJson', JSON.stringify(json));

            var savedDate = new Date(),
                date = savedDate.getFullYear() + '/' + ('0' + (savedDate.getMonth() + 1)).slice(-2) + '/' + ('0' + savedDate.getDate()).slice(-2) + ' - ',
                time = ('0' + savedDate.getHours()).slice(-2) + ":" + ('0' + savedDate.getMinutes()).slice(-2),
                dateTime = date + ' ' + time;

            localStorage.setItem("jsonDate", dateTime);
            d.querySelector('.saved-date').innerHTML = localStorage.getItem("jsonDate");

            getPrograms(localStorage.getItem('localJson'));

            //Notifikazio bidez ohartarazi
            if (w.Notification && Notification.permission !== 'denied') {
              Notification.requestPermission(function (status) {
                console.log(status);
                var n = new Notification('Nahieran', {
                  body: 'Programa zerrenda eguneratu da :)',
                  icon: './assets/favicon.png'
                });
              });
            }
          }).catch(function (err) {
            localStorage.setItem('tv', data);
          });

          //Programak local-ean gordeta badago
        } else {
          getPrograms(data);
        }
      }; //fetchAllPrograms

      //Filtroa egin


      clearInterval(readyState);filtering('.tv__list');

      //Gordetako APIa ezabatu eta berria ekartzeko - EZABATU
      d.querySelector('.deleteStorage').addEventListener('click', function (e) {

        e.preventDefault();
        if (confirm('Programa zerrenda eguneratu nahi al duzu?') == true) {
          localStorage.removeItem('localJson');
          localStorage.removeItem('jsonDate');

          var reset = true,
              data = '//still-castle-99749.herokuapp.com/playlist';

          localStorage.setItem('tv', data);

          fetchAllPrograms(data, false, reset);

          //Background Sync (programak)
          if ('serviceWorker' in n && 'SyncManager' in w) {
            var registerBGSync = function registerBGSync() {
              n.serviceWorker.ready.then(function (registration) {
                return registration.sync.register('nahieran-tv').then(function () {
                  return c('Atzeko sinkronizazioa erregistratua');
                }).catch(function (err) {
                  return c('Errorea atzeko sinkronizazioa erregistratzean', err);
                });
              });
            };

            registerBGSync();
          }
        }
      });

      //Aplikaziora sartzen denean egin beharrekoa (APIa deitu edo ez)
      if (localStorage.getItem('localJson')) {
        fetchAllPrograms(localStorage.getItem('localJson'), false, false);
      } else {
        var reset = true,
            data = '//still-castle-99749.herokuapp.com/playlist';

        localStorage.setItem('tv', data);

        fetchAllPrograms(data, false, reset);

        //Background Sync (programak)
        if ('serviceWorker' in n && 'SyncManager' in w) {
          var registerBGSync = function registerBGSync() {
            n.serviceWorker.ready.then(function (registration) {
              return registration.sync.register('nahieran-tv').then(function () {
                return c('Atzeko sinkronizazioa erregistratua');
              }).catch(function (err) {
                return c('Errorea atzeko sinkronizazioa erregistratzean', err);
              });
            });
          };

          registerBGSync();
        }
      }
      //Background Sync (programak)
      n.serviceWorker.addEventListener('message', function (e) {
        c('Atzeko sinkronizazioa message bidez: ', e.data);
        if (e.data === 'online nahieran-tv') fetchAllPrograms(localStorage.getItem('tv'), true, false);
      });
    } //readyState
  }, 100); //interval

  return '\n    ' + (0, _categories.categories)() + '\n    <div class="tv section">\n      <div class="tv__form">\n        <input type="text" id="find-programs" class="tv__input" placeholder="eitbko saioen artean bilatu..." title="Saioak bilatu">\n      </div>\n      <header class="section-header tv__header"></header>\n      <ul class="tv__list"></ul>\n      <div class="loader-template loader-template-tv">\n        <div class="loader loader-tv"></div>\n      </div>\n    </div>\n    ' + (0, _tvProgram.selectProgram)() + '\n    ' + (0, _tvProgramEpisode.selectEpisode)() + '\n    ' + (0, _categoriesSingle.categoriesSingle)() + '\n    ';
};

},{"./categories":2,"./categoriesSingle":3,"./tvProgram":6,"./tvProgramEpisode":7}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var c = console.log,
    d = document,
    n = navigator,
    w = window;

var selectProgram = exports.selectProgram = function selectProgram() {

  var readyState = setInterval(function () {

    if (d.readyState === 'complete') {

      //Programa ekarri (zerrenda)
      var fetchProgram = function fetchProgram(jsonData, requestFromBGSync) {

        var data = jsonData.slice(5),
            tpl = '',
            date = '';

        //Beharrezko sekzioak ezkutatu
        d.querySelectorAll('.section').forEach(function (section) {
          section.classList.add('u-hide');
        });

        //Loader erakutsi
        d.querySelector('.loader-program').classList.add('loader-show');
        d.querySelector('.loader-template-program').classList.add('loader-show');

        //Bideoa martxan badago ere, geratu
        if (d.querySelector(".dplayer-video")) {
          d.querySelector(".dplayer-video").pause();
        }

        fetch(data).then(function (response) {
          return response.json();
        }).then(function (json) {

          if (!requestFromBGSync) {
            localStorage.removeItem('tv-program');
          }

          d.querySelector('.program').classList.remove('u-hide');
          //Loader ezkutatu
          d.querySelector('.loader-program').classList.remove('loader-show');
          d.querySelector('.loader-template-program').classList.remove('loader-show');

          json.member.forEach(function (json) {
            if (json.broadcast_date) {
              date = json.broadcast_date.slice(0, 10);
            }
            tpl += '\n                <li class="custom-episode" data-episode="' + json["@id"] + '">\n      \t\t\t\t\t  <div class="program__image">\n                    <img src="' + json.episode_image.slice(5) + '" class="program__img custom-episode" data-episode="' + json["@id"] + '">\n                  </div>\n\n                  <div class="program__content custom-episode" data-episode="' + json["@id"] + '">\n                    ' + json.title + '\n                  <div class="program__date">' + date + '</div>\n                  </div>\n                </li>\n                ';
          });

          d.querySelector('.program__list').innerHTML = tpl;
          d.querySelector('.program__header').innerHTML = '\n          \t\t<div class="program__title">' + json.name + '</div>\n              <div class="program__desc">' + json.desc_group + '</div>\n              ';
        }).catch(function (err) {
          return console.log(err);
        });
      };

      //Programa ekarri (click ebentua)


      clearInterval(readyState);d.getElementById("app").addEventListener('click', function (e) {

        e.preventDefault();
        if (e.target.classList.contains('program-id')) {

          var data = e.target.getAttribute('data-program');

          localStorage.setItem('tv-program', data);

          fetchProgram(data, false);

          //Background Sync (programak)
          if ('serviceWorker' in n && 'SyncManager' in w) {
            var registerBGSync = function registerBGSync() {
              n.serviceWorker.ready.then(function (registration) {
                return registration.sync.register('nahieran-tv-program').then(function () {
                  return c('Atzeko sinkronizazioa erregistratua');
                }).catch(function (err) {
                  return c('Errorea atzeko sinkronizazioa erregistratzean', err);
                });
              });
            };

            registerBGSync();
          }
        }
      });
      //Background Sync (programak)
      n.serviceWorker.addEventListener('message', function (e) {
        console.log('Atzeko sinkronizazioa message bidez aktibatua: ', e.data);
        if (e.data === 'online nahieran-tv-program') fetchProgram(localStorage.getItem('tv-program'), true);
      });
    } //readyState
  }, 100); //interval

  return '\n    <div class="loader-template loader-template-program">\n  \t  <div class="loader loader-program"></div>\n    </div>\n    <div class="program section u-hide">\n  \t  <header class="section-header program__header"></header>\n      <ul class="program__list"></ul>\n    </div>\n    ';
};

},{}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.selectEpisode = undefined;

var _DPlayer = require('DPlayer');

var _DPlayer2 = _interopRequireDefault(_DPlayer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var c = console.log,
    d = document,
    n = navigator,
    w = window;

var selectEpisode = exports.selectEpisode = function selectEpisode() {

  var readyState = setInterval(function () {

    if (d.readyState === 'complete') {

      //episode kargatu
      var fetchEpisode = function fetchEpisode(jsonData, requestFromBGSync) {

        var data = jsonData.slice(5);

        //Loader erakutsi
        d.querySelector('.loader-episode').classList.add('loader-show');
        d.querySelector('.loader-template-episode').classList.add('loader-show');

        //Beharrezko sekzioak ezkutatu
        d.querySelectorAll('.section').forEach(function (section) {
          section.classList.add('u-hide');
        });

        //APIa deitu (episode)
        fetch(data).then(function (response) {
          return response.json();
        }).then(function (json) {

          var dp = "";

          d.querySelector('.episode').classList.remove('u-hide');

          if (!requestFromBGSync) {
            localStorage.removeItem('tv-program-episode');
          }

          //Loader ezkutatu
          d.querySelector('.loader-episode').classList.remove('loader-show');
          d.querySelector('.loader-template-episode').classList.remove('loader-show');

          var urlEnd = json.url.slice(-3);

          if (urlEnd === 'mp4') {
            urlEnd = json.url;
          } else {
            urlEnd = json.formats[7].url;
          }

          if (d.getElementById('dplayer')) {
            dp = new _DPlayer2.default({
              container: d.getElementById('dplayer'),
              autoplay: false,
              theme: '#008cd0',
              preload: 'metadata',
              video: {
                url: urlEnd
              }
            });
          }

          //Bideoaren src kodea aldatu (https bidez funtzionatzeko)
          d.querySelector(".dplayer-video").setAttribute("src", urlEnd.slice(5));

          d.querySelector('.episode__error').classList.remove('show');

          d.querySelector('.episode__header').innerHTML = '\n              <div class="episode__title">' + json.title + '</div>\n              <div class="episode__desc">' + json.description + '</div>\n              ';
        }).catch(function (err) {
          localStorage.setItem('tv-program-episode', jsonData);
          d.querySelector('.episode__error').innerHTML = 'Konexioak huts egin du';
          d.querySelector('.episode__error').classList.add('show');
        });
      }; //fetchEpisode

      //Programa zerrendatik episode ekarri (click)


      clearInterval(readyState);

      //Atzera joan (programetara)
      d.getElementById('episode__back').addEventListener('click', function (e) {
        //Beharrezko sekzioak ezkutatu
        d.querySelectorAll('.section').forEach(function (section) {
          section.classList.add('u-hide');
        });
        d.querySelector('.program').classList.remove('u-hide');

        //Bideoa martxan badago ere, geratu
        if (d.querySelector(".dplayer-video")) {
          d.querySelector(".dplayer-video").pause();
        }
      });d.querySelector('.program__list').addEventListener('click', function (e) {
        e.preventDefault();

        if (e.target.classList.contains('custom-episode')) {

          var data = e.target.getAttribute('data-episode');

          localStorage.setItem('tv-program-episode', data);
          fetchEpisode(data, false);

          //Background Sync (episode)
          if ('serviceWorker' in n && 'SyncManager' in w) {
            var registerBGSync = function registerBGSync() {
              n.serviceWorker.ready.then(function (registration) {
                return registration.sync.register('nahieran-tv-program-episode').then(function () {
                  return c('Atzeko sinkronizazioa erregistratua');
                }).catch(function (err) {
                  return c('Errorea atzeko sinkronizazioa erregistratzean', err);
                });
              });
            };

            registerBGSync();
          }
        }
      });
      //Background Sync (episode)
      n.serviceWorker.addEventListener('message', function (e) {
        c('Atzeko sinkronizazioa message bidez: ', e.data);
        if (e.data === 'online nahieran-tv-program-episode' || e.data === 'online test-tag-from-devtools') fetchEpisode(localStorage.getItem('tv-program-episode'), true);
      });
    } //readyState
  }, 100); //interval

  return '\n    <div class="loader-template loader-template-episode">\n      <div class="loader loader-episode"></div>\n    </div>\n\n    <div class="episode section u-hide">\n      <header class="section-header episode__header"></header>\n      <div class="episode__play">\n        <div id="dplayer"></div>\n      </div>\n      <div class="episode__error"></div>\n      <div class="episode__nav"><a href="#" id="episode__back">< Atzera</a></div>\n    </div>\n    ';
};

},{"DPlayer":1}],8:[function(require,module,exports){
'use strict';

var _init = require('./components/init');

document.getElementById('app').innerHTML = (0, _init.init)();

//Aplikzioa web progresiboa erregistratu
(0, _init.pwa)();
//Online/ffline gauden zehaztu
(0, _init.isOnline)();

},{"./components/init":4}]},{},[8])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvRFBsYXllci9kaXN0L0RQbGF5ZXIubWluLmpzIiwic3JjL2pzL2NvbXBvbmVudHMvY2F0ZWdvcmllcy5qcyIsInNyYy9qcy9jb21wb25lbnRzL2NhdGVnb3JpZXNTaW5nbGUuanMiLCJzcmMvanMvY29tcG9uZW50cy9pbml0LmpzIiwic3JjL2pzL2NvbXBvbmVudHMvdHYuanMiLCJzcmMvanMvY29tcG9uZW50cy90dlByb2dyYW0uanMiLCJzcmMvanMvY29tcG9uZW50cy90dlByb2dyYW1FcGlzb2RlLmpzIiwic3JjL2pzL3NjcmlwdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7Ozs7Ozs7QUNEQSxJQUFNLElBQUksUUFBUSxHQUFsQjtBQUFBLElBQ0UsSUFBSSxRQUROO0FBQUEsSUFFRSxJQUFJLFNBRk47QUFBQSxJQUdFLElBQUksTUFITjs7QUFLTyxJQUFNLGtDQUFhLFNBQWIsVUFBYSxHQUFNOztBQUU5QixNQUFNLGFBQWEsWUFBWSxZQUFNOztBQUVuQyxRQUFLLEVBQUUsVUFBRixLQUFrQixVQUF2QixFQUFvQzs7QUF5QmxDO0FBekJrQyxVQTBCekIsa0JBMUJ5QixHQTBCbEMsU0FBUyxrQkFBVCxDQUE0QixJQUE1QixFQUFrQyxpQkFBbEMsRUFBcUQ7QUFDbkQ7QUFDQSxVQUFFLGdCQUFGLENBQW1CLFVBQW5CLEVBQStCLE9BQS9CLENBQXdDLG1CQUFXO0FBQ2pELGtCQUFRLFNBQVIsQ0FBa0IsR0FBbEIsQ0FBc0IsUUFBdEI7QUFDRCxTQUZEO0FBR0EsVUFBRSxhQUFGLENBQWdCLGFBQWhCLEVBQStCLFNBQS9CLENBQXlDLE1BQXpDLENBQWdELFFBQWhEO0FBQ0EsVUFBRSxhQUFGLENBQWdCLEtBQWhCLEVBQXVCLFNBQXZCLENBQWlDLE1BQWpDLENBQXdDLFFBQXhDOztBQUVBLGNBQU0sSUFBTixFQUNHLElBREgsQ0FD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QUEyQyxJQUEzQztBQUNBLHVCQUFhLElBQWIsRUFBbUIsS0FBbkI7O0FBRUE7QUFDQSxjQUFLLG1CQUFtQixDQUFuQixJQUF3QixpQkFBaUIsQ0FBOUMsRUFBa0Q7QUFBQSxnQkFDdkMsY0FEdUMsR0FDaEQsU0FBUyxjQUFULEdBQTJCO0FBQ3pCLGdCQUFFLGFBQUYsQ0FBZ0IsS0FBaEIsQ0FDQyxJQURELENBQ00sd0JBQWdCO0FBQ3BCLHVCQUFPLGFBQWEsSUFBYixDQUFrQixRQUFsQixDQUEyQiw2QkFBM0IsRUFDSixJQURJLENBQ0U7QUFBQSx5QkFBTSxFQUFFLHFDQUFGLENBQU47QUFBQSxpQkFERixFQUVKLEtBRkksQ0FFRztBQUFBLHlCQUFPLEVBQUUsK0NBQUYsRUFBbUQsR0FBbkQsQ0FBUDtBQUFBLGlCQUZILENBQVA7QUFHRCxlQUxEO0FBTUQsYUFSK0M7O0FBU2hEO0FBQ0Q7QUFDRjtBQUNGLE9BdkJEO0FBd0JBO0FBQ0EsUUFBRSxhQUFGLENBQWdCLGdCQUFoQixDQUFpQyxTQUFqQyxFQUE0QyxhQUFLO0FBQy9DLFVBQUUsdUNBQUYsRUFBMkMsRUFBRSxJQUE3QztBQUNBLFlBQUksRUFBRSxJQUFGLEtBQVcsb0NBQVgsSUFBbUQsRUFBRSxJQUFGLEtBQVcsK0JBQWxFLEVBQ0UsYUFBYSxhQUFhLE9BQWIsQ0FBcUIsb0JBQXJCLENBQWIsRUFBeUQsSUFBekQ7QUFDSCxPQUpEO0FBTUQsS0ExSGtDLENBMEhqQztBQUNILEdBM0hrQixFQTJIaEIsR0EzSGdCLENBQW5CLENBRmlDLENBNkh6Qjs7QUFFUjtBQWNELENBN0lNOzs7OztBQ1BQOztBQUVBLFNBQVMsY0FBVCxDQUF3QixLQUF4QixFQUErQixTQUEvQixHQUEyQyxpQkFBM0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJEUGxheWVyXCIsW10sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5EUGxheWVyPXQoKTplLkRQbGF5ZXI9dCgpfShcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChpKXtpZihuW2ldKXJldHVybiBuW2ldLmV4cG9ydHM7dmFyIGE9bltpXT17aTppLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbaV0uY2FsbChhLmV4cG9ydHMsYSxhLmV4cG9ydHMsdCksYS5sPSEwLGEuZXhwb3J0c312YXIgbj17fTtyZXR1cm4gdC5tPWUsdC5jPW4sdC5kPWZ1bmN0aW9uKGUsbixpKXt0Lm8oZSxuKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0Oml9KX0sdC5uPWZ1bmN0aW9uKGUpe3ZhciBuPWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiB0LmQobixcImFcIixuKSxufSx0Lm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LHQucD1cIi9cIix0KHQucz0xKX0oW2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT0vbW9iaWxlL2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCksYT17c2Vjb25kVG9UaW1lOmZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe3JldHVybiBlPDEwP1wiMFwiK2U6XCJcIitlfSxuPXBhcnNlSW50KGUvNjApLGk9cGFyc2VJbnQoZS02MCpuKTtyZXR1cm4gdChuKStcIjpcIit0KGkpfSxnZXRFbGVtZW50Vmlld0xlZnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vZmZzZXRMZWZ0LG49ZS5vZmZzZXRQYXJlbnQsaT1kb2N1bWVudC5ib2R5LnNjcm9sbExlZnQrZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7aWYoZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnR8fGRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50fHxkb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudClmb3IoO251bGwhPT1uJiZuIT09ZTspdCs9bi5vZmZzZXRMZWZ0LG49bi5vZmZzZXRQYXJlbnQ7ZWxzZSBmb3IoO251bGwhPT1uOyl0Kz1uLm9mZnNldExlZnQsbj1uLm9mZnNldFBhcmVudDtyZXR1cm4gdC1pfSxnZXRTY3JvbGxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybntsZWZ0OndpbmRvdy5wYWdlWE9mZnNldHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnR8fGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdHx8MCx0b3A6d2luZG93LnBhZ2VZT2Zmc2V0fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfHxkb2N1bWVudC5ib2R5LnNjcm9sbFRvcHx8MH19LHNldFNjcm9sbFBvc2l0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PWUubGVmdCxuPXZvaWQgMD09PXQ/MDp0LGk9ZS50b3AsYT12b2lkIDA9PT1pPzA6aTt0aGlzLmlzRmlyZWZveD8oZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ9bixkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wPWEpOndpbmRvdy5zY3JvbGxUbyhuLGEpfSxpc01vYmlsZTppLGlzRmlyZWZveDovZmlyZWZveC9pLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpLGlzQ2hyb21lOi9jaHJvbWUvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSxzdG9yYWdlOntzZXQ6ZnVuY3Rpb24oZSx0KXtsb2NhbFN0b3JhZ2Uuc2V0SXRlbShlLHQpfSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGUpfX0sY3VtdWxhdGl2ZU9mZnNldDpmdW5jdGlvbihlKXt2YXIgdD0wLG49MDtkb3t0Kz1lLm9mZnNldFRvcHx8MCxuKz1lLm9mZnNldExlZnR8fDAsZT1lLm9mZnNldFBhcmVudH13aGlsZShlKTtyZXR1cm57dG9wOnQsbGVmdDpufX0sbmFtZU1hcDp7ZHJhZ1N0YXJ0Omk/XCJ0b3VjaHN0YXJ0XCI6XCJtb3VzZWRvd25cIixkcmFnTW92ZTppP1widG91Y2htb3ZlXCI6XCJtb3VzZW1vdmVcIixkcmFnRW5kOmk/XCJ0b3VjaGVuZFwiOlwibW91c2V1cFwifX07dC5kZWZhdWx0PWF9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuKDIpO3ZhciBpPW4oMyksYT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KGkpO2NvbnNvbGUubG9nKFwiXFxuICVjIERQbGF5ZXIgMS4yMS4wIDhlNjlhZGEgJWMgaHR0cDovL2RwbGF5ZXIuanMub3JnIFxcblxcblwiLFwiY29sb3I6ICNmYWRmYTM7IGJhY2tncm91bmQ6ICMwMzAzMDc7IHBhZGRpbmc6NXB4IDA7XCIsXCJiYWNrZ3JvdW5kOiAjZmFkZmEzOyBwYWRkaW5nOjVweCAwO1wiKSx0LmRlZmF1bHQ9YS5kZWZhdWx0fSxmdW5jdGlvbihlLHQpe30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGEoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscz1uKDQpLHI9aShzKSxsPW4oMCksYz1pKGwpLHU9big5KSxkPWkodSkscD1uKDEyKSxoPWkocCkseT1uKDEzKSxtPWkoeSksZj1uKDE0KSx2PWkoZiksZz1uKDE1KSxiPWkoZyksaz1uKDE2KSx3PWkoayksUz1uKDE3KSxUPWkoUyksTD1uKDE4KSx4PWkoTCksTT1uKDE5KSxfPWkoTSksRT1uKDIwKSxxPWkoRSksQj1uKDIxKSxQPWkoQiksTz1uKDIyKSxqPWkoTyksQz1uKDIzKSx6PWkoQyksRj1uKDI1KSxJPWkoRiksVz1uKDI2KSxEPWkoVyksSD1uKDI3KSxBPWkoSCksUj1uKDI4KSxWPWkoUiksTj0wLFg9W10sUT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49dGhpczthKHRoaXMsZSksdGhpcy5vcHRpb25zPSgwLGQuZGVmYXVsdCkodCksdGhpcy5vcHRpb25zLnZpZGVvLnF1YWxpdHkmJih0aGlzLnF1YWxpdHlJbmRleD10aGlzLm9wdGlvbnMudmlkZW8uZGVmYXVsdFF1YWxpdHksdGhpcy5xdWFsaXR5PXRoaXMub3B0aW9ucy52aWRlby5xdWFsaXR5W3RoaXMub3B0aW9ucy52aWRlby5kZWZhdWx0UXVhbGl0eV0pLHRoaXMudHJhbj1uZXcgaC5kZWZhdWx0KHRoaXMub3B0aW9ucy5sYW5nKS50cmFuLHRoaXMuaWNvbnM9bmV3IHYuZGVmYXVsdCh0aGlzLm9wdGlvbnMpLHRoaXMuZXZlbnRzPW5ldyB3LmRlZmF1bHQsdGhpcy51c2VyPW5ldyB4LmRlZmF1bHQodGhpcyksdGhpcy5jb250YWluZXI9dGhpcy5vcHRpb25zLmNvbnRhaW5lcix0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZHBsYXllclwiKSx0aGlzLm9wdGlvbnMuZGFubWFrdXx8dGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItbm8tZGFubWFrdVwiKSx0aGlzLm9wdGlvbnMubGl2ZSYmdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItbGl2ZVwiKSxjLmRlZmF1bHQuaXNNb2JpbGUmJnRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLW1vYmlsZVwiKSx0aGlzLmFycm93PXRoaXMuY29udGFpbmVyLm9mZnNldFdpZHRoPD01MDAsdGhpcy5hcnJvdyYmdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItYXJyb3dcIiksdGhpcy50ZW1wbGF0ZT1uZXcgbS5kZWZhdWx0KHtjb250YWluZXI6dGhpcy5jb250YWluZXIsb3B0aW9uczp0aGlzLm9wdGlvbnMsaW5kZXg6Tix0cmFuOnRoaXMudHJhbixpY29uczp0aGlzLmljb25zfSksdGhpcy52aWRlbz10aGlzLnRlbXBsYXRlLnZpZGVvLHRoaXMuYmFyPW5ldyBxLmRlZmF1bHQodGhpcy50ZW1wbGF0ZSksdGhpcy5iZXplbD1uZXcgai5kZWZhdWx0KHRoaXMudGVtcGxhdGUuYmV6ZWwpLHRoaXMuZnVsbFNjcmVlbj1uZXcgVC5kZWZhdWx0KHRoaXMpLHRoaXMuY29udHJvbGxlcj1uZXcgei5kZWZhdWx0KHRoaXMpLHRoaXMub3B0aW9ucy5kYW5tYWt1JiYodGhpcy5kYW5tYWt1PW5ldyBiLmRlZmF1bHQoe2NvbnRhaW5lcjp0aGlzLnRlbXBsYXRlLmRhbm1ha3Usb3BhY2l0eTp0aGlzLnVzZXIuZ2V0KFwib3BhY2l0eVwiKSxjYWxsYmFjazpmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtuLnRlbXBsYXRlLmRhbm1ha3VMb2FkaW5nLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsbi5vcHRpb25zLmF1dG9wbGF5P24ucGxheSgpOmMuZGVmYXVsdC5pc01vYmlsZSYmbi5wYXVzZSgpfSwwKX0sZXJyb3I6ZnVuY3Rpb24oZSl7bi5ub3RpY2UoZSl9LGFwaUJhY2tlbmQ6dGhpcy5vcHRpb25zLmFwaUJhY2tlbmQsYm9yZGVyQ29sb3I6dGhpcy5vcHRpb25zLnRoZW1lLGhlaWdodDp0aGlzLmFycm93PzI0OjMwLHRpbWU6ZnVuY3Rpb24oKXtyZXR1cm4gbi52aWRlby5jdXJyZW50VGltZX0sdW5saW1pdGVkOnRoaXMudXNlci5nZXQoXCJ1bmxpbWl0ZWRcIiksYXBpOntpZDp0aGlzLm9wdGlvbnMuZGFubWFrdS5pZCxhZGRyZXNzOnRoaXMub3B0aW9ucy5kYW5tYWt1LmFwaSx0b2tlbjp0aGlzLm9wdGlvbnMuZGFubWFrdS50b2tlbixtYXhpbXVtOnRoaXMub3B0aW9ucy5kYW5tYWt1Lm1heGltdW0sYWRkaXRpb246dGhpcy5vcHRpb25zLmRhbm1ha3UuYWRkaXRpb24sdXNlcjp0aGlzLm9wdGlvbnMuZGFubWFrdS51c2VyfSxldmVudHM6dGhpcy5ldmVudHN9KSx0aGlzLmNvbW1lbnQ9bmV3IEQuZGVmYXVsdCh0aGlzKSksdGhpcy5zZXR0aW5nPW5ldyBJLmRlZmF1bHQodGhpcyksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtuLmZvY3VzPSExfSwhMCksdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtuLmZvY3VzPSEwfSwhMCksdGhpcy5wYXVzZWQ9ITAsdGhpcy50aW1lPW5ldyBQLmRlZmF1bHQodGhpcyksdGhpcy5ob3RrZXk9bmV3IEEuZGVmYXVsdCh0aGlzKSx0aGlzLmNvbnRleHRtZW51PW5ldyBWLmRlZmF1bHQodGhpcyksdGhpcy5pbml0VmlkZW8odGhpcy52aWRlbyx0aGlzLnF1YWxpdHkmJnRoaXMucXVhbGl0eS50eXBlfHx0aGlzLm9wdGlvbnMudmlkZW8udHlwZSksIXRoaXMuZGFubWFrdSYmdGhpcy5vcHRpb25zLmF1dG9wbGF5JiZ0aGlzLnBsYXkoKSxOKyssWC5wdXNoKHRoaXMpfXJldHVybiBvKGUsW3trZXk6XCJzZWVrXCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZT1NYXRoLm1heChlLDApLHRoaXMudmlkZW8uZHVyYXRpb24mJihlPU1hdGgubWluKGUsdGhpcy52aWRlby5kdXJhdGlvbikpLHRoaXMudmlkZW8uY3VycmVudFRpbWU8ZT90aGlzLm5vdGljZSh0aGlzLnRyYW4oXCJGRlwiKStcIiBcIisoZS10aGlzLnZpZGVvLmN1cnJlbnRUaW1lKS50b0ZpeGVkKDApK1wiIFwiK3RoaXMudHJhbihcInNcIikpOnRoaXMudmlkZW8uY3VycmVudFRpbWU+ZSYmdGhpcy5ub3RpY2UodGhpcy50cmFuKFwiUkVXXCIpK1wiIFwiKyh0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLWUpLnRvRml4ZWQoMCkrXCIgXCIrdGhpcy50cmFuKFwic1wiKSksdGhpcy52aWRlby5jdXJyZW50VGltZT1lLHRoaXMuZGFubWFrdSYmdGhpcy5kYW5tYWt1LnNlZWsoKSx0aGlzLmJhci5zZXQoXCJwbGF5ZWRcIixlL3RoaXMudmlkZW8uZHVyYXRpb24sXCJ3aWR0aFwiKX19LHtrZXk6XCJwbGF5XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMucGF1c2VkPSExLHRoaXMudmlkZW8ucGF1c2VkJiZ0aGlzLmJlemVsLnN3aXRjaCh0aGlzLmljb25zLmdldChcInBsYXlcIikpLHRoaXMudGVtcGxhdGUucGxheUJ1dHRvbi5pbm5lckhUTUw9dGhpcy5pY29ucy5nZXQoXCJwYXVzZVwiKSxyLmRlZmF1bHQucmVzb2x2ZSh0aGlzLnZpZGVvLnBsYXkoKSkuY2F0Y2goZnVuY3Rpb24oKXtlLnBhdXNlKCl9KS50aGVuKGZ1bmN0aW9uKCl7fSksdGhpcy50aW1lLmVuYWJsZSgpLHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLXBsYXlpbmdcIiksdGhpcy5kYW5tYWt1JiZ0aGlzLmRhbm1ha3UucGxheSgpLHRoaXMub3B0aW9ucy5tdXRleClmb3IodmFyIHQ9MDt0PFgubGVuZ3RoO3QrKyl0aGlzIT09WFt0XSYmWFt0XS5wYXVzZSgpfX0se2tleTpcInBhdXNlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBhdXNlZD0hMCx0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiZHBsYXllci1sb2FkaW5nXCIpLHRoaXMudmlkZW8ucGF1c2VkfHx0aGlzLmJlemVsLnN3aXRjaCh0aGlzLmljb25zLmdldChcInBhdXNlXCIpKSx0aGlzLmVuZGVkPSExLHRoaXMudGVtcGxhdGUucGxheUJ1dHRvbi5pbm5lckhUTUw9dGhpcy5pY29ucy5nZXQoXCJwbGF5XCIpLHRoaXMudmlkZW8ucGF1c2UoKSx0aGlzLnRpbWUuZGlzYWJsZSgpLHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJkcGxheWVyLXBsYXlpbmdcIiksdGhpcy5kYW5tYWt1JiZ0aGlzLmRhbm1ha3UucGF1c2UoKX19LHtrZXk6XCJzd2l0Y2hWb2x1bWVJY29uXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnZvbHVtZSgpPj0uOTU/dGhpcy50ZW1wbGF0ZS52b2x1bWVJY29uLmlubmVySFRNTD10aGlzLmljb25zLmdldChcInZvbHVtZS11cFwiKTp0aGlzLnZvbHVtZSgpPjA/dGhpcy50ZW1wbGF0ZS52b2x1bWVJY29uLmlubmVySFRNTD10aGlzLmljb25zLmdldChcInZvbHVtZS1kb3duXCIpOnRoaXMudGVtcGxhdGUudm9sdW1lSWNvbi5pbm5lckhUTUw9dGhpcy5pY29ucy5nZXQoXCJ2b2x1bWUtb2ZmXCIpfX0se2tleTpcInZvbHVtZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXtpZihlPXBhcnNlRmxvYXQoZSksIWlzTmFOKGUpKXtlPU1hdGgubWF4KGUsMCksZT1NYXRoLm1pbihlLDEpLHRoaXMuYmFyLnNldChcInZvbHVtZVwiLGUsXCJ3aWR0aFwiKTt2YXIgaT0oMTAwKmUpLnRvRml4ZWQoMCkrXCIlXCI7dGhpcy50ZW1wbGF0ZS52b2x1bWVCYXJXcmFwV3JhcC5kYXRhc2V0LmJhbGxvb249aSx0fHx0aGlzLnVzZXIuc2V0KFwidm9sdW1lXCIsZSksbnx8dGhpcy5ub3RpY2UodGhpcy50cmFuKFwiVm9sdW1lXCIpK1wiIFwiKygxMDAqZSkudG9GaXhlZCgwKStcIiVcIiksdGhpcy52aWRlby52b2x1bWU9ZSx0aGlzLnZpZGVvLm11dGVkJiYodGhpcy52aWRlby5tdXRlZD0hMSksdGhpcy5zd2l0Y2hWb2x1bWVJY29uKCl9cmV0dXJuIHRoaXMudmlkZW8udm9sdW1lfX0se2tleTpcInRvZ2dsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy52aWRlby5wYXVzZWQ/dGhpcy5wbGF5KCk6dGhpcy5wYXVzZSgpfX0se2tleTpcIm9uXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLmV2ZW50cy5vbihlLHQpfX0se2tleTpcInN3aXRjaFZpZGVvXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLnBhdXNlKCksdGhpcy52aWRlby5wb3N0ZXI9ZS5waWM/ZS5waWM6XCJcIix0aGlzLnZpZGVvLnNyYz1lLnVybCx0aGlzLmluaXRNU0UodGhpcy52aWRlbyxlLnR5cGV8fFwiYXV0b1wiKSx0JiYodGhpcy50ZW1wbGF0ZS5kYW5tYWt1TG9hZGluZy5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0aGlzLmJhci5zZXQoXCJwbGF5ZWRcIiwwLFwid2lkdGhcIiksdGhpcy5iYXIuc2V0KFwibG9hZGVkXCIsMCxcIndpZHRoXCIpLHRoaXMudGVtcGxhdGUucHRpbWUuaW5uZXJIVE1MPVwiMDA6MDBcIix0aGlzLnRlbXBsYXRlLmRhbm1ha3UuaW5uZXJIVE1MPVwiXCIsdGhpcy5kYW5tYWt1JiZ0aGlzLmRhbm1ha3UucmVsb2FkKHtpZDp0LmlkLGFkZHJlc3M6dC5hcGksdG9rZW46dC50b2tlbixtYXhpbXVtOnQubWF4aW11bSxhZGRpdGlvbjp0LmFkZGl0aW9uLHVzZXI6dC51c2VyfSkpfX0se2tleTpcImluaXRNU0VcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7aWYodGhpcy50eXBlPXQsdGhpcy5vcHRpb25zLnZpZGVvLmN1c3RvbVR5cGUmJnRoaXMub3B0aW9ucy52aWRlby5jdXN0b21UeXBlW3RdKVwiW29iamVjdCBGdW5jdGlvbl1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0aGlzLm9wdGlvbnMudmlkZW8uY3VzdG9tVHlwZVt0XSk/dGhpcy5vcHRpb25zLnZpZGVvLmN1c3RvbVR5cGVbdF0odGhpcy52aWRlbyx0aGlzKTpjb25zb2xlLmVycm9yKFwiSWxsZWdhbCBjdXN0b21UeXBlOiBcIit0KTtlbHNlIHN3aXRjaChcImF1dG9cIj09PXRoaXMudHlwZSYmKC9tM3U4KCN8XFw/fCQpL2kuZXhlYyhlLnNyYyk/dGhpcy50eXBlPVwiaGxzXCI6Ly5mbHYoI3xcXD98JCkvaS5leGVjKGUuc3JjKT90aGlzLnR5cGU9XCJmbHZcIjovLm1wZCgjfFxcP3wkKS9pLmV4ZWMoZS5zcmMpP3RoaXMudHlwZT1cImRhc2hcIjp0aGlzLnR5cGU9XCJub3JtYWxcIiksdGhpcy50eXBlKXtjYXNlXCJobHNcIjppZihIbHMpaWYoSGxzLmlzU3VwcG9ydGVkKCkpe3ZhciBpPW5ldyBIbHM7aS5sb2FkU291cmNlKGUuc3JjKSxpLmF0dGFjaE1lZGlhKGUpfWVsc2UgdGhpcy5ub3RpY2UoXCJFcnJvcjogSGxzIGlzIG5vdCBzdXBwb3J0ZWQuXCIpO2Vsc2UgdGhpcy5ub3RpY2UoXCJFcnJvcjogQ2FuJ3QgZmluZCBIbHMuXCIpO2JyZWFrO2Nhc2VcImZsdlwiOmlmKGZsdmpzJiZmbHZqcy5pc1N1cHBvcnRlZCgpKWlmKGZsdmpzLmlzU3VwcG9ydGVkKCkpe3ZhciBhPWZsdmpzLmNyZWF0ZVBsYXllcih7dHlwZTpcImZsdlwiLHVybDplLnNyY30pO2EuYXR0YWNoTWVkaWFFbGVtZW50KGUpLGEubG9hZCgpfWVsc2UgdGhpcy5ub3RpY2UoXCJFcnJvcjogZmx2anMgaXMgbm90IHN1cHBvcnRlZC5cIik7ZWxzZSB0aGlzLm5vdGljZShcIkVycm9yOiBDYW4ndCBmaW5kIGZsdmpzLlwiKTticmVhaztjYXNlXCJkYXNoXCI6ZGFzaGpzP2Rhc2hqcy5NZWRpYVBsYXllcigpLmNyZWF0ZSgpLmluaXRpYWxpemUoZSxlLnNyYywhMSk6dGhpcy5ub3RpY2UoXCJFcnJvcjogQ2FuJ3QgZmluZCBkYXNoanMuXCIpO2JyZWFrO2Nhc2VcIndlYnRvcnJlbnRcIjppZihXZWJUb3JyZW50KWlmKFdlYlRvcnJlbnQuV0VCUlRDX1NVUFBPUlQpe3RoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLWxvYWRpbmdcIik7dmFyIG89bmV3IFdlYlRvcnJlbnQscz1lLnNyYztvLmFkZChzLGZ1bmN0aW9uKGUpe2UuZmlsZXMuZmluZChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lLmVuZHNXaXRoKFwiLm1wNFwiKX0pLnJlbmRlclRvKG4udmlkZW8se2F1dG9wbGF5Om4ub3B0aW9ucy5hdXRvcGxheX0sZnVuY3Rpb24oKXtuLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiZHBsYXllci1sb2FkaW5nXCIpfSl9KX1lbHNlIHRoaXMubm90aWNlKFwiRXJyb3I6IFdlYnRvcnJlbnQgaXMgbm90IHN1cHBvcnRlZC5cIik7ZWxzZSB0aGlzLm5vdGljZShcIkVycm9yOiBDYW4ndCBmaW5kIFdlYnRvcnJlbnQuXCIpfX19LHtrZXk6XCJpbml0VmlkZW9cIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7dGhpcy5pbml0TVNFKGUsdCksdGhpcy5vbihcImR1cmF0aW9uY2hhbmdlXCIsZnVuY3Rpb24oKXsxIT09ZS5kdXJhdGlvbiYmKG4udGVtcGxhdGUuZHRpbWUuaW5uZXJIVE1MPWMuZGVmYXVsdC5zZWNvbmRUb1RpbWUoZS5kdXJhdGlvbikpfSksdGhpcy5vbihcInByb2dyZXNzXCIsZnVuY3Rpb24oKXt2YXIgdD1lLmJ1ZmZlcmVkLmxlbmd0aD9lLmJ1ZmZlcmVkLmVuZChlLmJ1ZmZlcmVkLmxlbmd0aC0xKS9lLmR1cmF0aW9uOjA7bi5iYXIuc2V0KFwibG9hZGVkXCIsdCxcIndpZHRoXCIpfSksdGhpcy5vbihcImVycm9yXCIsZnVuY3Rpb24oKXtuLnRyYW4mJm4ubm90aWNlJiYobi50eXBlLG4ubm90aWNlKG4udHJhbihcIlRoaXMgdmlkZW8gZmFpbHMgdG8gbG9hZFwiKSwtMSkpfSksdGhpcy5lbmRlZD0hMSx0aGlzLm9uKFwiZW5kZWRcIixmdW5jdGlvbigpe24uYmFyLnNldChcInBsYXllZFwiLDEsXCJ3aWR0aFwiKSxuLnNldHRpbmcubG9vcD8obi5zZWVrKDApLGUucGxheSgpKToobi5lbmRlZD0hMCxuLnBhdXNlKCkpLG4uZGFubWFrdSYmKG4uZGFubWFrdS5kYW5JbmRleD0wKX0pLHRoaXMub24oXCJwbGF5XCIsZnVuY3Rpb24oKXtuLnBhdXNlZCYmbi5wbGF5KCl9KSx0aGlzLm9uKFwicGF1c2VcIixmdW5jdGlvbigpe24ucGF1c2VkfHxuLnBhdXNlKCl9KTtmb3IodmFyIGk9MDtpPHRoaXMuZXZlbnRzLnZpZGVvRXZlbnRzLmxlbmd0aDtpKyspIWZ1bmN0aW9uKHQpe2UuYWRkRXZlbnRMaXN0ZW5lcihuLmV2ZW50cy52aWRlb0V2ZW50c1t0XSxmdW5jdGlvbigpe24uZXZlbnRzLnRyaWdnZXIobi5ldmVudHMudmlkZW9FdmVudHNbdF0pfSl9KGkpO3RoaXMudm9sdW1lKHRoaXMudXNlci5nZXQoXCJ2b2x1bWVcIiksITAsITApLHRoaXMub3B0aW9ucy5zdWJ0aXRsZSYmKHRoaXMuc3VidGl0bGU9bmV3IF8uZGVmYXVsdCh0aGlzLnRlbXBsYXRlLnN1YnRpdGxlLHRoaXMudmlkZW8sdGhpcy5vcHRpb25zLnN1YnRpdGxlLHRoaXMuZXZlbnRzKSx0aGlzLnVzZXIuZ2V0KFwic3VidGl0bGVcIil8fHRoaXMuc3VidGl0bGUuaGlkZSgpKX19LHtrZXk6XCJzd2l0Y2hRdWFsaXR5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLnF1YWxpdHlJbmRleCE9PWUmJiF0aGlzLnN3aXRjaGluZ1F1YWxpdHkpe3RoaXMucXVhbGl0eUluZGV4PWUsdGhpcy5zd2l0Y2hpbmdRdWFsaXR5PSEwLHRoaXMucXVhbGl0eT10aGlzLm9wdGlvbnMudmlkZW8ucXVhbGl0eVtlXSx0aGlzLnRlbXBsYXRlLnF1YWxpdHlCdXR0b24uaW5uZXJIVE1MPXRoaXMucXVhbGl0eS5uYW1lO3ZhciBuPXRoaXMudmlkZW8ucGF1c2VkO3RoaXMudmlkZW8ucGF1c2UoKTt2YXIgaT10aGlzLnRlbXBsYXRlLnRwbFZpZGVvKCExLG51bGwsdGhpcy5vcHRpb25zLnNjcmVlbnNob3QsXCJhdXRvXCIsdGhpcy5xdWFsaXR5LnVybCx0aGlzLm9wdGlvbnMuc3VidGl0bGUpLGE9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhpLFwidGV4dC9odG1sXCIpLmJvZHkuZmlyc3RDaGlsZDt0aGlzLnRlbXBsYXRlLnZpZGVvV3JhcC5pbnNlcnRCZWZvcmUoYSx0aGlzLnRlbXBsYXRlLnZpZGVvV3JhcC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImRpdlwiKVswXSksdGhpcy5wcmV2VmlkZW89dGhpcy52aWRlbyx0aGlzLnZpZGVvPWEsdGhpcy5pbml0VmlkZW8odGhpcy52aWRlbyx0aGlzLnF1YWxpdHkudHlwZXx8dGhpcy5vcHRpb25zLnZpZGVvLnR5cGUpLHRoaXMuc2Vlayh0aGlzLnByZXZWaWRlby5jdXJyZW50VGltZSksdGhpcy5ub3RpY2UodGhpcy50cmFuKFwiU3dpdGNoaW5nIHRvXCIpK1wiIFwiK3RoaXMucXVhbGl0eS5uYW1lK1wiIFwiK3RoaXMudHJhbihcInF1YWxpdHlcIiksLTEpLHRoaXMuZXZlbnRzLnRyaWdnZXIoXCJxdWFsaXR5X3N0YXJ0XCIsdGhpcy5xdWFsaXR5KSx0aGlzLm9uKFwiY2FucGxheVwiLGZ1bmN0aW9uKCl7aWYodC5wcmV2VmlkZW8pe2lmKHQudmlkZW8uY3VycmVudFRpbWUhPT10LnByZXZWaWRlby5jdXJyZW50VGltZSlyZXR1cm4gdm9pZCB0LnNlZWsodC5wcmV2VmlkZW8uY3VycmVudFRpbWUpO3QudGVtcGxhdGUudmlkZW9XcmFwLnJlbW92ZUNoaWxkKHQucHJldlZpZGVvKSx0LnZpZGVvLmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLXZpZGVvLWN1cnJlbnRcIiksbnx8dC52aWRlby5wbGF5KCksdC5wcmV2VmlkZW89bnVsbCx0Lm5vdGljZSh0LnRyYW4oXCJTd2l0Y2hlZCB0b1wiKStcIiBcIit0LnF1YWxpdHkubmFtZStcIiBcIit0LnRyYW4oXCJxdWFsaXR5XCIpKSx0LnN3aXRjaGluZ1F1YWxpdHk9ITEsdC5ldmVudHMudHJpZ2dlcihcInF1YWxpdHlfZW5kXCIpfX0pfX19LHtrZXk6XCJub3RpY2VcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjJlMyxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTouODt0aGlzLnRlbXBsYXRlLm5vdGljZS5pbm5lckhUTUw9ZSx0aGlzLnRlbXBsYXRlLm5vdGljZS5zdHlsZS5vcGFjaXR5PWksdGhpcy5ub3RpY2VUaW1lJiZjbGVhclRpbWVvdXQodGhpcy5ub3RpY2VUaW1lKSx0aGlzLmV2ZW50cy50cmlnZ2VyKFwibm90aWNlX3Nob3dcIixlKSx0aGlzLm5vdGljZVRpbWU9c2V0VGltZW91dChmdW5jdGlvbigpe3QudGVtcGxhdGUubm90aWNlLnN0eWxlLm9wYWNpdHk9MCx0LmV2ZW50cy50cmlnZ2VyKFwibm90aWNlX2hpZGVcIil9LG4pfX0se2tleTpcInJlc2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5kYW5tYWt1JiZ0aGlzLmRhbm1ha3UucmVzaXplKCksdGhpcy5ldmVudHMudHJpZ2dlcihcInJlc2l6ZVwiKX19LHtrZXk6XCJzcGVlZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMudmlkZW8ucGxheWJhY2tSYXRlPWV9fSx7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7WC5zcGxpY2UoWC5pbmRleE9mKHRoaXMpLDEpLHRoaXMucGF1c2UoKSx0aGlzLmNvbnRyb2xsZXIuZGVzdHJveSgpLHRoaXMudGltZS5kZXN0cm95KCksdGhpcy52aWRlby5zcmM9XCJcIix0aGlzLmNvbnRhaW5lci5pbm5lckhUTUw9XCJcIix0aGlzLmV2ZW50cy50cmlnZ2VyKFwiZGVzdHJveVwiKTtmb3IodmFyIGUgaW4gdGhpcyl0aGlzLmhhc093blByb3BlcnR5KGUpJiZcInBhdXNlZFwiIT09ZSYmZGVsZXRlIHRoaXNbZV19fV0pLGV9KCk7dC5kZWZhdWx0PVF9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbigpe31mdW5jdGlvbiBpKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7ZS5hcHBseSh0LGFyZ3VtZW50cyl9fWZ1bmN0aW9uIGEoZSx0KXtmb3IoOzM9PT1lLl9zdGF0ZTspZT1lLl92YWx1ZTtpZigwPT09ZS5fc3RhdGUpcmV0dXJuIHZvaWQgZS5fZGVmZXJyZWRzLnB1c2godCk7ZS5faGFuZGxlZD0hMCx1Ll9pbW1lZGlhdGVGbihmdW5jdGlvbigpe3ZhciBuPTE9PT1lLl9zdGF0ZT90Lm9uRnVsZmlsbGVkOnQub25SZWplY3RlZDtpZihudWxsPT09bilyZXR1cm4gdm9pZCgxPT09ZS5fc3RhdGU/bzpzKSh0LnByb21pc2UsZS5fdmFsdWUpO3ZhciBpO3RyeXtpPW4oZS5fdmFsdWUpfWNhdGNoKGUpe3JldHVybiB2b2lkIHModC5wcm9taXNlLGUpfW8odC5wcm9taXNlLGkpfSl9ZnVuY3Rpb24gbyhlLHQpe3RyeXtpZih0PT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQSBwcm9taXNlIGNhbm5vdCBiZSByZXNvbHZlZCB3aXRoIGl0c2VsZi5cIik7aWYodCYmKFwib2JqZWN0XCI9PT0odm9pZCAwPT09dD9cInVuZGVmaW5lZFwiOmQodCkpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KSl7dmFyIG49dC50aGVuO2lmKHQgaW5zdGFuY2VvZiB1KXJldHVybiBlLl9zdGF0ZT0zLGUuX3ZhbHVlPXQsdm9pZCByKGUpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4pcmV0dXJuIHZvaWQgYyhpKG4sdCksZSl9ZS5fc3RhdGU9MSxlLl92YWx1ZT10LHIoZSl9Y2F0Y2godCl7cyhlLHQpfX1mdW5jdGlvbiBzKGUsdCl7ZS5fc3RhdGU9MixlLl92YWx1ZT10LHIoZSl9ZnVuY3Rpb24gcihlKXsyPT09ZS5fc3RhdGUmJjA9PT1lLl9kZWZlcnJlZHMubGVuZ3RoJiZ1Ll9pbW1lZGlhdGVGbihmdW5jdGlvbigpe2UuX2hhbmRsZWR8fHUuX3VuaGFuZGxlZFJlamVjdGlvbkZuKGUuX3ZhbHVlKX0pO2Zvcih2YXIgdD0wLG49ZS5fZGVmZXJyZWRzLmxlbmd0aDt0PG47dCsrKWEoZSxlLl9kZWZlcnJlZHNbdF0pO2UuX2RlZmVycmVkcz1udWxsfWZ1bmN0aW9uIGwoZSx0LG4pe3RoaXMub25GdWxmaWxsZWQ9XCJmdW5jdGlvblwiPT10eXBlb2YgZT9lOm51bGwsdGhpcy5vblJlamVjdGVkPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dDpudWxsLHRoaXMucHJvbWlzZT1ufWZ1bmN0aW9uIGMoZSx0KXt2YXIgbj0hMTt0cnl7ZShmdW5jdGlvbihlKXtufHwobj0hMCxvKHQsZSkpfSxmdW5jdGlvbihlKXtufHwobj0hMCxzKHQsZSkpfSl9Y2F0Y2goZSl7aWYobilyZXR1cm47bj0hMCxzKHQsZSl9fWZ1bmN0aW9uIHUoZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgdSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByb21pc2VzIG11c3QgYmUgY29uc3RydWN0ZWQgdmlhIG5ld1wiKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJub3QgYSBmdW5jdGlvblwiKTt0aGlzLl9zdGF0ZT0wLHRoaXMuX2hhbmRsZWQ9ITEsdGhpcy5fdmFsdWU9dm9pZCAwLHRoaXMuX2RlZmVycmVkcz1bXSxjKGUsdGhpcyl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0scD1zZXRUaW1lb3V0LGg9dS5wcm90b3R5cGU7aC5jYXRjaD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKG51bGwsZSl9LGgudGhlbj1mdW5jdGlvbihlLHQpe3ZhciBpPW5ldyB0aGlzLmNvbnN0cnVjdG9yKG4pO3JldHVybiBhKHRoaXMsbmV3IGwoZSx0LGkpKSxpfSx1LmFsbD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHUoZnVuY3Rpb24odCxuKXtmdW5jdGlvbiBpKGUscyl7dHJ5e2lmKHMmJihcIm9iamVjdFwiPT09KHZvaWQgMD09PXM/XCJ1bmRlZmluZWRcIjpkKHMpKXx8XCJmdW5jdGlvblwiPT10eXBlb2Ygcykpe3ZhciByPXMudGhlbjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiByKXJldHVybiB2b2lkIHIuY2FsbChzLGZ1bmN0aW9uKHQpe2koZSx0KX0sbil9YVtlXT1zLDA9PS0tbyYmdChhKX1jYXRjaChlKXtuKGUpfX1pZighZXx8dm9pZCAwPT09ZS5sZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByb21pc2UuYWxsIGFjY2VwdHMgYW4gYXJyYXlcIik7dmFyIGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSk7aWYoMD09PWEubGVuZ3RoKXJldHVybiB0KFtdKTtmb3IodmFyIG89YS5sZW5ndGgscz0wO3M8YS5sZW5ndGg7cysrKWkocyxhW3NdKX0pfSx1LnJlc29sdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwib2JqZWN0XCI9PT0odm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOmQoZSkpJiZlLmNvbnN0cnVjdG9yPT09dT9lOm5ldyB1KGZ1bmN0aW9uKHQpe3QoZSl9KX0sdS5yZWplY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB1KGZ1bmN0aW9uKHQsbil7bihlKX0pfSx1LnJhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB1KGZ1bmN0aW9uKHQsbil7Zm9yKHZhciBpPTAsYT1lLmxlbmd0aDtpPGE7aSsrKWVbaV0udGhlbih0LG4pfSl9LHUuX2ltbWVkaWF0ZUZuPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmZ1bmN0aW9uKHQpe2UodCl9fHxmdW5jdGlvbihlKXtwKGUsMCl9LHUuX3VuaGFuZGxlZFJlamVjdGlvbkZuPWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlJiZjb25zb2xlLndhcm4oXCJQb3NzaWJsZSBVbmhhbmRsZWQgUHJvbWlzZSBSZWplY3Rpb246XCIsZSl9LHQuZGVmYXVsdD11fSkuY2FsbCh0LG4oNSkuc2V0SW1tZWRpYXRlKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXt0aGlzLl9pZD1lLHRoaXMuX2NsZWFyRm49dH12YXIgYT1GdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7dC5zZXRUaW1lb3V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKGEuY2FsbChzZXRUaW1lb3V0LHdpbmRvdyxhcmd1bWVudHMpLGNsZWFyVGltZW91dCl9LHQuc2V0SW50ZXJ2YWw9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoYS5jYWxsKHNldEludGVydmFsLHdpbmRvdyxhcmd1bWVudHMpLGNsZWFySW50ZXJ2YWwpfSx0LmNsZWFyVGltZW91dD10LmNsZWFySW50ZXJ2YWw9ZnVuY3Rpb24oZSl7ZSYmZS5jbG9zZSgpfSxpLnByb3RvdHlwZS51bnJlZj1pLnByb3RvdHlwZS5yZWY9ZnVuY3Rpb24oKXt9LGkucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJGbi5jYWxsKHdpbmRvdyx0aGlzLl9pZCl9LHQuZW5yb2xsPWZ1bmN0aW9uKGUsdCl7Y2xlYXJUaW1lb3V0KGUuX2lkbGVUaW1lb3V0SWQpLGUuX2lkbGVUaW1lb3V0PXR9LHQudW5lbnJvbGw9ZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KGUuX2lkbGVUaW1lb3V0SWQpLGUuX2lkbGVUaW1lb3V0PS0xfSx0Ll91bnJlZkFjdGl2ZT10LmFjdGl2ZT1mdW5jdGlvbihlKXtjbGVhclRpbWVvdXQoZS5faWRsZVRpbWVvdXRJZCk7dmFyIHQ9ZS5faWRsZVRpbWVvdXQ7dD49MCYmKGUuX2lkbGVUaW1lb3V0SWQ9c2V0VGltZW91dChmdW5jdGlvbigpe2UuX29uVGltZW91dCYmZS5fb25UaW1lb3V0KCl9LHQpKX0sbig2KSx0LnNldEltbWVkaWF0ZT1zZXRJbW1lZGlhdGUsdC5jbGVhckltbWVkaWF0ZT1jbGVhckltbWVkaWF0ZX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlLHQpeyFmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIGkoZSl7XCJmdW5jdGlvblwiIT10eXBlb2YgZSYmKGU9bmV3IEZ1bmN0aW9uKFwiXCIrZSkpO2Zvcih2YXIgdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKSxuPTA7bjx0Lmxlbmd0aDtuKyspdFtuXT1hcmd1bWVudHNbbisxXTt2YXIgaT17Y2FsbGJhY2s6ZSxhcmdzOnR9O3JldHVybiBjW2xdPWkscihsKSxsKyt9ZnVuY3Rpb24gYShlKXtkZWxldGUgY1tlXX1mdW5jdGlvbiBvKGUpe3ZhciB0PWUuY2FsbGJhY2ssaT1lLmFyZ3M7c3dpdGNoKGkubGVuZ3RoKXtjYXNlIDA6dCgpO2JyZWFrO2Nhc2UgMTp0KGlbMF0pO2JyZWFrO2Nhc2UgMjp0KGlbMF0saVsxXSk7YnJlYWs7Y2FzZSAzOnQoaVswXSxpWzFdLGlbMl0pO2JyZWFrO2RlZmF1bHQ6dC5hcHBseShuLGkpfX1mdW5jdGlvbiBzKGUpe2lmKHUpc2V0VGltZW91dChzLDAsZSk7ZWxzZXt2YXIgdD1jW2VdO2lmKHQpe3U9ITA7dHJ5e28odCl9ZmluYWxseXthKGUpLHU9ITF9fX19aWYoIWUuc2V0SW1tZWRpYXRlKXt2YXIgcixsPTEsYz17fSx1PSExLGQ9ZS5kb2N1bWVudCxwPU9iamVjdC5nZXRQcm90b3R5cGVPZiYmT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO3A9cCYmcC5zZXRUaW1lb3V0P3A6ZSxcIltvYmplY3QgcHJvY2Vzc11cIj09PXt9LnRvU3RyaW5nLmNhbGwoZS5wcm9jZXNzKT9mdW5jdGlvbigpe3I9ZnVuY3Rpb24oZSl7dC5uZXh0VGljayhmdW5jdGlvbigpe3MoZSl9KX19KCk6ZnVuY3Rpb24oKXtpZihlLnBvc3RNZXNzYWdlJiYhZS5pbXBvcnRTY3JpcHRzKXt2YXIgdD0hMCxuPWUub25tZXNzYWdlO3JldHVybiBlLm9ubWVzc2FnZT1mdW5jdGlvbigpe3Q9ITF9LGUucG9zdE1lc3NhZ2UoXCJcIixcIipcIiksZS5vbm1lc3NhZ2U9bix0fX0oKT9mdW5jdGlvbigpe3ZhciB0PVwic2V0SW1tZWRpYXRlJFwiK01hdGgucmFuZG9tKCkrXCIkXCIsbj1mdW5jdGlvbihuKXtuLnNvdXJjZT09PWUmJlwic3RyaW5nXCI9PXR5cGVvZiBuLmRhdGEmJjA9PT1uLmRhdGEuaW5kZXhPZih0KSYmcygrbi5kYXRhLnNsaWNlKHQubGVuZ3RoKSl9O2UuYWRkRXZlbnRMaXN0ZW5lcj9lLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsbiwhMSk6ZS5hdHRhY2hFdmVudChcIm9ubWVzc2FnZVwiLG4pLHI9ZnVuY3Rpb24obil7ZS5wb3N0TWVzc2FnZSh0K24sXCIqXCIpfX0oKTplLk1lc3NhZ2VDaGFubmVsP2Z1bmN0aW9uKCl7dmFyIGU9bmV3IE1lc3NhZ2VDaGFubmVsO2UucG9ydDEub25tZXNzYWdlPWZ1bmN0aW9uKGUpe3MoZS5kYXRhKX0scj1mdW5jdGlvbih0KXtlLnBvcnQyLnBvc3RNZXNzYWdlKHQpfX0oKTpkJiZcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiaW4gZC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpP2Z1bmN0aW9uKCl7dmFyIGU9ZC5kb2N1bWVudEVsZW1lbnQ7cj1mdW5jdGlvbih0KXt2YXIgbj1kLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7bi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtzKHQpLG4ub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsZS5yZW1vdmVDaGlsZChuKSxuPW51bGx9LGUuYXBwZW5kQ2hpbGQobil9fSgpOmZ1bmN0aW9uKCl7cj1mdW5jdGlvbihlKXtzZXRUaW1lb3V0KHMsMCxlKX19KCkscC5zZXRJbW1lZGlhdGU9aSxwLmNsZWFySW1tZWRpYXRlPWF9fShcInVuZGVmaW5lZFwiPT10eXBlb2Ygc2VsZj92b2lkIDA9PT1lP3ZvaWQgMDplOnNlbGYpfSkuY2FsbCh0LG4oNyksbig4KSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxhPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9O2k9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7aT1pfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl8fCgwLGV2YWwpKFwidGhpc1wiKX1jYXRjaChlKXtcIm9iamVjdFwiPT09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3c/XCJ1bmRlZmluZWRcIjphKHdpbmRvdykpJiYoaT13aW5kb3cpfWUuZXhwb3J0cz1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSgpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gYSgpe3Rocm93IG5ldyBFcnJvcihcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBvKGUpe2lmKGQ9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KGUsMCk7aWYoKGQ9PT1pfHwhZCkmJnNldFRpbWVvdXQpcmV0dXJuIGQ9c2V0VGltZW91dCxzZXRUaW1lb3V0KGUsMCk7dHJ5e3JldHVybiBkKGUsMCl9Y2F0Y2godCl7dHJ5e3JldHVybiBkLmNhbGwobnVsbCxlLDApfWNhdGNoKHQpe3JldHVybiBkLmNhbGwodGhpcyxlLDApfX19ZnVuY3Rpb24gcyhlKXtpZihwPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQoZSk7aWYoKHA9PT1hfHwhcCkmJmNsZWFyVGltZW91dClyZXR1cm4gcD1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KGUpO3RyeXtyZXR1cm4gcChlKX1jYXRjaCh0KXt0cnl7cmV0dXJuIHAuY2FsbChudWxsLGUpfWNhdGNoKHQpe3JldHVybiBwLmNhbGwodGhpcyxlKX19fWZ1bmN0aW9uIHIoKXtmJiZ5JiYoZj0hMSx5Lmxlbmd0aD9tPXkuY29uY2F0KG0pOnY9LTEsbS5sZW5ndGgmJmwoKSl9ZnVuY3Rpb24gbCgpe2lmKCFmKXt2YXIgZT1vKHIpO2Y9ITA7Zm9yKHZhciB0PW0ubGVuZ3RoO3Q7KXtmb3IoeT1tLG09W107Kyt2PHQ7KXkmJnlbdl0ucnVuKCk7dj0tMSx0PW0ubGVuZ3RofXk9bnVsbCxmPSExLHMoZSl9fWZ1bmN0aW9uIGMoZSx0KXt0aGlzLmZ1bj1lLHRoaXMuYXJyYXk9dH1mdW5jdGlvbiB1KCl7fXZhciBkLHAsaD1lLmV4cG9ydHM9e307IWZ1bmN0aW9uKCl7dHJ5e2Q9XCJmdW5jdGlvblwiPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0Oml9Y2F0Y2goZSl7ZD1pfXRyeXtwPVwiZnVuY3Rpb25cIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6YX1jYXRjaChlKXtwPWF9fSgpO3ZhciB5LG09W10sZj0hMSx2PS0xO2gubmV4dFRpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTttLnB1c2gobmV3IGMoZSx0KSksMSE9PW0ubGVuZ3RofHxmfHxvKGwpfSxjLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxoLnRpdGxlPVwiYnJvd3NlclwiLGguYnJvd3Nlcj0hMCxoLmVudj17fSxoLmFyZ3Y9W10saC52ZXJzaW9uPVwiXCIsaC52ZXJzaW9ucz17fSxoLm9uPXUsaC5hZGRMaXN0ZW5lcj11LGgub25jZT11LGgub2ZmPXUsaC5yZW1vdmVMaXN0ZW5lcj11LGgucmVtb3ZlQWxsTGlzdGVuZXJzPXUsaC5lbWl0PXUsaC5wcmVwZW5kTGlzdGVuZXI9dSxoLnByZXBlbmRPbmNlTGlzdGVuZXI9dSxoLmxpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm5bXX0saC5iaW5kaW5nPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfSxoLmN3ZD1mdW5jdGlvbigpe3JldHVyblwiL1wifSxoLmNoZGlyPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0saC51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LG89bigxMCkscz1pKG8pLHI9bigxMSksbD1pKHIpO3QuZGVmYXVsdD1mdW5jdGlvbihlKXt2YXIgdD17Y29udGFpbmVyOmUuZWxlbWVudHx8ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImRwbGF5ZXJcIilbMF0sbGl2ZTohMSxhdXRvcGxheTohMSx0aGVtZTpcIiNiN2RhZmZcIixsb29wOiExLGxhbmc6KG5hdmlnYXRvci5sYW5ndWFnZXx8bmF2aWdhdG9yLmJyb3dzZXJMYW5ndWFnZSkudG9Mb3dlckNhc2UoKSxzY3JlZW5zaG90OiExLGhvdGtleTohMCxwcmVsb2FkOlwiYXV0b1wiLHZvbHVtZTouNyxhcGlCYWNrZW5kOmwuZGVmYXVsdCx2aWRlbzp7fSxpY29uczp7cGxheTpbXCIwIDAgMTYgMzJcIixcIk0xNS41NTIgMTUuMTY4cTAuNDQ4IDAuMzIgMC40NDggMC44MzIgMCAwLjQ0OC0wLjQ0OCAwLjc2OGwtMTMuNjk2IDguNTEycS0wLjc2OCAwLjUxMi0xLjMxMiAwLjE5MnQtMC41NDQtMS4yOHYtMTYuNDQ4cTAtMC45NiAwLjU0NC0xLjI4dDEuMzEyIDAuMTkyelwiXSxwYXVzZTpbXCIwIDAgMTcgMzJcIixcIk0xNC4wODAgNC44cTIuODggMCAyLjg4IDIuMDQ4djE4LjI0cTAgMi4xMTItMi44OCAyLjExMnQtMi44OC0yLjExMnYtMTguMjRxMC0yLjA0OCAyLjg4LTIuMDQ4ek0yLjg4IDQuOHEyLjg4IDAgMi44OCAyLjA0OHYxOC4yNHEwIDIuMTEyLTIuODggMi4xMTJ0LTIuODgtMi4xMTJ2LTE4LjI0cTAtMi4wNDggMi44OC0yLjA0OHpcIl0sXCJ2b2x1bWUtdXBcIjpbXCIwIDAgMjEgMzJcIixcIk0xMy43MjggNi4yNzJ2MTkuNDU2cTAgMC40NDgtMC4zNTIgMC44dC0wLjggMC4zMi0wLjgtMC4zMmwtNS45NTItNS45NTJoLTQuNjcycS0wLjQ4IDAtMC44LTAuMzUydC0wLjM1Mi0wLjh2LTYuODQ4cTAtMC40OCAwLjM1Mi0wLjh0MC44LTAuMzUyaDQuNjcybDUuOTUyLTUuOTUycTAuMzItMC4zMiAwLjgtMC4zMnQwLjggMC4zMiAwLjM1MiAwLjh6TTIwLjU3NiAxNnEwIDEuMzQ0LTAuNzY4IDIuNTI4dC0yLjAxNiAxLjY2NHEtMC4xNiAwLjA5Ni0wLjQ0OCAwLjA5Ni0wLjQ0OCAwLTAuOC0wLjMydC0wLjMyLTAuODMycTAtMC4zODQgMC4xOTItMC42NHQwLjU0NC0wLjQ0OCAwLjYwOC0wLjM4NCAwLjUxMi0wLjY0IDAuMTkyLTEuMDI0LTAuMTkyLTEuMDI0LTAuNTEyLTAuNjQtMC42MDgtMC4zODQtMC41NDQtMC40NDgtMC4xOTItMC42NHEwLTAuNDggMC4zMi0wLjgzMnQwLjgtMC4zMnEwLjI4OCAwIDAuNDQ4IDAuMDk2IDEuMjQ4IDAuNDggMi4wMTYgMS42NjR0MC43NjggMi41Mjh6TTI1LjE1MiAxNnEwIDIuNzItMS41MzYgNS4wNTZ0LTQgMy4zNnEtMC4yNTYgMC4wOTYtMC40NDggMC4wOTYtMC40OCAwLTAuODMyLTAuMzUydC0wLjMyLTAuOHEwLTAuNzA0IDAuNjcyLTEuMDU2IDEuMDI0LTAuNTEyIDEuMzc2LTAuOCAxLjMxMi0wLjk2IDIuMDQ4LTIuNHQwLjczNi0zLjEwNC0wLjczNi0zLjEwNC0yLjA0OC0yLjRxLTAuMzUyLTAuMjg4LTEuMzc2LTAuOC0wLjY3Mi0wLjM1Mi0wLjY3Mi0xLjA1NiAwLTAuNDQ4IDAuMzItMC44dDAuOC0wLjM1MnEwLjIyNCAwIDAuNDggMC4wOTYgMi40OTYgMS4wNTYgNCAzLjM2dDEuNTM2IDUuMDU2elwiXSxcInZvbHVtZS1kb3duXCI6W1wiMCAwIDIxIDMyXCIsXCJNMTMuNzI4IDYuMjcydjE5LjQ1NnEwIDAuNDQ4LTAuMzUyIDAuOHQtMC44IDAuMzItMC44LTAuMzJsLTUuOTUyLTUuOTUyaC00LjY3MnEtMC40OCAwLTAuOC0wLjM1MnQtMC4zNTItMC44di02Ljg0OHEwLTAuNDggMC4zNTItMC44dDAuOC0wLjM1Mmg0LjY3Mmw1Ljk1Mi01Ljk1MnEwLjMyLTAuMzIgMC44LTAuMzJ0MC44IDAuMzIgMC4zNTIgMC44ek0yMC41NzYgMTZxMCAxLjM0NC0wLjc2OCAyLjUyOHQtMi4wMTYgMS42NjRxLTAuMTYgMC4wOTYtMC40NDggMC4wOTYtMC40NDggMC0wLjgtMC4zMnQtMC4zMi0wLjgzMnEwLTAuMzg0IDAuMTkyLTAuNjR0MC41NDQtMC40NDggMC42MDgtMC4zODQgMC41MTItMC42NCAwLjE5Mi0xLjAyNC0wLjE5Mi0xLjAyNC0wLjUxMi0wLjY0LTAuNjA4LTAuMzg0LTAuNTQ0LTAuNDQ4LTAuMTkyLTAuNjRxMC0wLjQ4IDAuMzItMC44MzJ0MC44LTAuMzJxMC4yODggMCAwLjQ0OCAwLjA5NiAxLjI0OCAwLjQ4IDIuMDE2IDEuNjY0dDAuNzY4IDIuNTI4elwiXSxcInZvbHVtZS1vZmZcIjpbXCIwIDAgMjEgMzJcIixcIk0xMy43MjggNi4yNzJ2MTkuNDU2cTAgMC40NDgtMC4zNTIgMC44dC0wLjggMC4zMi0wLjgtMC4zMmwtNS45NTItNS45NTJoLTQuNjcycS0wLjQ4IDAtMC44LTAuMzUydC0wLjM1Mi0wLjh2LTYuODQ4cTAtMC40OCAwLjM1Mi0wLjh0MC44LTAuMzUyaDQuNjcybDUuOTUyLTUuOTUycTAuMzItMC4zMiAwLjgtMC4zMnQwLjggMC4zMiAwLjM1MiAwLjh6XCJdLGxvb3A6W1wiMCAwIDMyIDMyXCIsXCJNMS44ODIgMTYuOTQxYzAgNC4xNTIgMy4yMjEgNy41MjkgNy4xNzcgNy41Mjl2MS44ODJjLTQuOTk2IDAtOS4wNjAtNC4yMjItOS4wNjAtOS40MTJzNC4wNjQtOS40MTIgOS4wNjAtOS40MTJoNy45NmwtMy4wOTgtMy4wOTggMS4zMzEtMS4zMzEgNS4zNzIgNS4zNy01LjM3IDUuMzcyLTEuMzMzLTEuMzMzIDMuMS0zLjA5OGgtNy45NjJjLTMuOTU3IDAtNy4xNzcgMy4zNzctNy4xNzcgNy41Mjl6TTIyLjk0IDcuNTI5djEuODgyYzMuOTU3IDAgNy4xNzcgMy4zNzcgNy4xNzcgNy41MjlzLTMuMjIxIDcuNTI5LTcuMTc3IDcuNTI5aC03Ljk2MmwzLjA5OC0zLjA5OC0xLjMzMS0xLjMzMS01LjM3IDUuMzcgNS4zNzIgNS4zNzIgMS4zMzEtMS4zMzEtMy4xLTMuMWg3Ljk2YzQuOTk4IDAgOS4wNjItNC4yMjIgOS4wNjItOS40MTJzLTQuMDY0LTkuNDEyLTkuMDYwLTkuNDEyelwiXSxmdWxsOltcIjAgMCAzMiAzM1wiLFwiTTYuNjY3IDI4aC01LjMzM2MtMC44IDAtMS4zMzMtMC41MzMtMS4zMzMtMS4zMzN2LTUuMzMzYzAtMC44IDAuNTMzLTEuMzMzIDEuMzMzLTEuMzMzczEuMzMzIDAuNTMzIDEuMzMzIDEuMzMzdjRoNGMwLjggMCAxLjMzMyAwLjUzMyAxLjMzMyAxLjMzM3MtMC41MzMgMS4zMzMtMS4zMzMgMS4zMzN6TTMwLjY2NyAyOGgtNS4zMzNjLTAuOCAwLTEuMzMzLTAuNTMzLTEuMzMzLTEuMzMzczAuNTMzLTEuMzMzIDEuMzMzLTEuMzMzaDR2LTRjMC0wLjggMC41MzMtMS4zMzMgMS4zMzMtMS4zMzNzMS4zMzMgMC41MzMgMS4zMzMgMS4zMzN2NS4zMzNjMCAwLjgtMC41MzMgMS4zMzMtMS4zMzMgMS4zMzN6TTMwLjY2NyAxMmMtMC44IDAtMS4zMzMtMC41MzMtMS4zMzMtMS4zMzN2LTRoLTRjLTAuOCAwLTEuMzMzLTAuNTMzLTEuMzMzLTEuMzMzczAuNTMzLTEuMzMzIDEuMzMzLTEuMzMzaDUuMzMzYzAuOCAwIDEuMzMzIDAuNTMzIDEuMzMzIDEuMzMzdjUuMzMzYzAgMC44LTAuNTMzIDEuMzMzLTEuMzMzIDEuMzMzek0xLjMzMyAxMmMtMC44IDAtMS4zMzMtMC41MzMtMS4zMzMtMS4zMzN2LTUuMzMzYzAtMC44IDAuNTMzLTEuMzMzIDEuMzMzLTEuMzMzaDUuMzMzYzAuOCAwIDEuMzMzIDAuNTMzIDEuMzMzIDEuMzMzcy0wLjUzMyAxLjMzMy0xLjMzMyAxLjMzM2gtNHY0YzAgMC44LTAuNTMzIDEuMzMzLTEuMzMzIDEuMzMzelwiXSxcImZ1bGwtaW5cIjpbXCIwIDAgMzIgMzNcIixcIk0yNC45NjUgMjQuMzhoLTE4LjEzMmMtMS4zNjYgMC0yLjQ3OC0xLjExMy0yLjQ3OC0yLjQ3OHYtMTEuODA2YzAtMS4zNjQgMS4xMTEtMi40NzggMi40NzgtMi40NzhoMTguMTMyYzEuMzY2IDAgMi40NzggMS4xMTMgMi40NzggMi40Nzh2MTEuODA2YzAgMS4zNjQtMS4xMSAyLjQ3OC0yLjQ3OCAyLjQ3OHpNNi44MzMgMTAuMDk3djExLjgwNmgxOC4xMzRsLTAuMDAyLTExLjgwNmgtMTguMTMyek0yLjQ3OCAyOC45MjhoNS45NTJjMC42ODQgMCAxLjIzOC0wLjU1NCAxLjIzOC0xLjIzOSAwLTAuNjg0LTAuNTU0LTEuMjM4LTEuMjM4LTEuMjM4aC01Ljk1MnYtNS44MDJjMC0wLjY4NC0wLjU1NC0xLjIzOS0xLjIzOC0xLjIzOXMtMS4yMzkgMC41NTYtMS4yMzkgMS4yMzl2NS44MDJjMCAxLjM2NSAxLjExMSAyLjQ3OCAyLjQ3OCAyLjQ3OHpNMzAuNzYxIDE5LjQxMmMtMC42ODQgMC0xLjIzOCAwLjU1NC0xLjIzOCAxLjIzOHY1LjgwMWgtNS45NTFjLTAuNjg2IDAtMS4yMzkgMC41NTQtMS4yMzkgMS4yMzggMCAwLjY4NiAwLjU1NCAxLjIzOSAxLjIzOSAxLjIzOWg1Ljk1MWMxLjM2NiAwIDIuNDc4LTEuMTExIDIuNDc4LTIuNDc4di01LjgwMWMwLTAuNjgzLTAuNTU0LTEuMjM4LTEuMjM5LTEuMjM4ek0wIDUuNTV2NS44MDJjMCAwLjY4MyAwLjU1NCAxLjIzOCAxLjIzOCAxLjIzOHMxLjIzOC0wLjU1NSAxLjIzOC0xLjIzOHYtNS44MDJoNS45NTJjMC42ODQgMCAxLjIzOC0wLjU1NCAxLjIzOC0xLjIzOHMtMC41NTQtMS4yMzgtMS4yMzgtMS4yMzhoLTUuOTUxYy0xLjM2Ni0wLjAwMS0yLjQ3OCAxLjExMS0yLjQ3OCAyLjQ3NnpNMzIgMTEuMzV2LTUuODAxYzAtMS4zNjUtMS4xMS0yLjQ3OC0yLjQ3OC0yLjQ3OGgtNS45NTFjLTAuNjg2IDAtMS4yMzkgMC41NTQtMS4yMzkgMS4yMzhzMC41NTQgMS4yMzggMS4yMzkgMS4yMzhoNS45NTF2NS44MDFjMCAwLjY4MyAwLjU1NCAxLjIzNyAxLjIzOCAxLjIzNyAwLjY4NiAwLjAwMiAxLjIzOS0wLjU1MyAxLjIzOS0xLjIzNnpcIl0sc2V0dGluZzpbXCIwIDAgMzIgMjhcIixcIk0yOC42MzMgMTcuMTA0YzAuMDM1IDAuMjEgMC4wMjYgMC40NjMtMC4wMjYgMC43NnMtMC4xNCAwLjU5OC0wLjI2MiAwLjkwNGMtMC4xMjIgMC4zMDYtMC4yNzEgMC41ODEtMC40NDUgMC44MjVzLTAuMzY3IDAuNDE5LTAuNTc2IDAuNTI0Yy0wLjIwOSAwLjEwNS0wLjM5MyAwLjE1Ny0wLjU1IDAuMTU3cy0wLjMzMi0wLjAzNS0wLjUyNC0wLjEwNWMtMC4xNzUtMC4wNTItMC4zOTMtMC4xLTAuNjU1LTAuMTQ0cy0wLjUyOC0wLjA1Mi0wLjc5OS0wLjAyNmMtMC4yNzEgMC4wMjYtMC41NDEgMC4wODMtMC44MTIgMC4xN3MtMC41MDIgMC4yMzYtMC42OTQgMC40NDVjLTAuNDE5IDAuNDM3LTAuNjY0IDAuOTM0LTAuNzM0IDEuNDkzczAuMDA5IDEuMDkyIDAuMjM2IDEuNTk4YzAuMTc1IDAuMzQ5IDAuMTQ4IDAuNjk5LTAuMDc5IDEuMDQ4LTAuMTA1IDAuMTQtMC4yNzEgMC4yODQtMC40OTggMC40MzJzLTAuNDc2IDAuMjg0LTAuNzQ3IDAuNDA2LTAuNTU1IDAuMjE4LTAuODUxIDAuMjg4Yy0wLjI5NyAwLjA3MC0wLjU1OSAwLjEwNS0wLjc4NiAwLjEwNS0wLjE1NyAwLTAuMzA2LTAuMDYxLTAuNDQ1LTAuMTgzcy0wLjIzNi0wLjI1My0wLjI4OC0wLjM5M2gtMC4wMjZjLTAuMTkyLTAuNTQxLTAuNTItMS4wMDktMC45ODItMS40MDJzLTEtMC41ODktMS42MTEtMC41ODljLTAuNTk0IDAtMS4xMzEgMC4xOTctMS42MTEgMC41ODlzLTAuODE2IDAuODUxLTEuMDA5IDEuMzc1Yy0wLjA4NyAwLjIxLTAuMjE4IDAuMzYyLTAuMzkzIDAuNDU4cy0wLjM2NyAwLjE0NC0wLjU3NiAwLjE0NGMtMC4yNDQgMC0wLjUyLTAuMDQ0LTAuODI1LTAuMTMxcy0wLjYxMS0wLjE5Ny0wLjkxNy0wLjMyN2MtMC4zMDYtMC4xMzEtMC41ODEtMC4yODQtMC44MjUtMC40NThzLTAuNDI4LTAuMzQ5LTAuNTUtMC41MjRjLTAuMDg3LTAuMTIyLTAuMTM1LTAuMjY2LTAuMTQ0LTAuNDMyczAuMDU3LTAuMzk3IDAuMTk3LTAuNjk0YzAuMTkyLTAuNDAyIDAuMjY2LTAuODYgMC4yMjMtMS4zNzVzLTAuMjY2LTAuOTkxLTAuNjY4LTEuNDI4Yy0wLjI0NC0wLjI2Mi0wLjU0MS0wLjQzMi0wLjg5MS0wLjUxMXMtMC42ODEtMC4xMDktMC45OTUtMC4wOTJjLTAuMzY3IDAuMDE3LTAuNzQyIDAuMDg3LTEuMTI3IDAuMjEtMC4yNDQgMC4wNzAtMC40ODkgMC4wNTItMC43MzQtMC4wNTItMC4xOTItMC4wNzAtMC4zNzEtMC4yMzEtMC41MzctMC40ODVzLTAuMzE0LTAuNTMzLTAuNDQ1LTAuODM4Yy0wLjEzMS0wLjMwNi0wLjIzMS0wLjYyLTAuMzAxLTAuOTQzcy0wLjA4Ny0wLjU5LTAuMDUyLTAuNzk5YzAuMDUyLTAuMzg0IDAuMjI3LTAuNjI5IDAuNTI0LTAuNzM0IDAuNTI0LTAuMjEgMC45OTUtMC41NTUgMS40MTUtMS4wMzVzMC42MjktMS4wMTcgMC42MjktMS42MTFjMC0wLjYxMS0wLjIxLTEuMTQ0LTAuNjI5LTEuNTk4cy0wLjg5MS0wLjc4Ni0xLjQxNS0wLjk5NmMtMC4xNTctMC4wNTItMC4yODgtMC4xNzktMC4zOTMtMC4zOHMtMC4xNTctMC40MDYtMC4xNTctMC42MTZjMC0wLjIyNyAwLjAzNS0wLjQ4IDAuMTA1LTAuNzZzMC4xNjItMC41NSAwLjI3NS0wLjgxMiAwLjI0NC0wLjUwMiAwLjM5My0wLjcyYzAuMTQ4LTAuMjE4IDAuMzEtMC4zOCAwLjQ4NS0wLjQ4NSAwLjE0LTAuMDg3IDAuMjc1LTAuMTIyIDAuNDA2LTAuMTA1czAuMjc1IDAuMDUyIDAuNDMyIDAuMTA1YzAuNTI0IDAuMjEgMS4wNzAgMC4yNzUgMS42MzcgMC4xOTdzMS4wNzAtMC4zMjcgMS41MDYtMC43NDdjMC4yMS0wLjIwOSAwLjM2Mi0wLjQ2NyAwLjQ1OC0wLjc3M3MwLjE1Ny0wLjYwNyAwLjE4My0wLjkwNGMwLjAyNi0wLjI5NyAwLjAyNi0wLjU2OCAwLTAuODEycy0wLjA0OC0wLjQxOS0wLjA2NS0wLjUyNGMtMC4wMzUtMC4xMDUtMC4wNjYtMC4yMjctMC4wOTItMC4zNjdzLTAuMDEzLTAuMjYyIDAuMDM5LTAuMzY3YzAuMTA1LTAuMjQ0IDAuMjkzLTAuNDU4IDAuNTYzLTAuNjQyczAuNTYzLTAuMzM2IDAuODc4LTAuNDU4YzAuMzE0LTAuMTIyIDAuNjItMC4yMTQgMC45MTctMC4yNzVzMC41MzMtMC4wOTIgMC43MDctMC4wOTJjMC4yMjcgMCAwLjQwNiAwLjA3NCAwLjUzNyAwLjIyM3MwLjIyMyAwLjMwMSAwLjI3NSAwLjQ1OGMwLjE5MiAwLjQ3MSAwLjUwNyAwLjg4NiAwLjk0MyAxLjI0NHMwLjk1MiAwLjUzNyAxLjU0NiAwLjUzN2MwLjYxMSAwIDEuMTUzLTAuMTcgMS42MjQtMC41MTFzMC44MDMtMC43NzMgMC45OTYtMS4yOTdjMC4wNzAtMC4xNCAwLjE3OS0wLjI4NCAwLjMyNy0wLjQzMnMwLjMwMS0wLjIyMyAwLjQ1OC0wLjIyM2MwLjI0NCAwIDAuNTExIDAuMDM1IDAuNzk5IDAuMTA1czAuNTcyIDAuMTY2IDAuODUxIDAuMjg4YzAuMjc5IDAuMTIyIDAuNTM3IDAuMjc5IDAuNzczIDAuNDcyczAuNDIzIDAuNDAyIDAuNTYzIDAuNjI5YzAuMDg3IDAuMTQgMC4xMTMgMC4yOTMgMC4wNzkgMC40NThzLTAuMDcwIDAuMjg0LTAuMTA1IDAuMzU0Yy0wLjIyNyAwLjUwNi0wLjI5NyAxLjAzOS0wLjIxIDEuNTk4czAuMzQxIDEuMDQ4IDAuNzYgMS40NjdjMC40MTkgMC40MTkgMC45MzQgMC42NTEgMS41NDYgMC42OTRzMS4xNzktMC4wNTcgMS43MDMtMC4zMDFjMC4xNC0wLjA4NyAwLjMxLTAuMTIyIDAuNTExLTAuMTA1czAuMzcxIDAuMDk2IDAuNTExIDAuMjM2YzAuMjYyIDAuMjQ0IDAuNDkzIDAuNjE2IDAuNjk0IDEuMTEzczAuMzM2IDEgMC40MDYgMS41MDZjMC4wMzUgMC4yOTctMC4wMTMgMC41MjgtMC4xNDQgMC42OTRzLTAuMjY2IDAuMjc1LTAuNDA2IDAuMzI3Yy0wLjU0MiAwLjE5Mi0xLjAwNCAwLjUyOC0xLjM4OCAxLjAwOXMtMC41NzYgMS4wMjYtMC41NzYgMS42MzdjMCAwLjU5NCAwLjE2MiAxLjExMyAwLjQ4NSAxLjU1OXMwLjc0NyAwLjc2NCAxLjI3IDAuOTU2YzAuMTIyIDAuMDcwIDAuMjI3IDAuMTQgMC4zMTQgMC4yMSAwLjE5MiAwLjE1NyAwLjMyMyAwLjM1OCAwLjM5MyAwLjYwMnYwek0xNi40NTEgMTkuNDYyYzAuNzg2IDAgMS41MjgtMC4xNDkgMi4yMjctMC40NDVzMS4zMDUtMC43MDcgMS44MjEtMS4yMzFjMC41MTUtMC41MjQgMC45MjEtMS4xMzEgMS4yMTgtMS44MjFzMC40NDUtMS40MjggMC40NDUtMi4yMTRjMC0wLjc4Ni0wLjE0OC0xLjUyNC0wLjQ0NS0yLjIxNHMtMC43MDMtMS4yOTItMS4yMTgtMS44MDhjLTAuNTE1LTAuNTE1LTEuMTIyLTAuOTIxLTEuODIxLTEuMjE4cy0xLjQ0MS0wLjQ0NS0yLjIyNy0wLjQ0NWMtMC43ODYgMC0xLjUyNCAwLjE0OC0yLjIxNCAwLjQ0NXMtMS4yOTIgMC43MDMtMS44MDggMS4yMThjLTAuNTE1IDAuNTE1LTAuOTIxIDEuMTE4LTEuMjE4IDEuODA4cy0wLjQ0NSAxLjQyOC0wLjQ0NSAyLjIxNGMwIDAuNzg2IDAuMTQ5IDEuNTI0IDAuNDQ1IDIuMjE0czAuNzAzIDEuMjk3IDEuMjE4IDEuODIxYzAuNTE1IDAuNTI0IDEuMTE4IDAuOTM0IDEuODA4IDEuMjMxczEuNDI4IDAuNDQ1IDIuMjE0IDAuNDQ1djB6XCJdLHJpZ2h0OltcIjAgMCAzMiAzMlwiLFwiTTIyIDE2bC0xMC4xMDUtMTAuNi0xLjg5NSAxLjk4NyA4LjIxMSA4LjYxMy04LjIxMSA4LjYxMiAxLjg5NSAxLjk4OCA4LjIxMS04LjYxM3pcIl0sY29tbWVudDpbXCIwIDAgMzIgMzJcIixcIk0yNy4xMjggMC4zOGgtMjIuNTUzYy0yLjMzNiAwLTQuMjI5IDEuODI1LTQuMjI5IDQuMDc2djE2LjI3M2MwIDIuMjUxIDEuODkzIDQuMDc2IDQuMjI5IDQuMDc2aDQuMjI5di0yLjY4NWg4LjQwM2wtOC43ODQgOC4wNzIgMS41NjYgMS40NCA3LjQyOS02LjgyN2g5LjcxYzIuMzM1IDAgNC4yMjktMS44MjUgNC4yMjktNC4wNzZ2LTE2LjI3M2MwLTIuMjUyLTEuODk0LTQuMDc2LTQuMjI5LTQuMDc2ek0yOC41MzggMTkuNDAzYzAgMS41LTEuMjYyIDIuNzE3LTIuODE5IDIuNzE3aC04LjM2bC0wLjA3Ni0wLjA3MC0wLjA3NiAwLjA3MGgtMTEuMjIzYy0xLjU1NyAwLTIuODE5LTEuMjE3LTIuODE5LTIuNzE3di0xMy41ODljMC0xLjUwMSAxLjI2Mi0yLjcxOCAyLjgxOS0yLjcxOGgxOS43MzRjMS41NTcgMCAyLjgxOS0wLjE0MSAyLjgxOSAxLjM1OXYxNC45NDd6TTkuMjA2IDEwLjU1N2MtMS4yMjIgMC0yLjIxNSAwLjkxMS0yLjIxNSAyLjAzNnMwLjk5MiAyLjAzNSAyLjIxNSAyLjAzNWMxLjIyNCAwIDIuMjE2LTAuOTExIDIuMjE2LTIuMDM1cy0wLjk5Mi0yLjAzNi0yLjIxNi0yLjAzNnpNMjIuNDk2IDEwLjU1N2MtMS4yMjQgMC0yLjIxNSAwLjkxMS0yLjIxNSAyLjAzNnMwLjk5MSAyLjAzNSAyLjIxNSAyLjAzNWMxLjIyNCAwIDIuMjE1LTAuOTExIDIuMjE1LTIuMDM1cy0wLjk5MS0yLjAzNi0yLjIxNS0yLjAzNnpNMTUuODUyIDEwLjU1N2MtMS4yMjQgMC0yLjIxNSAwLjkxMS0yLjIxNSAyLjAzNnMwLjk5MSAyLjAzNSAyLjIxNSAyLjAzNWMxLjIyMiAwIDIuMjE1LTAuOTExIDIuMjE1LTIuMDM1cy0wLjk5Mi0yLjAzNi0yLjIxNS0yLjAzNnpcIl0sXCJjb21tZW50LW9mZlwiOltcIjAgMCAzMiAzMlwiLFwiTTI3LjA5MCAwLjEzMWgtMjIuNzMxYy0yLjM1NCAwLTQuMjYyIDEuODM5LTQuMjYyIDQuMTA5djE2LjQwMWMwIDIuMjY5IDEuOTA4IDQuMTA5IDQuMjYyIDQuMTA5aDQuMjYydi0yLjcwNmg4LjQ2OWwtOC44NTMgOC4xMzUgMS41NzkgMS40NTEgNy40ODctNi44OGg5Ljc4N2MyLjM1MyAwIDQuMjYyLTEuODQgNC4yNjItNC4xMDl2LTE2LjQwMWMwLTIuMjctMS45MDktNC4xMDktNC4yNjItNC4xMDl2MHpNMjguNTExIDE5LjMwNGMwIDEuNTEyLTEuMjcyIDIuNzM4LTIuODQxIDIuNzM4aC04LjQyNWwtMC4wNzYtMC4wNzAtMC4wNzYgMC4wNzBoLTExLjMxMWMtMS41NjkgMC0yLjg0MS0xLjIyNi0yLjg0MS0yLjczOHYtMTMuNjk2YzAtMS41MTMgMS4yNzItMi43MzkgMi44NDEtMi43MzloMTkuODg5YzEuNTY5IDAgMi44NDEtMC4xNDIgMi44NDEgMS4zN3YxNS4wNjR6XCJdLHNlbmQ6W1wiMCAwIDMyIDMyXCIsXCJNMTMuNzI1IDMwbDMuOS01LjMyNS0zLjktMS4xMjV2Ni40NXpNMCAxNy41bDExLjA1MCAzLjM1IDEzLjYtMTEuNTUtMTAuNTUgMTIuNDI1IDExLjggMy42NSA2LjEtMjMuMzc1LTMyIDE1LjV6XCJdLHBhbGxldHRlOltcIjAgMCAzMiAzMlwiLFwiTTE5LjM1NyAyLjg4YzEuNzQ5IDAgMy4zNjYgMC4zMTYgNC44NTEgMC45NDYgMS40ODUgMC42MzIgMi43NjggMS40NzQgMy44NDUgMi41MzNzMS45MjIgMi4yNzkgMi41MzIgMy42NjFjMC42MTEgMS4zODMgMC45MTUgMi44MjkgMC45MTUgNC4zMzQgMCAxLjQyNS0wLjMwNCAyLjg0Ny0wLjkxNSA0LjI3MS0wLjYxMSAxLjQyNS0xLjU4NyAyLjc2Ny0yLjkyOCA0LjAyOC0wLjg1NSAwLjgxMy0xLjgxMSAxLjYwNy0yLjg2OSAyLjM4cy0yLjEzNiAxLjQ2NS0zLjIzMyAyLjA3NWMtMS4wOTkgMC42MS0yLjE5OCAxLjA5OC0zLjI5NiAxLjQ2NS0xLjA5OCAwLjM2Ni0yLjExNSAwLjU0OS0zLjA1MSAwLjU0OS0xLjM0MyAwLTIuNDQxLTAuNDM4LTMuMjk2LTEuMzExLTAuODU0LTAuODc2LTEuMjgxLTIuNDEtMS4yODEtNC42MDggMC0wLjM2NiAwLjAyMC0wLjc3MyAwLjA2MC0xLjIyMXMwLjA2Mi0wLjg5NSAwLjA2Mi0xLjM0M2MwLTAuNzczLTAuMTgzLTEuMzUzLTAuNTUtMS43MzgtMC4zNjYtMC4zODctMC43OTMtMC41OC0xLjI4MS0wLjU4LTAuNjUyIDAtMS4yMSAwLjI5NS0xLjY3OCAwLjg4NnMtMC45MjYgMS4yMy0xLjM3MyAxLjkyMWMtMC40NDcgMC42OTMtMC45MDUgMS4zMzQtMS4zNzIgMS45MjNzLTEuMDI4IDAuODg2LTEuNjc5IDAuODg2Yy0wLjUyOSAwLTEuMDQ4LTAuNDI3LTEuNTU2LTEuMjgycy0wLjc2My0yLjI1OS0wLjc2My00LjIxMmMwLTIuMTk3IDAuNTI5LTQuMjQxIDEuNTg3LTYuMTMzczIuNDYyLTMuNTI5IDQuMjEtNC45MTJjMS43NS0xLjM4MyAzLjc2Mi0yLjQ3MSA2LjA0MS0zLjI2NCAyLjI3Ny0wLjc5NiA0LjYxNy0xLjIxMiA3LjAxOC0xLjI1M3pNNy4zMzQgMTUuODE3YzAuNTY5IDAgMS4wNDctMC4yMDQgMS40MzQtMC42MTFzMC41NzktMC44NzUgMC41NzktMS40MDRjMC0wLjU2OS0wLjE5My0xLjA0Ny0wLjU3OS0xLjQzNHMtMC44NjQtMC41NzktMS40MzQtMC41NzljLTAuNTI5IDAtMC45ODcgMC4xOTMtMS4zNzMgMC41NzlzLTAuNTggMC44NjQtMC41OCAxLjQzNGMwIDAuNTMgMC4xOTQgMC45OTggMC41OCAxLjQwNCAwLjM4OCAwLjQwNyAwLjg0NSAwLjYxMSAxLjM3MyAwLjYxMXpNMTIuMjE2IDExLjc5YzAuNjkxIDAgMS4yOTItMC4yNTQgMS44LTAuNzYzczAuNzYyLTEuMTA3IDAuNzYyLTEuOGMwLTAuNzMyLTAuMjU1LTEuMzQzLTAuNzYyLTEuODMxLTAuNTA5LTAuNDg5LTEuMTA5LTAuNzMyLTEuOC0wLjczMi0wLjczMiAwLTEuMzQyIDAuMjQ0LTEuODMxIDAuNzMyLTAuNDg4IDAuNDg4LTAuNzMyIDEuMDk4LTAuNzMyIDEuODMxIDAgMC42OTMgMC4yNDQgMS4yOTIgMC43MzIgMS44czEuMDk5IDAuNzYzIDEuODMxIDAuNzYzek0xNi4zNjYgMjUuOTQ3YzAuNjkyIDAgMS4yODItMC4yMTQgMS43Ny0wLjY0czAuNzMyLTAuOTg3IDAuNzMyLTEuNjc4LTAuMjQ0LTEuMjYxLTAuNzMyLTEuNzA5Yy0wLjQ4OS0wLjQ0OC0xLjA3OC0wLjY3MS0xLjc3LTAuNjcxLTAuNjUgMC0xLjIxIDAuMjIzLTEuNjc4IDAuNjcxcy0wLjcwMiAxLjAxOC0wLjcwMiAxLjcwOWMwIDAuNjkyIDAuMjM0IDEuMjUgMC43MDIgMS42NzhzMS4wMjcgMC42NCAxLjY3OCAwLjY0ek0xOS4xMTMgOS41OTJjMC42NTEgMCAxLjEyOS0wLjIwMyAxLjQzMy0wLjYxMSAwLjMwNS0wLjQwNiAwLjQ1OS0wLjg3NCAwLjQ1OS0xLjQwNCAwLTAuNDg4LTAuMTU0LTAuOTQ3LTAuNDU5LTEuMzczLTAuMzA0LTAuNDI3LTAuNzgyLTAuNjQxLTEuNDMzLTAuNjQxLTAuNTI5IDAtMS4wMDggMC4xOTMtMS40MzQgMC41OHMtMC42NCAwLjg2NS0wLjY0IDEuNDM0YzAgMC41NzEgMC4yMTMgMS4wNDkgMC42NCAxLjQzNCAwLjQyNyAwLjM4OSAwLjkwNSAwLjU4MSAxLjQzNCAwLjU4MXpNMjQuODQ4IDEyLjgyNmMwLjU3IDAgMS4wNjctMC4yMTMgMS40OTUtMC42NCAwLjQyNy0wLjQyNyAwLjY0LTAuOTQ3IDAuNjQtMS41NTYgMC0wLjU3LTAuMjE0LTEuMDY4LTAuNjQtMS40OTUtMC40MjgtMC40MjctMC45MjctMC42NC0xLjQ5NS0wLjY0LTAuNjExIDAtMS4xMjkgMC4yMTMtMS41NTUgMC42NC0wLjQyOCAwLjQyNy0wLjY0MiAwLjkyNi0wLjY0MiAxLjQ5NSAwIDAuNjExIDAuMjEzIDEuMTI5IDAuNjQyIDEuNTU2czAuOTQ3IDAuNjQgMS41NTUgMC42NHpcIl0sY2FtZXJhOltcIjAgMCAzMiAzMlwiLFwiTTE2IDIzYy0zLjMwOSAwLTYtMi42OTEtNi02czIuNjkxLTYgNi02IDYgMi42OTEgNiA2LTIuNjkxIDYtNiA2ek0xNiAxM2MtMi4yMDYgMC00IDEuNzk0LTQgNHMxLjc5NCA0IDQgNGMyLjIwNiAwIDQtMS43OTQgNC00cy0xLjc5NC00LTQtNHpNMjcgMjhoLTIyYy0xLjY1NCAwLTMtMS4zNDYtMy0zdi0xNmMwLTEuNjU0IDEuMzQ2LTMgMy0zaDNjMC41NTIgMCAxIDAuNDQ4IDEgMXMtMC40NDggMS0xIDFoLTNjLTAuNTUxIDAtMSAwLjQ0OS0xIDF2MTZjMCAwLjU1MiAwLjQ0OSAxIDEgMWgyMmMwLjU1MiAwIDEtMC40NDggMS0xdi0xNmMwLTAuNTUxLTAuNDQ4LTEtMS0xaC0xMWMtMC41NTIgMC0xLTAuNDQ4LTEtMXMwLjQ0OC0xIDEtMWgxMWMxLjY1NCAwIDMgMS4zNDYgMyAzdjE2YzAgMS42NTQtMS4zNDYgMy0zIDN6TTI0IDEwLjVjMCAwLjgyOCAwLjY3MiAxLjUgMS41IDEuNXMxLjUtMC42NzIgMS41LTEuNWMwLTAuODI4LTAuNjcyLTEuNS0xLjUtMS41cy0xLjUgMC42NzItMS41IDEuNXpNMTUgNGMwIDAuNTUyLTAuNDQ4IDEtMSAxaC00Yy0wLjU1MiAwLTEtMC40NDgtMS0xdjBjMC0wLjU1MiAwLjQ0OC0xIDEtMWg0YzAuNTUyIDAgMSAwLjQ0OCAxIDF2MHpcIl0sc3VidGl0bGU6W1wiMCAwIDMyIDMyXCIsXCJNMjYuNjY3IDUuMzMzaC0yMS4zMzNjLTAgMC0wLjAwMSAwLTAuMDAxIDAtMS40NzIgMC0yLjY2NiAxLjE5NC0yLjY2NiAyLjY2NiAwIDAgMCAwLjAwMSAwIDAuMDAxdi0wIDE2YzAgMCAwIDAuMDAxIDAgMC4wMDEgMCAxLjQ3MiAxLjE5NCAyLjY2NiAyLjY2NiAyLjY2NiAwIDAgMC4wMDEgMCAwLjAwMSAwaDIxLjMzM2MwIDAgMC4wMDEgMCAwLjAwMSAwIDEuNDcyIDAgMi42NjYtMS4xOTQgMi42NjYtMi42NjYgMC0wIDAtMC4wMDEgMC0wLjAwMXYwLTE2YzAtMCAwLTAuMDAxIDAtMC4wMDEgMC0xLjQ3Mi0xLjE5NC0yLjY2Ni0yLjY2Ni0yLjY2Ni0wIDAtMC4wMDEgMC0wLjAwMSAwaDB6TTUuMzMzIDE2aDUuMzMzdjIuNjY3aC01LjMzM3YtMi42Njd6TTE4LjY2NyAyNGgtMTMuMzMzdi0yLjY2N2gxMy4zMzN2Mi42Njd6TTI2LjY2NyAyNGgtNS4zMzN2LTIuNjY3aDUuMzMzdjIuNjY3ek0yNi42NjcgMTguNjY3aC0xMy4zMzN2LTIuNjY3aDEzLjMzM3YyLjY2N3pcIl19LGljb25zQ29sb3I6XCIjZmZmZmZmXCIsY29udGV4dG1lbnU6W10sbXV0ZXg6ITB9O2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJiFlLmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKTtyZXR1cm4gZS52aWRlbyYmIWUudmlkZW8udHlwZSYmKGUudmlkZW8udHlwZT1cImF1dG9cIiksXCJvYmplY3RcIj09PWEoZS5kYW5tYWt1KSYmZS5kYW5tYWt1JiYhZS5kYW5tYWt1LnVzZXImJihlLmRhbm1ha3UudXNlcj1cIkRJWWdvZFwiKSxlLnN1YnRpdGxlJiYoIWUuc3VidGl0bGUudHlwZSYmKGUuc3VidGl0bGUudHlwZT1cIndlYnZ0dFwiKSwhZS5zdWJ0aXRsZS5mb250U2l6ZSYmKGUuc3VidGl0bGUuZm9udFNpemU9XCIyMHB4XCIpLCFlLnN1YnRpdGxlLmJvdHRvbSYmKGUuc3VidGl0bGUuYm90dG9tPVwiNDBweFwiKSwhZS5zdWJ0aXRsZS5jb2xvciYmKGUuc3VidGl0bGUuY29sb3I9XCIjZmZmXCIpKSxlLnZpZGVvLnF1YWxpdHkmJihlLnZpZGVvLnVybD1bZS52aWRlby5xdWFsaXR5W2UudmlkZW8uZGVmYXVsdFF1YWxpdHldLnVybF0pLGUubGFuZyYmKGUubGFuZz1lLmxhbmcudG9Mb3dlckNhc2UoKSksZS5pY29ucyYmKGUuaWNvbnM9KDAscy5kZWZhdWx0KSh7fSx0Lmljb25zLGUuaWNvbnMpKSxlLmNvbnRleHRtZW51PWUuY29udGV4dG1lbnUuY29uY2F0KFt7dGV4dDpcIkFib3V0IGF1dGhvclwiLGxpbms6XCJodHRwczovL2RpeWdvZC5tZVwifSx7dGV4dDpcIkFib3V0IERQbGF5ZXJcIixsaW5rOlwiaHR0cHM6Ly9naXRodWIuY29tL01vZVBsYXllci9EUGxheWVyXCJ9LHt0ZXh0OlwiRFBsYXllciBmZWVkYmFja1wiLGxpbms6XCJodHRwczovL2dpdGh1Yi5jb20vRElZZ29kL0RQbGF5ZXIvaXNzdWVzXCJ9LHt0ZXh0OlwiRFBsYXllciAxLjIxLjAgOGU2OWFkYVwiLGxpbms6XCJodHRwczovL2dpdGh1Yi5jb20vTW9lUGxheWVyL0RQbGF5ZXIvcmVsZWFzZXNcIn1dKSxlfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSl7aWYobnVsbD09PWV8fHZvaWQgMD09PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBPYmplY3QoZSl9dmFyIGE9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxvPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkscz1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO2UuZXhwb3J0cz1mdW5jdGlvbigpe3RyeXtpZighT2JqZWN0LmFzc2lnbilyZXR1cm4hMTt2YXIgZT1uZXcgU3RyaW5nKFwiYWJjXCIpO2lmKGVbNV09XCJkZVwiLFwiNVwiPT09T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSlbMF0pcmV0dXJuITE7Zm9yKHZhciB0PXt9LG49MDtuPDEwO24rKyl0W1wiX1wiK1N0cmluZy5mcm9tQ2hhckNvZGUobildPW47aWYoXCIwMTIzNDU2Nzg5XCIhPT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19KS5qb2luKFwiXCIpKXJldHVybiExO3ZhciBpPXt9O3JldHVyblwiYWJjZGVmZ2hpamtsbW5vcHFyc3RcIi5zcGxpdChcIlwiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lbZV09ZX0pLFwiYWJjZGVmZ2hpamtsbW5vcHFyc3RcIj09PU9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30saSkpLmpvaW4oXCJcIil9Y2F0Y2goZSl7cmV0dXJuITF9fSgpP09iamVjdC5hc3NpZ246ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scixsPWkoZSksYz0xO2M8YXJndW1lbnRzLmxlbmd0aDtjKyspe249T2JqZWN0KGFyZ3VtZW50c1tjXSk7Zm9yKHZhciB1IGluIG4pby5jYWxsKG4sdSkmJihsW3VdPW5bdV0pO2lmKGEpe3I9YShuKTtmb3IodmFyIGQ9MDtkPHIubGVuZ3RoO2QrKylzLmNhbGwobixyW2RdKSYmKGxbcltkXV09bltyW2RdXSl9fXJldHVybiBsfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKGUsdCxuLGksYSl7dmFyIG89bmV3IFhNTEh0dHBSZXF1ZXN0O28ub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09PW8ucmVhZHlTdGF0ZSl7aWYoby5zdGF0dXM+PTIwMCYmby5zdGF0dXM8MzAwfHwzMDQ9PT1vLnN0YXR1cyl7dmFyIGU9SlNPTi5wYXJzZShvLnJlc3BvbnNlVGV4dCk7cmV0dXJuIDAhPT1lLmNvZGU/aShvLGUpOm4obyxlKX1hKG8pfX0sby5vcGVuKG51bGwhPT10P1wiUE9TVFwiOlwiR0VUXCIsZSwhMCksby5zZW5kKG51bGwhPT10P0pTT04uc3RyaW5naWZ5KHQpOm51bGwpfTt0LmRlZmF1bHQ9e3NlbmQ6ZnVuY3Rpb24oZSx0LG4pe2koZSx0LGZ1bmN0aW9uKGUsdCl7Y29uc29sZS5sb2coXCJQb3N0IGRhbm1ha3U6IFwiLHQpLG4mJm4oKX0sZnVuY3Rpb24oZSx0KXthbGVydCh0Lm1zZyl9LGZ1bmN0aW9uKGUpe2NvbnNvbGUubG9nKFwiUmVxdWVzdCB3YXMgdW5zdWNjZXNzZnVsOiBcIitlLnN0YXR1cyl9KX0scmVhZDpmdW5jdGlvbihlLHQpe2koZSxudWxsLGZ1bmN0aW9uKGUsbil7dChudWxsLG4uZGFubWFrdSl9LGZ1bmN0aW9uKGUsbil7dCh7c3RhdHVzOmUuc3RhdHVzLHJlc3BvbnNlOm59KX0sZnVuY3Rpb24oZSl7dCh7c3RhdHVzOmUuc3RhdHVzLHJlc3BvbnNlOm51bGx9KX0pfX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUpe3ZhciB0PXRoaXM7dGhpcy5sYW5nPWUsdGhpcy50cmFuPWZ1bmN0aW9uKGUpe3JldHVybiBhW3QubGFuZ10mJmFbdC5sYW5nXVtlXT9hW3QubGFuZ11bZV06ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9e1wiemgtY25cIjp7XCJEYW5tYWt1IGlzIGxvYWRpbmdcIjpcIlxcdTVmMzlcXHU1ZTU1XFx1NTJhMFxcdThmN2RcXHU0ZTJkXCIsVG9wOlwiXFx1OTg3NlxcdTkwZThcIixCb3R0b206XCJcXHU1ZTk1XFx1OTBlOFwiLFJvbGxpbmc6XCJcXHU2ZWRhXFx1NTJhOFwiLFwiSW5wdXQgZGFubWFrdSwgaGl0IEVudGVyXCI6XCJcXHU4ZjkzXFx1NTE2NVxcdTVmMzlcXHU1ZTU1XFx1ZmYwY1xcdTU2ZGVcXHU4ZjY2XFx1NTNkMVxcdTkwMDFcIixcIkFib3V0IGF1dGhvclwiOlwiXFx1NTE3M1xcdTRlOGVcXHU0ZjVjXFx1ODAwNVwiLFwiRFBsYXllciBmZWVkYmFja1wiOlwiXFx1NjRhZFxcdTY1M2VcXHU1NjY4XFx1NjEwZlxcdTg5YzFcXHU1M2NkXFx1OTk4OFwiLFwiQWJvdXQgRFBsYXllclwiOlwiXFx1NTE3M1xcdTRlOGUgRFBsYXllciBcXHU2NGFkXFx1NjUzZVxcdTU2NjhcIixMb29wOlwiXFx1NmQxN1xcdTgxMTFcXHU1ZmFhXFx1NzNhZlwiLFNwZWVkOlwiXFx1OTAxZlxcdTVlYTZcIixcIk9wYWNpdHkgZm9yIGRhbm1ha3VcIjpcIlxcdTVmMzlcXHU1ZTU1XFx1OTAwZlxcdTY2MGVcXHU1ZWE2XCIsTm9ybWFsOlwiXFx1NmI2M1xcdTVlMzhcIixcIlBsZWFzZSBpbnB1dCBkYW5tYWt1IGNvbnRlbnQhXCI6XCJcXHU4OTgxXFx1OGY5M1xcdTUxNjVcXHU1ZjM5XFx1NWU1NVxcdTUxODVcXHU1YmI5XFx1NTU0YVxcdTU1ODJcXHVmZjAxXCIsXCJTZXQgZGFubWFrdSBjb2xvclwiOlwiXFx1OGJiZVxcdTdmNmVcXHU1ZjM5XFx1NWU1NVxcdTk4OWNcXHU4MjcyXCIsXCJTZXQgZGFubWFrdSB0eXBlXCI6XCJcXHU4YmJlXFx1N2Y2ZVxcdTVmMzlcXHU1ZTU1XFx1N2M3YlxcdTU3OGJcIixcIlNob3cgZGFubWFrdVwiOlwiXFx1NjYzZVxcdTc5M2FcXHU1ZjM5XFx1NWU1NVwiLFwiVGhpcyB2aWRlbyBmYWlscyB0byBsb2FkXCI6XCJcXHU4OWM2XFx1OTg5MVxcdTUyYTBcXHU4ZjdkXFx1NTkzMVxcdThkMjVcIixcIlN3aXRjaGluZyB0b1wiOlwiXFx1NmI2M1xcdTU3MjhcXHU1MjA3XFx1NjM2MlxcdTgxZjNcIixcIlN3aXRjaGVkIHRvXCI6XCJcXHU1ZGYyXFx1N2VjZlxcdTUyMDdcXHU2MzYyXFx1ODFmM1wiLHF1YWxpdHk6XCJcXHU3NTNiXFx1OGQyOFwiLEZGOlwiXFx1NWZlYlxcdThmZGJcIixSRVc6XCJcXHU1ZmViXFx1OTAwMFwiLFwiVW5saW1pdGVkIGRhbm1ha3VcIjpcIlxcdTZkNzdcXHU5MWNmXFx1NWYzOVxcdTVlNTVcIixcIlNlbmQgZGFubWFrdVwiOlwiXFx1NTNkMVxcdTkwMDFcXHU1ZjM5XFx1NWU1NVwiLFNldHRpbmc6XCJcXHU4YmJlXFx1N2Y2ZVwiLFwiRnVsbCBzY3JlZW5cIjpcIlxcdTUxNjhcXHU1YzRmXCIsXCJXZWIgZnVsbCBzY3JlZW5cIjpcIlxcdTk4NzVcXHU5NzYyXFx1NTE2OFxcdTVjNGZcIixTZW5kOlwiXFx1NTNkMVxcdTkwMDFcIixTY3JlZW5zaG90OlwiXFx1NjIyYVxcdTU2ZmVcIixzOlwiXFx1NzlkMlwiLFwiU2hvdyBzdWJ0aXRsZVwiOlwiXFx1NjYzZVxcdTc5M2FcXHU1YjU3XFx1NWU1NVwiLFwiSGlkZSBzdWJ0aXRsZVwiOlwiXFx1OTY5MFxcdTg1Y2ZcXHU1YjU3XFx1NWU1NVwiLFZvbHVtZTpcIlxcdTk3ZjNcXHU5MWNmXCIsTGl2ZTpcIlxcdTc2ZjRcXHU2NGFkXCJ9LFwiemgtdHdcIjp7XCJEYW5tYWt1IGlzIGxvYWRpbmdcIjpcIlxcdTVmNDhcXHU1ZTU1XFx1NTJhMFxcdThmMDlcXHU0ZTJkXCIsVG9wOlwiXFx1OTgwMlxcdTkwZThcIixCb3R0b206XCJcXHU1ZTk1XFx1OTBlOFwiLFJvbGxpbmc6XCJcXHU2ZWZlXFx1NTJkNVwiLFwiSW5wdXQgZGFubWFrdSwgaGl0IEVudGVyXCI6XCJcXHU4ZjM4XFx1NTE2NVxcdTVmNDhcXHU1ZTU1XFx1ZmYwY0VudGVyIFxcdTc2N2NcXHU5MDAxXCIsXCJBYm91dCBhdXRob3JcIjpcIlxcdTk1ZGNcXHU2NWJjXFx1NGY1Y1xcdTgwMDVcIixcIkRQbGF5ZXIgZmVlZGJhY2tcIjpcIlxcdTY0YWRcXHU2NTNlXFx1NTY2OFxcdTYxMGZcXHU4OThiXFx1NTNjZFxcdTk5NGJcIixcIkFib3V0IERQbGF5ZXJcIjpcIlxcdTk1ZGNcXHU2NWJjIERQbGF5ZXIgXFx1NjRhZFxcdTY1M2VcXHU1NjY4XCIsTG9vcDpcIlxcdTVmYWFcXHU3NGIwXFx1NjRhZFxcdTY1M2VcIixTcGVlZDpcIlxcdTkwMWZcXHU1ZWE2XCIsXCJPcGFjaXR5IGZvciBkYW5tYWt1XCI6XCJcXHU1ZjQ4XFx1NWU1NVxcdTkwMGZcXHU2NjBlXFx1NWVhNlwiLE5vcm1hbDpcIlxcdTZiNjNcXHU1ZTM4XCIsXCJQbGVhc2UgaW5wdXQgZGFubWFrdSBjb250ZW50IVwiOlwiXFx1OGFjYlxcdThmMzhcXHU1MTY1XFx1NWY0OFxcdTVlNTVcXHU1MTg1XFx1NWJiOVxcdTU1NGFcXHVmZjAxXCIsXCJTZXQgZGFubWFrdSBjb2xvclwiOlwiXFx1OGEyZFxcdTdmNmVcXHU1ZjQ4XFx1NWU1NVxcdTk4NGZcXHU4MjcyXCIsXCJTZXQgZGFubWFrdSB0eXBlXCI6XCJcXHU4YTJkXFx1N2Y2ZVxcdTVmNDhcXHU1ZTU1XFx1OTg1ZVxcdTU3OGJcIixcIlNob3cgZGFubWFrdVwiOlwiXFx1OTg2ZlxcdTc5M2FcXHU1ZjQ4XFx1NWU1NVwiLFwiVGhpcyB2aWRlbyBmYWlscyB0byBsb2FkXCI6XCJcXHU4OTk2XFx1OTgzYlxcdTUyYTBcXHU4ZjA5XFx1NTkzMVxcdTY1NTdcIixcIlN3aXRjaGluZyB0b1wiOlwiXFx1NmI2M1xcdTU3MjhcXHU1MjA3XFx1NjNkYlxcdTgxZjNcIixcIlN3aXRjaGVkIHRvXCI6XCJcXHU1ZGYyXFx1N2Q5M1xcdTUyMDdcXHU2M2RiXFx1ODFmM1wiLHF1YWxpdHk6XCJcXHU3NTZiXFx1OGNlYVwiLEZGOlwiXFx1NWZlYlxcdTkwMzJcIixSRVc6XCJcXHU1ZmViXFx1OTAwMFwiLFwiVW5saW1pdGVkIGRhbm1ha3VcIjpcIlxcdTZkNzdcXHU5MWNmXFx1NWY0OFxcdTVlNTVcIixcIlNlbmQgZGFubWFrdVwiOlwiXFx1NzY3Y1xcdTkwMDFcXHU1ZjQ4XFx1NWU1NVwiLFNldHRpbmc6XCJcXHU4YTJkXFx1N2Y2ZVwiLFwiRnVsbCBzY3JlZW5cIjpcIlxcdTUxNjhcXHU1YzRmXCIsXCJXZWIgZnVsbCBzY3JlZW5cIjpcIlxcdTk4MDFcXHU5NzYyXFx1NTE2OFxcdTVjNGZcIixTZW5kOlwiXFx1NzY3Y1xcdTkwMDFcIixTY3JlZW5zaG90OlwiXFx1NjIyYVxcdTU3MTZcIixzOlwiXFx1NzlkMlwiLFwiU2hvdyBzdWJ0aXRsZVwiOlwiXFx1OTg2ZlxcdTc5M2FcXHU1YjU3XFx1NWU1NVwiLFwiSGlkZSBzdWJ0aXRsZVwiOlwiXFx1OTZiMVxcdTg1Y2ZcXHU1YjU3XFx1NWU1NVwiLFZvbHVtZTpcIlxcdTk3ZjNcXHU5MWNmXCIsTGl2ZTpcIlxcdTc2ZjRcXHU2NGFkXCJ9fTt0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7aSh0aGlzLGUpLHRoaXMuY29udGFpbmVyPXQuY29udGFpbmVyLHRoaXMub3B0aW9ucz10Lm9wdGlvbnMsdGhpcy5pbmRleD10LmluZGV4LHRoaXMudHJhbj10LnRyYW4sdGhpcy5pY29ucz10Lmljb25zLHRoaXMuaW5pdCgpfXJldHVybiBhKGUsW3trZXk6XCJpbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNvbnRhaW5lci5pbm5lckhUTUw9dGhpcy50cGwodGhpcy5vcHRpb25zLHRoaXMuaW5kZXgsdGhpcy50cmFuLHRoaXMuaWNvbnMpLHRoaXMudm9sdW1lQmFyPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci12b2x1bWUtYmFyLWlubmVyXCIpLHRoaXMudm9sdW1lQmFyV3JhcD10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItdm9sdW1lLWJhclwiKSx0aGlzLnZvbHVtZUJhcldyYXBXcmFwPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci12b2x1bWUtYmFyLXdyYXBcIiksdGhpcy52b2x1bWVCdXR0b249dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXZvbHVtZVwiKSx0aGlzLnZvbHVtZUljb249dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXZvbHVtZS1pY29uIC5kcGxheWVyLWljb24tY29udGVudFwiKSx0aGlzLnBsYXllZEJhcj10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItcGxheWVkXCIpLHRoaXMubG9hZGVkQmFyPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1sb2FkZWRcIiksdGhpcy5wbGF5ZWRCYXJXcmFwPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1iYXItd3JhcFwiKSx0aGlzLnBsYXllZEJhclRpbWU9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWJhci10aW1lXCIpLHRoaXMuZGFubWFrdT10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItZGFubWFrdVwiKSx0aGlzLmRhbm1ha3VMb2FkaW5nPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1kYW5sb2FkaW5nXCIpLHRoaXMudmlkZW89dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXZpZGVvLWN1cnJlbnRcIiksdGhpcy5iZXplbD10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItYmV6ZWwtaWNvblwiKSx0aGlzLnBsYXlCdXR0b249dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXBsYXktaWNvblwiKSx0aGlzLnZpZGVvV3JhcD10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItdmlkZW8td3JhcFwiKSx0aGlzLmNvbnRyb2xsZXJNYXNrPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1jb250cm9sbGVyLW1hc2tcIiksdGhpcy5wdGltZT10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItcHRpbWVcIiksdGhpcy5zZXR0aW5nQnV0dG9uPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1zZXR0aW5nLWljb25cIiksdGhpcy5zZXR0aW5nQm94PXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1zZXR0aW5nLWJveFwiKSx0aGlzLm1hc2s9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLW1hc2tcIiksdGhpcy5sb29wPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1zZXR0aW5nLWxvb3BcIiksdGhpcy5sb29wVG9nZ2xlPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1zZXR0aW5nLWxvb3AgLmRwbGF5ZXItdG9nZ2xlLXNldHRpbmctaW5wdXRcIiksdGhpcy5zaG93RGFubWFrdT10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItc2V0dGluZy1zaG93ZGFuXCIpLHRoaXMuc2hvd0Rhbm1ha3VUb2dnbGU9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXNob3dkYW4tc2V0dGluZy1pbnB1dFwiKSx0aGlzLnVubGltaXREYW5tYWt1PXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1zZXR0aW5nLWRhbnVubGltaXRcIiksdGhpcy51bmxpbWl0RGFubWFrdVRvZ2dsZT10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItZGFudW5saW1pdC1zZXR0aW5nLWlucHV0XCIpLHRoaXMuc3BlZWQ9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXNldHRpbmctc3BlZWRcIiksdGhpcy5zcGVlZEl0ZW09dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbChcIi5kcGxheWVyLXNldHRpbmctc3BlZWQtaXRlbVwiKSx0aGlzLmRhbm1ha3VPcGFjaXR5QmFyPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1kYW5tYWt1LWJhci1pbm5lclwiKSx0aGlzLmRhbm1ha3VPcGFjaXR5QmFyV3JhcD10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItZGFubWFrdS1iYXJcIiksdGhpcy5kYW5tYWt1T3BhY2l0eUJhcldyYXBXcmFwPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1kYW5tYWt1LWJhci13cmFwXCIpLHRoaXMuZGFubWFrdU9wYWNpdHlCb3g9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXNldHRpbmctZGFubWFrdVwiKSx0aGlzLmR0aW1lPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1kdGltZVwiKSx0aGlzLmNvbnRyb2xsZXI9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWNvbnRyb2xsZXJcIiksdGhpcy5jb21tZW50SW5wdXQ9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWNvbW1lbnQtaW5wdXRcIiksdGhpcy5jb21tZW50QnV0dG9uPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1jb21tZW50LWljb25cIiksdGhpcy5jb21tZW50U2V0dGluZ0JveD10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItY29tbWVudC1zZXR0aW5nLWJveFwiKSx0aGlzLmNvbW1lbnRTZXR0aW5nQnV0dG9uPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1jb21tZW50LXNldHRpbmctaWNvblwiKSx0aGlzLmNvbW1lbnRTZXR0aW5nRmlsbD10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItY29tbWVudC1zZXR0aW5nLWljb24gLmRwbGF5ZXItZmlsbFwiKSx0aGlzLmNvbW1lbnRTZW5kQnV0dG9uPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1zZW5kLWljb25cIiksdGhpcy5jb21tZW50U2VuZEZpbGw9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXNlbmQtaWNvbiAuZHBsYXllci1maWxsXCIpLHRoaXMuY29tbWVudENvbG9yU2V0dGluZ0JveD10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItY29tbWVudC1zZXR0aW5nLWNvbG9yXCIpLHRoaXMuYnJvd3NlckZ1bGxCdXR0b249dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWZ1bGwtaWNvblwiKSx0aGlzLndlYkZ1bGxCdXR0b249dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWZ1bGwtaW4taWNvblwiKSx0aGlzLm1lbnU9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLW1lbnVcIiksdGhpcy5xdWFsaXR5TGlzdD10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItcXVhbGl0eS1saXN0XCIpLHRoaXMuY2FtYXJlQnV0dG9uPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1jYW1lcmEtaWNvblwiKSx0aGlzLnN1YnRpdGxlQnV0dG9uPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1zdWJ0aXRsZS1pY29uXCIpLHRoaXMuc3VidGl0bGVCdXR0b25Jbm5lcj10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItc3VidGl0bGUtaWNvbiAuZHBsYXllci1pY29uLWNvbnRlbnRcIiksdGhpcy5zdWJ0aXRsZT10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItc3VidGl0bGVcIiksdGhpcy5xdWFsaXR5QnV0dG9uPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1xdWFsaXR5LWljb25cIiksdGhpcy5iYXJQcmV2aWV3PXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1iYXItcHJldmlld1wiKSx0aGlzLmJhcldyYXA9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWJhci13cmFwXCIpLHRoaXMubm90aWNlPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1ub3RpY2VcIil9fSx7a2V5OlwidHBsXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuJzxkaXYgY2xhc3M9XCJkcGxheWVyLW1hc2tcIj48L2Rpdj48ZGl2IGNsYXNzPVwiZHBsYXllci12aWRlby13cmFwXCI+Jyt0aGlzLnRwbFZpZGVvKCEwLGUudmlkZW8ucGljLGUuc2NyZWVuc2hvdCxlLnByZWxvYWQsZS52aWRlby51cmwsZS5zdWJ0aXRsZSkrKGUubG9nbz8nPGRpdiBjbGFzcz1cImRwbGF5ZXItbG9nb1wiPjxpbWcgc3JjPVwiJytlLmxvZ28rJ1wiPjwvZGl2Pic6XCJcIikrJzxkaXYgY2xhc3M9XCJkcGxheWVyLWRhbm1ha3VcIiBzdHlsZT1cIicrKGUuZGFubWFrdT90aGlzLnRwbERhbm1ha3VtYXJnaW4oZS5kYW5tYWt1Lm1hcmdpbik6XCJcIikrJ1wiPjxkaXYgY2xhc3M9XCJkcGxheWVyLWRhbm1ha3UtaXRlbSBkcGxheWVyLWRhbm1ha3UtaXRlbS0tZGVtb1wiPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJkcGxheWVyLXN1YnRpdGxlXCI+PC9kaXY+PGRpdiBjbGFzcz1cImRwbGF5ZXItYmV6ZWxcIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItYmV6ZWwtaWNvblwiPjwvc3Bhbj4nKyhlLmRhbm1ha3U/JzxzcGFuIGNsYXNzPVwiZHBsYXllci1kYW5sb2FkaW5nXCI+JytuKFwiRGFubWFrdSBpcyBsb2FkaW5nXCIpK1wiPC9zcGFuPlwiOlwiXCIpKyc8c3BhbiBjbGFzcz1cImRpcGxheWVyLWxvYWRpbmctaWNvblwiPjxzdmcgaGVpZ2h0PVwiMTAwJVwiIHZlcnNpb249XCIxLjFcIiB2aWV3Qm94PVwiMCAwIDIyIDIyXCIgd2lkdGg9XCIxMDAlXCI+PHN2ZyB4PVwiN1wiIHk9XCIxXCI+PGNpcmNsZSBjbGFzcz1cImRpcGxheWVyLWxvYWRpbmctZG90IGRpcGxheWVyLWxvYWRpbmctZG90LTBcIiBjeD1cIjRcIiBjeT1cIjRcIiByPVwiMlwiPjwvY2lyY2xlPjwvc3ZnPjxzdmcgeD1cIjExXCIgeT1cIjNcIj48Y2lyY2xlIGNsYXNzPVwiZGlwbGF5ZXItbG9hZGluZy1kb3QgZGlwbGF5ZXItbG9hZGluZy1kb3QtMVwiIGN4PVwiNFwiIGN5PVwiNFwiIHI9XCIyXCI+PC9jaXJjbGU+PC9zdmc+PHN2ZyB4PVwiMTNcIiB5PVwiN1wiPjxjaXJjbGUgY2xhc3M9XCJkaXBsYXllci1sb2FkaW5nLWRvdCBkaXBsYXllci1sb2FkaW5nLWRvdC0yXCIgY3g9XCI0XCIgY3k9XCI0XCIgcj1cIjJcIj48L2NpcmNsZT48L3N2Zz48c3ZnIHg9XCIxMVwiIHk9XCIxMVwiPjxjaXJjbGUgY2xhc3M9XCJkaXBsYXllci1sb2FkaW5nLWRvdCBkaXBsYXllci1sb2FkaW5nLWRvdC0zXCIgY3g9XCI0XCIgY3k9XCI0XCIgcj1cIjJcIj48L2NpcmNsZT48L3N2Zz48c3ZnIHg9XCI3XCIgeT1cIjEzXCI+PGNpcmNsZSBjbGFzcz1cImRpcGxheWVyLWxvYWRpbmctZG90IGRpcGxheWVyLWxvYWRpbmctZG90LTRcIiBjeD1cIjRcIiBjeT1cIjRcIiByPVwiMlwiPjwvY2lyY2xlPjwvc3ZnPjxzdmcgeD1cIjNcIiB5PVwiMTFcIj48Y2lyY2xlIGNsYXNzPVwiZGlwbGF5ZXItbG9hZGluZy1kb3QgZGlwbGF5ZXItbG9hZGluZy1kb3QtNVwiIGN4PVwiNFwiIGN5PVwiNFwiIHI9XCIyXCI+PC9jaXJjbGU+PC9zdmc+PHN2ZyB4PVwiMVwiIHk9XCI3XCI+PGNpcmNsZSBjbGFzcz1cImRpcGxheWVyLWxvYWRpbmctZG90IGRpcGxheWVyLWxvYWRpbmctZG90LTZcIiBjeD1cIjRcIiBjeT1cIjRcIiByPVwiMlwiPjwvY2lyY2xlPjwvc3ZnPjxzdmcgeD1cIjNcIiB5PVwiM1wiPjxjaXJjbGUgY2xhc3M9XCJkaXBsYXllci1sb2FkaW5nLWRvdCBkaXBsYXllci1sb2FkaW5nLWRvdC03XCIgY3g9XCI0XCIgY3k9XCI0XCIgcj1cIjJcIj48L2NpcmNsZT48L3N2Zz48L3N2Zz48L3NwYW4+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cImRwbGF5ZXItY29udHJvbGxlci1tYXNrXCI+PC9kaXY+PGRpdiBjbGFzcz1cImRwbGF5ZXItY29udHJvbGxlclwiPjxkaXYgY2xhc3M9XCJkcGxheWVyLWljb25zIGRwbGF5ZXItY29tbWVudC1ib3hcIj48YnV0dG9uIGNsYXNzPVwiZHBsYXllci1pY29uIGRwbGF5ZXItY29tbWVudC1zZXR0aW5nLWljb25cIiBkYXRhLWJhbGxvb249XCInK24oXCJTZXR0aW5nXCIpKydcIiBkYXRhLWJhbGxvb24tcG9zPVwidXBcIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItaWNvbi1jb250ZW50XCI+JytpLmdldChcInBhbGxldHRlXCIpKyc8L3NwYW4+PC9idXR0b24+PGRpdiBjbGFzcz1cImRwbGF5ZXItY29tbWVudC1zZXR0aW5nLWJveFwiPjxkaXYgY2xhc3M9XCJkcGxheWVyLWNvbW1lbnQtc2V0dGluZy1jb2xvclwiPjxkaXYgY2xhc3M9XCJkcGxheWVyLWNvbW1lbnQtc2V0dGluZy10aXRsZVwiPicrbihcIlNldCBkYW5tYWt1IGNvbG9yXCIpKyc8L2Rpdj48bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJkcGxheWVyLWRhbm1ha3UtY29sb3ItJyt0KydcIiB2YWx1ZT1cIiNmZmZcIiBjaGVja2VkPjxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZDogI2ZmZjtcIj48L3NwYW4+PC9sYWJlbD48bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJkcGxheWVyLWRhbm1ha3UtY29sb3ItJyt0KydcIiB2YWx1ZT1cIiNlNTQyNTZcIj48c3BhbiBzdHlsZT1cImJhY2tncm91bmQ6ICNlNTQyNTZcIj48L3NwYW4+PC9sYWJlbD48bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJkcGxheWVyLWRhbm1ha3UtY29sb3ItJyt0KydcIiB2YWx1ZT1cIiNmZmUxMzNcIj48c3BhbiBzdHlsZT1cImJhY2tncm91bmQ6ICNmZmUxMzNcIj48L3NwYW4+PC9sYWJlbD48bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJkcGxheWVyLWRhbm1ha3UtY29sb3ItJyt0KydcIiB2YWx1ZT1cIiM2NEREMTdcIj48c3BhbiBzdHlsZT1cImJhY2tncm91bmQ6ICM2NEREMTdcIj48L3NwYW4+PC9sYWJlbD48bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJkcGxheWVyLWRhbm1ha3UtY29sb3ItJyt0KydcIiB2YWx1ZT1cIiMzOWNjZmZcIj48c3BhbiBzdHlsZT1cImJhY2tncm91bmQ6ICMzOWNjZmZcIj48L3NwYW4+PC9sYWJlbD48bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJkcGxheWVyLWRhbm1ha3UtY29sb3ItJyt0KydcIiB2YWx1ZT1cIiNENTAwRjlcIj48c3BhbiBzdHlsZT1cImJhY2tncm91bmQ6ICNENTAwRjlcIj48L3NwYW4+PC9sYWJlbD48L2Rpdj48ZGl2IGNsYXNzPVwiZHBsYXllci1jb21tZW50LXNldHRpbmctdHlwZVwiPjxkaXYgY2xhc3M9XCJkcGxheWVyLWNvbW1lbnQtc2V0dGluZy10aXRsZVwiPicrbihcIlNldCBkYW5tYWt1IHR5cGVcIikrJzwvZGl2PjxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImRwbGF5ZXItZGFubWFrdS10eXBlLScrdCsnXCIgdmFsdWU9XCJ0b3BcIj48c3Bhbj4nK24oXCJUb3BcIikrJzwvc3Bhbj48L2xhYmVsPjxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImRwbGF5ZXItZGFubWFrdS10eXBlLScrdCsnXCIgdmFsdWU9XCJyaWdodFwiIGNoZWNrZWQ+PHNwYW4+JytuKFwiUm9sbGluZ1wiKSsnPC9zcGFuPjwvbGFiZWw+PGxhYmVsPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiZHBsYXllci1kYW5tYWt1LXR5cGUtJyt0KydcIiB2YWx1ZT1cImJvdHRvbVwiPjxzcGFuPicrbihcIkJvdHRvbVwiKSsnPC9zcGFuPjwvbGFiZWw+PC9kaXY+PC9kaXY+PGlucHV0IGNsYXNzPVwiZHBsYXllci1jb21tZW50LWlucHV0XCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIicrbihcIklucHV0IGRhbm1ha3UsIGhpdCBFbnRlclwiKSsnXCIgbWF4bGVuZ3RoPVwiMzBcIj48YnV0dG9uIGNsYXNzPVwiZHBsYXllci1pY29uIGRwbGF5ZXItc2VuZC1pY29uXCIgZGF0YS1iYWxsb29uPVwiJytuKFwiU2VuZFwiKSsnXCIgZGF0YS1iYWxsb29uLXBvcz1cInVwXCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLWljb24tY29udGVudFwiPicraS5nZXQoXCJzZW5kXCIpKyc8L3NwYW4+PC9idXR0b24+PC9kaXY+PGRpdiBjbGFzcz1cImRwbGF5ZXItaWNvbnMgZHBsYXllci1pY29ucy1sZWZ0XCI+PGJ1dHRvbiBjbGFzcz1cImRwbGF5ZXItaWNvbiBkcGxheWVyLXBsYXktaWNvblwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci1pY29uLWNvbnRlbnRcIj4nK2kuZ2V0KFwicGxheVwiKSsnPC9zcGFuPjwvYnV0dG9uPjxkaXYgY2xhc3M9XCJkcGxheWVyLXZvbHVtZVwiPjxidXR0b24gY2xhc3M9XCJkcGxheWVyLWljb24gZHBsYXllci12b2x1bWUtaWNvblwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci1pY29uLWNvbnRlbnRcIj4nK2kuZ2V0KFwidm9sdW1lLWRvd25cIikrJzwvc3Bhbj48L2J1dHRvbj48ZGl2IGNsYXNzPVwiZHBsYXllci12b2x1bWUtYmFyLXdyYXBcIiBkYXRhLWJhbGxvb24tcG9zPVwidXBcIj48ZGl2IGNsYXNzPVwiZHBsYXllci12b2x1bWUtYmFyXCI+PGRpdiBjbGFzcz1cImRwbGF5ZXItdm9sdW1lLWJhci1pbm5lclwiIHN0eWxlPVwiYmFja2dyb3VuZDogJytlLnRoZW1lKyc7XCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLXRodW1iXCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiAnK2UudGhlbWUrJ1wiPjwvc3Bhbj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48c3BhbiBjbGFzcz1cImRwbGF5ZXItdGltZVwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci1wdGltZVwiPjA6MDA8L3NwYW4+IC8gPHNwYW4gY2xhc3M9XCJkcGxheWVyLWR0aW1lXCI+MDowMDwvc3Bhbj48L3NwYW4+JysoZS5saXZlPyc8c3BhbiBjbGFzcz1cImRwbGF5ZXItbGl2ZS1iYWRnZVwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci1saXZlLWRvdFwiIHN0eWxlPVwiYmFja2dyb3VuZDogJytlLnRoZW1lKyc7XCI+PC9zcGFuPicrbihcIkxpdmVcIikrXCI8L3NwYW4+XCI6XCJcIikrJzwvZGl2PjxkaXYgY2xhc3M9XCJkcGxheWVyLWljb25zIGRwbGF5ZXItaWNvbnMtcmlnaHRcIj4nKyhlLnZpZGVvLnF1YWxpdHk/JzxkaXYgY2xhc3M9XCJkcGxheWVyLXF1YWxpdHlcIj48YnV0dG9uIGNsYXNzPVwiZHBsYXllci1pY29uIGRwbGF5ZXItcXVhbGl0eS1pY29uXCI+JytlLnZpZGVvLnF1YWxpdHlbZS52aWRlby5kZWZhdWx0UXVhbGl0eV0ubmFtZSsnPC9idXR0b24+PGRpdiBjbGFzcz1cImRwbGF5ZXItcXVhbGl0eS1tYXNrXCI+Jyt0aGlzLnRwbFF1YWxpdHlMaXN0KGUudmlkZW8ucXVhbGl0eSkrXCI8L2Rpdj48L2Rpdj5cIjpcIlwiKSsoZS5zY3JlZW5zaG90Pyc8YSBocmVmPVwiI1wiIGNsYXNzPVwiZHBsYXllci1pY29uIGRwbGF5ZXItY2FtZXJhLWljb25cIiBkYXRhLWJhbGxvb249XCInK24oXCJTY3JlZW5zaG90XCIpKydcIiBkYXRhLWJhbGxvb24tcG9zPVwidXBcIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItaWNvbi1jb250ZW50XCI+JytpLmdldChcImNhbWVyYVwiKStcIjwvc3Bhbj48L2E+XCI6XCJcIikrJzxkaXYgY2xhc3M9XCJkcGxheWVyLWNvbW1lbnRcIj48YnV0dG9uIGNsYXNzPVwiZHBsYXllci1pY29uIGRwbGF5ZXItY29tbWVudC1pY29uXCIgZGF0YS1iYWxsb29uPVwiJytuKFwiU2VuZCBkYW5tYWt1XCIpKydcIiBkYXRhLWJhbGxvb24tcG9zPVwidXBcIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItaWNvbi1jb250ZW50XCI+JytpLmdldChcImNvbW1lbnRcIikrXCI8L3NwYW4+PC9idXR0b24+PC9kaXY+XCIrKGUuc3VidGl0bGU/JzxkaXYgY2xhc3M9XCJkcGxheWVyLXN1YnRpdGxlLWJ0blwiPjxidXR0b24gY2xhc3M9XCJkcGxheWVyLWljb24gZHBsYXllci1zdWJ0aXRsZS1pY29uXCIgZGF0YS1iYWxsb29uPVwiJytuKFwiSGlkZSBzdWJ0aXRsZVwiKSsnXCIgZGF0YS1iYWxsb29uLXBvcz1cInVwXCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLWljb24tY29udGVudFwiPicraS5nZXQoXCJzdWJ0aXRsZVwiKStcIjwvc3Bhbj48L2J1dHRvbj48L2Rpdj5cIjpcIlwiKSsnPGRpdiBjbGFzcz1cImRwbGF5ZXItc2V0dGluZ1wiPjxidXR0b24gY2xhc3M9XCJkcGxheWVyLWljb24gZHBsYXllci1zZXR0aW5nLWljb25cIiBkYXRhLWJhbGxvb249XCInK24oXCJTZXR0aW5nXCIpKydcIiBkYXRhLWJhbGxvb24tcG9zPVwidXBcIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItaWNvbi1jb250ZW50XCI+JytpLmdldChcInNldHRpbmdcIikrJzwvc3Bhbj48L2J1dHRvbj48ZGl2IGNsYXNzPVwiZHBsYXllci1zZXR0aW5nLWJveFwiPjxkaXYgY2xhc3M9XCJkcGxheWVyLXNldHRpbmctb3JpZ2luLXBhbmVsXCI+PGRpdiBjbGFzcz1cImRwbGF5ZXItc2V0dGluZy1pdGVtIGRwbGF5ZXItc2V0dGluZy1zcGVlZFwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci1sYWJlbFwiPicrbihcIlNwZWVkXCIpKyc8L3NwYW4+PGRpdiBjbGFzcz1cImRwbGF5ZXItdG9nZ2xlXCI+JytpLmdldChcInJpZ2h0XCIpKyc8L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwiZHBsYXllci1zZXR0aW5nLWl0ZW0gZHBsYXllci1zZXR0aW5nLWxvb3BcIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItbGFiZWxcIj4nK24oXCJMb29wXCIpKyc8L3NwYW4+PGRpdiBjbGFzcz1cImRwbGF5ZXItdG9nZ2xlXCI+PGlucHV0IGNsYXNzPVwiZHBsYXllci10b2dnbGUtc2V0dGluZy1pbnB1dFwiIHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJkcGxheWVyLXRvZ2dsZVwiPjxsYWJlbCBmb3I9XCJkcGxheWVyLXRvZ2dsZVwiPjwvbGFiZWw+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cImRwbGF5ZXItc2V0dGluZy1pdGVtIGRwbGF5ZXItc2V0dGluZy1zaG93ZGFuXCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLWxhYmVsXCI+JytuKFwiU2hvdyBkYW5tYWt1XCIpKyc8L3NwYW4+PGRpdiBjbGFzcz1cImRwbGF5ZXItdG9nZ2xlXCI+PGlucHV0IGNsYXNzPVwiZHBsYXllci1zaG93ZGFuLXNldHRpbmctaW5wdXRcIiB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwiZHBsYXllci10b2dnbGUtZGFuXCI+PGxhYmVsIGZvcj1cImRwbGF5ZXItdG9nZ2xlLWRhblwiPjwvbGFiZWw+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cImRwbGF5ZXItc2V0dGluZy1pdGVtIGRwbGF5ZXItc2V0dGluZy1kYW51bmxpbWl0XCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLWxhYmVsXCI+JytuKFwiVW5saW1pdGVkIGRhbm1ha3VcIikrJzwvc3Bhbj48ZGl2IGNsYXNzPVwiZHBsYXllci10b2dnbGVcIj48aW5wdXQgY2xhc3M9XCJkcGxheWVyLWRhbnVubGltaXQtc2V0dGluZy1pbnB1dFwiIHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJkcGxheWVyLXRvZ2dsZS1kYW51bmxpbWl0XCI+PGxhYmVsIGZvcj1cImRwbGF5ZXItdG9nZ2xlLWRhbnVubGltaXRcIj48L2xhYmVsPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJkcGxheWVyLXNldHRpbmctaXRlbSBkcGxheWVyLXNldHRpbmctZGFubWFrdVwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci1sYWJlbFwiPicrbihcIk9wYWNpdHkgZm9yIGRhbm1ha3VcIikrJzwvc3Bhbj48ZGl2IGNsYXNzPVwiZHBsYXllci1kYW5tYWt1LWJhci13cmFwXCI+PGRpdiBjbGFzcz1cImRwbGF5ZXItZGFubWFrdS1iYXJcIj48ZGl2IGNsYXNzPVwiZHBsYXllci1kYW5tYWt1LWJhci1pbm5lclwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci10aHVtYlwiPjwvc3Bhbj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwiZHBsYXllci1zZXR0aW5nLXNwZWVkLXBhbmVsXCI+PGRpdiBjbGFzcz1cImRwbGF5ZXItc2V0dGluZy1zcGVlZC1pdGVtXCIgZGF0YS1zcGVlZD1cIjAuNVwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci1sYWJlbFwiPjAuNTwvc3Bhbj48L2Rpdj48ZGl2IGNsYXNzPVwiZHBsYXllci1zZXR0aW5nLXNwZWVkLWl0ZW1cIiBkYXRhLXNwZWVkPVwiMC43NVwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci1sYWJlbFwiPjAuNzU8L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cImRwbGF5ZXItc2V0dGluZy1zcGVlZC1pdGVtXCIgZGF0YS1zcGVlZD1cIjFcIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItbGFiZWxcIj4nK24oXCJOb3JtYWxcIikrJzwvc3Bhbj48L2Rpdj48ZGl2IGNsYXNzPVwiZHBsYXllci1zZXR0aW5nLXNwZWVkLWl0ZW1cIiBkYXRhLXNwZWVkPVwiMS4yNVwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci1sYWJlbFwiPjEuMjU8L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cImRwbGF5ZXItc2V0dGluZy1zcGVlZC1pdGVtXCIgZGF0YS1zcGVlZD1cIjEuNVwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci1sYWJlbFwiPjEuNTwvc3Bhbj48L2Rpdj48ZGl2IGNsYXNzPVwiZHBsYXllci1zZXR0aW5nLXNwZWVkLWl0ZW1cIiBkYXRhLXNwZWVkPVwiMlwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci1sYWJlbFwiPjI8L3NwYW4+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cImRwbGF5ZXItZnVsbFwiPjxidXR0b24gY2xhc3M9XCJkcGxheWVyLWljb24gZHBsYXllci1mdWxsLWluLWljb25cIiBkYXRhLWJhbGxvb249XCInK24oXCJXZWIgZnVsbCBzY3JlZW5cIikrJ1wiIGRhdGEtYmFsbG9vbi1wb3M9XCJ1cFwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci1pY29uLWNvbnRlbnRcIj4nK2kuZ2V0KFwiZnVsbC1pblwiKSsnPC9zcGFuPjwvYnV0dG9uPjxidXR0b24gY2xhc3M9XCJkcGxheWVyLWljb24gZHBsYXllci1mdWxsLWljb25cIiBkYXRhLWJhbGxvb249XCInK24oXCJGdWxsIHNjcmVlblwiKSsnXCIgZGF0YS1iYWxsb29uLXBvcz1cInVwXCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLWljb24tY29udGVudFwiPicraS5nZXQoXCJmdWxsXCIpKyc8L3NwYW4+PC9idXR0b24+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cImRwbGF5ZXItYmFyLXdyYXBcIj48ZGl2IGNsYXNzPVwiZHBsYXllci1iYXItdGltZSBoaWRkZW5cIj4wMDowMDwvZGl2PjxkaXYgY2xhc3M9XCJkcGxheWVyLWJhci1wcmV2aWV3XCI+PC9kaXY+PGRpdiBjbGFzcz1cImRwbGF5ZXItYmFyXCI+PGRpdiBjbGFzcz1cImRwbGF5ZXItbG9hZGVkXCIgc3R5bGU9XCJ3aWR0aDogMDtcIj48L2Rpdj48ZGl2IGNsYXNzPVwiZHBsYXllci1wbGF5ZWRcIiBzdHlsZT1cIndpZHRoOiAwOyBiYWNrZ3JvdW5kOiAnK2UudGhlbWUrJ1wiPjxzcGFuIGNsYXNzPVwiZHBsYXllci10aHVtYlwiIHN0eWxlPVwiYmFja2dyb3VuZDogJytlLnRoZW1lKydcIj48L3NwYW4+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+Jyt0aGlzLnRwbENvbnRleHRtZW51TGlzdChlLmNvbnRleHRtZW51LG4pKyc8ZGl2IGNsYXNzPVwiZHBsYXllci1ub3RpY2VcIj48L2Rpdj4nfX0se2tleTpcInRwbERhbm1ha3VtYXJnaW5cIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1cIlwiO2lmKGUpZm9yKHZhciBuIGluIGUpdCs9bitcIjpcIitlW25dK1wiO1wiO3JldHVybiB0fX0se2tleTpcInRwbENvbnRleHRtZW51TGlzdFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPSc8ZGl2IGNsYXNzPVwiZHBsYXllci1tZW51XCI+JyxpPTA7aTxlLmxlbmd0aDtpKyspbis9JzxkaXYgY2xhc3M9XCJkcGxheWVyLW1lbnUtaXRlbVwiPjxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCInK2VbaV0ubGluaysnXCI+Jyt0KGVbaV0udGV4dCkrXCI8L2E+PC9kaXY+XCI7cmV0dXJuIG4rPVwiPC9kaXY+XCJ9fSx7a2V5OlwidHBsUXVhbGl0eUxpc3RcIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9JzxkaXYgY2xhc3M9XCJkcGxheWVyLXF1YWxpdHktbGlzdFwiPicsbj0wO248ZS5sZW5ndGg7bisrKXQrPSc8ZGl2IGNsYXNzPVwiZHBsYXllci1xdWFsaXR5LWl0ZW1cIiBkYXRhLWluZGV4PVwiJytuKydcIj4nK2Vbbl0ubmFtZStcIjwvZGl2PlwiO3JldHVybiB0Kz1cIjwvZGl2PlwifX0se2tleTpcInRwbFZpZGVvXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4saSxhLG8pe3ZhciBzPW8mJlwid2VidnR0XCI9PT1vLnR5cGU7cmV0dXJuJzx2aWRlbyBjbGFzcz1cImRwbGF5ZXItdmlkZW8gJysoZT8nZHBsYXllci12aWRlby1jdXJyZW50XCInOlwiXCIpKydcIiAnKyh0Pydwb3N0ZXI9XCInK3QrJ1wiJzpcIlwiKStcIiB3ZWJraXQtcGxheXNpbmxpbmUgcGxheXNpbmxpbmUgXCIrKG58fHM/J2Nyb3Nzb3JpZ2luPVwiYW5vbnltb3VzXCInOlwiXCIpK1wiIFwiKyhpPydwcmVsb2FkPVwiJytpKydcIic6XCJcIikrJyBzcmM9XCInK2ErJ1wiPicrKHM/Jzx0cmFjayBraW5kPVwibWV0YWRhdGFcIiBkZWZhdWx0IHNyYz1cIicrby51cmwrJ1wiPjwvdHJhY2s+JzpcIlwiKStcIjwvdmlkZW8+XCJ9fV0pLGV9KCk7dC5kZWZhdWx0PW99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe2kodGhpcyxlKSx0aGlzLmljb25zPXQuaWNvbnMsdGhpcy5pY29uQ29sb3I9dC5pY29uc0NvbG9yfXJldHVybiBhKGUsW3trZXk6XCJnZXRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4nPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCInKyh0aGlzLmljb25zW2VdWzJdfHxcIjEwMCVcIikrJ1wiIGhlaWdodD1cIicrKHRoaXMuaWNvbnNbZV1bMl18fFwiMTAwJVwiKSsnXCIgdmVyc2lvbj1cIjEuMVwiIHZpZXdCb3g9XCInK3RoaXMuaWNvbnNbZV1bMF0rJ1wiPjxwYXRoIGNsYXNzPVwiZHBsYXllci1maWxsXCIgc3R5bGU9XCJmaWxsOicrdGhpcy5pY29uQ29sb3IrJ1wiIGQ9XCInK3RoaXMuaWNvbnNbZV1bMV0rJ1wiIGlkPVwiZHBsYXllci0nK2UrJ1wiPjwvcGF0aD48L3N2Zz4nfX1dKSxlfSgpO3QuZGVmYXVsdD1vfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0sbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe2kodGhpcyxlKSx0aGlzLm9wdGlvbnM9dCx0aGlzLmNvbnRhaW5lcj10aGlzLm9wdGlvbnMuY29udGFpbmVyLHRoaXMuZGFuVHVubmVsPXtyaWdodDp7fSx0b3A6e30sYm90dG9tOnt9fSx0aGlzLmRhbkluZGV4PTAsdGhpcy5kYW49W10sdGhpcy5zaG93aW5nPSEwLHRoaXMuX29wYWNpdHk9dGhpcy5vcHRpb25zLm9wYWNpdHksdGhpcy5ldmVudHM9dGhpcy5vcHRpb25zLmV2ZW50cyx0aGlzLnVubGltaXRlZD10aGlzLm9wdGlvbnMudW5saW1pdGVkLHRoaXMuX21lYXN1cmUoXCJcIiksdGhpcy5sb2FkKCl9cmV0dXJuIG8oZSxbe2tleTpcImxvYWRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD12b2lkIDA7dD10aGlzLm9wdGlvbnMuYXBpLm1heGltdW0/dGhpcy5vcHRpb25zLmFwaS5hZGRyZXNzK1widjIvP2lkPVwiK3RoaXMub3B0aW9ucy5hcGkuaWQrXCImbWF4PVwiK3RoaXMub3B0aW9ucy5hcGkubWF4aW11bTp0aGlzLm9wdGlvbnMuYXBpLmFkZHJlc3MrXCJ2Mi8/aWQ9XCIrdGhpcy5vcHRpb25zLmFwaS5pZDt2YXIgbj0odGhpcy5vcHRpb25zLmFwaS5hZGRpdGlvbnx8W10pLnNsaWNlKDApO24ucHVzaCh0KSx0aGlzLmV2ZW50cyYmdGhpcy5ldmVudHMudHJpZ2dlcihcImRhbm1ha3VfbG9hZF9zdGFydFwiLG4pLHRoaXMuX3JlYWRBbGxFbmRwb2ludHMobixmdW5jdGlvbih0KXtlLmRhbj1bXS5jb25jYXQuYXBwbHkoW10sdCkuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBlLnRpbWUtdC50aW1lfSksd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe2UuZnJhbWUoKX0pLGUub3B0aW9ucy5jYWxsYmFjaygpLGUuZXZlbnRzJiZlLmV2ZW50cy50cmlnZ2VyKFwiZGFubWFrdV9sb2FkX2VuZFwiKX0pfX0se2tleTpcInJlbG9hZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMub3B0aW9ucy5hcGk9ZSx0aGlzLmRhbj1bXSx0aGlzLmNsZWFyKCksdGhpcy5sb2FkKCl9fSx7a2V5OlwiX3JlYWRBbGxFbmRwb2ludHNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj10aGlzLGk9W10sYT0wLG89MDtvPGUubGVuZ3RoOysrbyl0aGlzLm9wdGlvbnMuYXBpQmFja2VuZC5yZWFkKGVbb10sZnVuY3Rpb24obyl7cmV0dXJuIGZ1bmN0aW9uKHMscil7aWYoKythLHMpcy5yZXNwb25zZT9uLm9wdGlvbnMuZXJyb3Iocy5yZXNwb25zZS5tc2cpOm4ub3B0aW9ucy5lcnJvcihcIlJlcXVlc3Qgd2FzIHVuc3VjY2Vzc2Z1bDogXCIrcy5zdGF0dXMpLGlbb109W107ZWxzZXt2YXIgbD1bXCJyaWdodFwiLFwidG9wXCIsXCJib3R0b21cIl07aVtvXT1yP3IubWFwKGZ1bmN0aW9uKGUpe3JldHVybnt0aW1lOmVbMF0sdHlwZTpsW2VbMV1dLGNvbG9yOmVbMl0sYXV0aG9yOmVbM10sdGV4dDplWzRdfX0pOltdfWlmKGE9PT1lLmxlbmd0aClyZXR1cm4gdChpKX19KG8pKX19LHtrZXk6XCJzZW5kXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj17dG9rZW46dGhpcy5vcHRpb25zLmFwaS50b2tlbixwbGF5ZXI6dGhpcy5vcHRpb25zLmFwaS5pZCxhdXRob3I6dGhpcy5vcHRpb25zLmFwaS51c2VyLHRpbWU6dGhpcy5vcHRpb25zLnRpbWUoKSx0ZXh0OmUudGV4dCxjb2xvcjplLmNvbG9yLHR5cGU6ZS50eXBlfTt0aGlzLm9wdGlvbnMuYXBpQmFja2VuZC5zZW5kKHRoaXMub3B0aW9ucy5hcGkuYWRkcmVzcytcInYyL1wiLG4sdCksdGhpcy5kYW4uc3BsaWNlKHRoaXMuZGFuSW5kZXgsMCxuKSx0aGlzLmRhbkluZGV4Kys7dmFyIGk9e3RleHQ6dGhpcy5odG1sRW5jb2RlKG4udGV4dCksY29sb3I6bi5jb2xvcix0eXBlOm4udHlwZSxib3JkZXI6XCIycHggc29saWQgXCIrdGhpcy5vcHRpb25zLmJvcmRlckNvbG9yfTt0aGlzLmRyYXcoaSksdGhpcy5ldmVudHMmJnRoaXMuZXZlbnRzLnRyaWdnZXIoXCJkYW5tYWt1X3NlbmRcIixuKX19LHtrZXk6XCJmcmFtZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLmRhbi5sZW5ndGgmJiF0aGlzLnBhdXNlZCYmdGhpcy5zaG93aW5nKXtmb3IodmFyIHQ9dGhpcy5kYW5bdGhpcy5kYW5JbmRleF0sbj1bXTt0JiZ0aGlzLm9wdGlvbnMudGltZSgpPnBhcnNlRmxvYXQodC50aW1lKTspbi5wdXNoKHQpLHQ9dGhpcy5kYW5bKyt0aGlzLmRhbkluZGV4XTt0aGlzLmRyYXcobil9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe2UuZnJhbWUoKX0pfX0se2tleTpcIm9wYWNpdHlcIix2YWx1ZTpmdW5jdGlvbihlKXtpZih2b2lkIDAhPT1lKXtmb3IodmFyIHQ9dGhpcy5jb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImRwbGF5ZXItZGFubWFrdS1pdGVtXCIpLG49MDtuPHQubGVuZ3RoO24rKyl0W25dLnN0eWxlLm9wYWNpdHk9ZTt0aGlzLl9vcGFjaXR5PWUsdGhpcy5ldmVudHMmJnRoaXMuZXZlbnRzLnRyaWdnZXIoXCJkYW5tYWt1X29wYWNpdHlcIix0aGlzLl9vcGFjaXR5KX1yZXR1cm4gdGhpcy5fb3BhY2l0eX19LHtrZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLnNob3dpbmcpe3ZhciBuPXRoaXMub3B0aW9ucy5oZWlnaHQsaT10aGlzLmNvbnRhaW5lci5vZmZzZXRXaWR0aCxvPXRoaXMuY29udGFpbmVyLm9mZnNldEhlaWdodCxzPXBhcnNlSW50KG8vbikscj1mdW5jdGlvbihlKXt2YXIgbj1lLm9mZnNldFdpZHRofHxwYXJzZUludChlLnN0eWxlLndpZHRoKSxpPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHR8fHQuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0K247cmV0dXJuIHQuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0LWl9LGw9ZnVuY3Rpb24oZSl7cmV0dXJuKGkrZSkvNX0sYz1mdW5jdGlvbihlLG4sbyl7Zm9yKHZhciBjPWkvbChvKSx1PTA7dC51bmxpbWl0ZWR8fHU8czt1Kyspe3ZhciBkPWZ1bmN0aW9uKGEpe3ZhciBvPXQuZGFuVHVubmVsW25dW2ErXCJcIl07aWYoIW98fCFvLmxlbmd0aClyZXR1cm4gdC5kYW5UdW5uZWxbbl1bYStcIlwiXT1bZV0sZS5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsZnVuY3Rpb24oKXt0LmRhblR1bm5lbFtuXVthK1wiXCJdLnNwbGljZSgwLDEpfSkse3Y6YSVzfTtpZihcInJpZ2h0XCIhPT1uKXJldHVyblwiY29udGludWVcIjtmb3IodmFyIHU9MDt1PG8ubGVuZ3RoO3UrKyl7dmFyIGQ9cihvW3VdKS0xMDtpZihkPD1pLWMqbChwYXJzZUludChvW3VdLnN0eWxlLndpZHRoKSl8fGQ8PTApYnJlYWs7aWYodT09PW8ubGVuZ3RoLTEpcmV0dXJuIHQuZGFuVHVubmVsW25dW2ErXCJcIl0ucHVzaChlKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIixmdW5jdGlvbigpe3QuZGFuVHVubmVsW25dW2ErXCJcIl0uc3BsaWNlKDAsMSl9KSx7djphJXN9fX0odSk7c3dpdGNoKGQpe2Nhc2VcImNvbnRpbnVlXCI6Y29udGludWU7ZGVmYXVsdDppZihcIm9iamVjdFwiPT09KHZvaWQgMD09PWQ/XCJ1bmRlZmluZWRcIjphKGQpKSlyZXR1cm4gZC52fX1yZXR1cm4tMX07XCJbb2JqZWN0IEFycmF5XVwiIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpJiYoZT1bZV0pO2Zvcih2YXIgdT1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksZD0wO2Q8ZS5sZW5ndGg7ZCsrKSFmdW5jdGlvbihhKXtlW2FdLnR5cGV8fChlW2FdLnR5cGU9XCJyaWdodFwiKSxlW2FdLmNvbG9yfHwoZVthXS5jb2xvcj1cIiNmZmZcIik7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtvLmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLWRhbm1ha3UtaXRlbVwiKSxvLmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLWRhbm1ha3UtXCIrZVthXS50eXBlKSxlW2FdLmJvcmRlcj9vLmlubmVySFRNTD0nPHNwYW4gc3R5bGU9XCJib3JkZXI6JytlW2FdLmJvcmRlcisnXCI+JytlW2FdLnRleHQrXCI8L3NwYW4+XCI6by5pbm5lckhUTUw9ZVthXS50ZXh0LG8uc3R5bGUub3BhY2l0eT10Ll9vcGFjaXR5LG8uc3R5bGUuY29sb3I9ZVthXS5jb2xvcixvLmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIixmdW5jdGlvbigpe3QuY29udGFpbmVyLnJlbW92ZUNoaWxkKG8pfSk7dmFyIHM9dC5fbWVhc3VyZShlW2FdLnRleHQpLHI9dm9pZCAwO3N3aXRjaChlW2FdLnR5cGUpe2Nhc2VcInJpZ2h0XCI6cj1jKG8sZVthXS50eXBlLHMpLHI+PTAmJihvLnN0eWxlLndpZHRoPXMrMStcInB4XCIsby5zdHlsZS50b3A9bipyK1wicHhcIixvLnN0eWxlLnRyYW5zZm9ybT1cInRyYW5zbGF0ZVgoLVwiK2krXCJweClcIik7YnJlYWs7Y2FzZVwidG9wXCI6cj1jKG8sZVthXS50eXBlKSxyPj0wJiYoby5zdHlsZS50b3A9bipyK1wicHhcIik7YnJlYWs7Y2FzZVwiYm90dG9tXCI6cj1jKG8sZVthXS50eXBlKSxyPj0wJiYoby5zdHlsZS5ib3R0b209bipyK1wicHhcIik7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKFwiQ2FuJ3QgaGFuZGxlZCBkYW5tYWt1IHR5cGU6IFwiK2VbYV0udHlwZSl9cj49MCYmKG8uY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItZGFubWFrdS1tb3ZlXCIpLHUuYXBwZW5kQ2hpbGQobykpfShkKTtyZXR1cm4gdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodSksdX19fSx7a2V5OlwicGxheVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wYXVzZWQ9ITF9fSx7a2V5OlwicGF1c2VcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGF1c2VkPSEwfX0se2tleTpcIl9tZWFzdXJlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuY29udGV4dCl7dmFyIHQ9Z2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZHBsYXllci1kYW5tYWt1LWl0ZW1cIilbMF0sbnVsbCk7dGhpcy5jb250ZXh0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikuZ2V0Q29udGV4dChcIjJkXCIpLHRoaXMuY29udGV4dC5mb250PXQuZ2V0UHJvcGVydHlWYWx1ZShcImZvbnRcIil9cmV0dXJuIHRoaXMuY29udGV4dC5tZWFzdXJlVGV4dChlKS53aWR0aH19LHtrZXk6XCJzZWVrXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNsZWFyKCk7Zm9yKHZhciBlPTA7ZTx0aGlzLmRhbi5sZW5ndGg7ZSsrKXtpZih0aGlzLmRhbltlXS50aW1lPj10aGlzLm9wdGlvbnMudGltZSgpKXt0aGlzLmRhbkluZGV4PWU7YnJlYWt9dGhpcy5kYW5JbmRleD10aGlzLmRhbi5sZW5ndGh9fX0se2tleTpcImNsZWFyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmRhblR1bm5lbD17cmlnaHQ6e30sdG9wOnt9LGJvdHRvbTp7fX0sdGhpcy5kYW5JbmRleD0wLHRoaXMub3B0aW9ucy5jb250YWluZXIuaW5uZXJIVE1MPVwiXCIsdGhpcy5ldmVudHMmJnRoaXMuZXZlbnRzLnRyaWdnZXIoXCJkYW5tYWt1X2NsZWFyXCIpfX0se2tleTpcImh0bWxFbmNvZGVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC8mL2csXCImYW1wO1wiKS5yZXBsYWNlKC88L2csXCImbHQ7XCIpLnJlcGxhY2UoLz4vZyxcIiZndDtcIikucmVwbGFjZSgvXCIvZyxcIiZxdW90O1wiKS5yZXBsYWNlKC8nL2csXCImI3gyNztcIikucmVwbGFjZSgvXFwvL2csXCImI3gyZjtcIil9fSx7a2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5jb250YWluZXIub2Zmc2V0V2lkdGgsdD10aGlzLmNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZHBsYXllci1kYW5tYWt1LWl0ZW1cIiksbj0wO248dC5sZW5ndGg7bisrKXRbbl0uc3R5bGUudHJhbnNmb3JtPVwidHJhbnNsYXRlWCgtXCIrZStcInB4KVwifX0se2tleTpcImhpZGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2hvd2luZz0hMSx0aGlzLnBhdXNlKCksdGhpcy5jbGVhcigpLHRoaXMuZXZlbnRzJiZ0aGlzLmV2ZW50cy50cmlnZ2VyKFwiZGFubWFrdV9oaWRlXCIpfX0se2tleTpcInNob3dcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2VlaygpLHRoaXMuc2hvd2luZz0hMCx0aGlzLnBsYXkoKSx0aGlzLmV2ZW50cyYmdGhpcy5ldmVudHMudHJpZ2dlcihcImRhbm1ha3Vfc2hvd1wiKX19LHtrZXk6XCJ1bmxpbWl0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy51bmxpbWl0ZWQ9ZX19XSksZX0oKTt0LmRlZmF1bHQ9c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpKHRoaXMsZSksdGhpcy5ldmVudHM9e30sdGhpcy52aWRlb0V2ZW50cz1bXCJhYm9ydFwiLFwiY2FucGxheVwiLFwiY2FucGxheXRocm91Z2hcIixcImR1cmF0aW9uY2hhbmdlXCIsXCJlbXB0aWVkXCIsXCJlbmRlZFwiLFwiZXJyb3JcIixcImxvYWRlZGRhdGFcIixcImxvYWRlZG1ldGFkYXRhXCIsXCJsb2Fkc3RhcnRcIixcIm1vemF1ZGlvYXZhaWxhYmxlXCIsXCJwYXVzZVwiLFwicGxheVwiLFwicGxheWluZ1wiLFwicHJvZ3Jlc3NcIixcInJhdGVjaGFuZ2VcIixcInNlZWtlZFwiLFwic2Vla2luZ1wiLFwic3RhbGxlZFwiLFwic3VzcGVuZFwiLFwidGltZXVwZGF0ZVwiLFwidm9sdW1lY2hhbmdlXCIsXCJ3YWl0aW5nXCJdLHRoaXMucGxheWVyRXZlbnRzPVtcInNjcmVlbnNob3RcIixcInRodW1ibmFpbHNfc2hvd1wiLFwidGh1bWJuYWlsc19oaWRlXCIsXCJkYW5tYWt1X3Nob3dcIixcImRhbm1ha3VfaGlkZVwiLFwiZGFubWFrdV9jbGVhclwiLFwiZGFubWFrdV9sb2FkZWRcIixcImRhbm1ha3Vfc2VuZFwiLFwiZGFubWFrdV9vcGFjaXR5XCIsXCJjb250ZXh0bWVudV9zaG93XCIsXCJjb250ZXh0bWVudV9oaWRlXCIsXCJub3RpY2Vfc2hvd1wiLFwibm90aWNlX2hpZGVcIixcInF1YWxpdHlfc3RhcnRcIixcInF1YWxpdHlfZW5kXCIsXCJkZXN0cm95XCIsXCJyZXNpemVcIixcImZ1bGxzY3JlZW5cIixcImZ1bGxzY3JlZW5fY2FuY2VsXCIsXCJ3ZWJmdWxsc2NyZWVuXCIsXCJ3ZWJmdWxsc2NyZWVuX2NhbmNlbFwiLFwic3VidGl0bGVfc2hvd1wiLFwic3VidGl0bGVfaGlkZVwiLFwic3VidGl0bGVfY2hhbmdlXCJdfXJldHVybiBhKGUsW3trZXk6XCJvblwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy50eXBlKGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYodGhpcy5ldmVudHNbZV18fCh0aGlzLmV2ZW50c1tlXT1bXSksdGhpcy5ldmVudHNbZV0ucHVzaCh0KSl9fSx7a2V5OlwidHJpZ2dlclwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYodGhpcy5ldmVudHNbZV0mJnRoaXMuZXZlbnRzW2VdLmxlbmd0aClmb3IodmFyIG49MDtuPHRoaXMuZXZlbnRzW2VdLmxlbmd0aDtuKyspdGhpcy5ldmVudHNbZV1bbl0odCl9fSx7a2V5OlwidHlwZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybi0xIT09dGhpcy5wbGF5ZXJFdmVudHMuaW5kZXhPZihlKT9cInBsYXllclwiOi0xIT09dGhpcy52aWRlb0V2ZW50cy5pbmRleE9mKGUpP1widmlkZW9cIjooY29uc29sZS5lcnJvcihcIlVua25vd24gZXZlbnQgbmFtZTogXCIrZSksbnVsbCl9fV0pLGV9KCk7dC5kZWZhdWx0PW99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLG89bigwKSxzPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obykscj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49dGhpcztpKHRoaXMsZSksdGhpcy5wbGF5ZXI9dCx0aGlzLnBsYXllci5ldmVudHMub24oXCJ3ZWJmdWxsc2NyZWVuXCIsZnVuY3Rpb24oKXtuLnBsYXllci5yZXNpemUoKX0pLHRoaXMucGxheWVyLmV2ZW50cy5vbihcIndlYmZ1bGxzY3JlZW5fY2FuY2VsXCIsZnVuY3Rpb24oKXtuLnBsYXllci5yZXNpemUoKSxzLmRlZmF1bHQuc2V0U2Nyb2xsUG9zaXRpb24obi5sYXN0U2Nyb2xsUG9zaXRpb24pfSk7dmFyIGE9ZnVuY3Rpb24oKXtuLnBsYXllci5yZXNpemUoKSxuLmlzRnVsbFNjcmVlbihcImJyb3dzZXJcIik/bi5wbGF5ZXIuZXZlbnRzLnRyaWdnZXIoXCJmdWxsc2NyZWVuXCIpOihzLmRlZmF1bHQuc2V0U2Nyb2xsUG9zaXRpb24obi5sYXN0U2Nyb2xsUG9zaXRpb24pLG4ucGxheWVyLmV2ZW50cy50cmlnZ2VyKFwiZnVsbHNjcmVlbl9jYW5jZWxcIikpfTt0aGlzLnBsYXllci5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImZ1bGxzY3JlZW5jaGFuZ2VcIixhKSx0aGlzLnBsYXllci5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vemZ1bGxzY3JlZW5jaGFuZ2VcIixhKSx0aGlzLnBsYXllci5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIixhKX1yZXR1cm4gYShlLFt7a2V5OlwiaXNGdWxsU2NyZWVuXCIsdmFsdWU6ZnVuY3Rpb24oKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlwiYnJvd3NlclwiKXtjYXNlXCJicm93c2VyXCI6cmV0dXJuIGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50fHxkb2N1bWVudC5tb3pGdWxsU2NyZWVuRWxlbWVudHx8ZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQ7Y2FzZVwid2ViXCI6cmV0dXJuIHRoaXMucGxheWVyLmNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoXCJkcGxheWVyLWZ1bGxlZFwiKX19fSx7a2V5OlwicmVxdWVzdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlwiYnJvd3NlclwiLHQ9XCJicm93c2VyXCI9PT1lP1wid2ViXCI6XCJicm93c2VyXCIsbj10aGlzLmlzRnVsbFNjcmVlbih0KTtzd2l0Y2gobnx8KHRoaXMubGFzdFNjcm9sbFBvc2l0aW9uPXMuZGVmYXVsdC5nZXRTY3JvbGxQb3NpdGlvbigpKSxlKXtjYXNlXCJicm93c2VyXCI6dGhpcy5wbGF5ZXIuY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuP3RoaXMucGxheWVyLmNvbnRhaW5lci5yZXF1ZXN0RnVsbHNjcmVlbigpOnRoaXMucGxheWVyLmNvbnRhaW5lci5tb3pSZXF1ZXN0RnVsbFNjcmVlbj90aGlzLnBsYXllci5jb250YWluZXIubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTp0aGlzLnBsYXllci5jb250YWluZXIud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4/dGhpcy5wbGF5ZXIuY29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKCk6dGhpcy5wbGF5ZXIudmlkZW8ud2Via2l0RW50ZXJGdWxsc2NyZWVuJiZ0aGlzLnBsYXllci52aWRlby53ZWJraXRFbnRlckZ1bGxzY3JlZW4oKTticmVhaztjYXNlXCJ3ZWJcIjp0aGlzLnBsYXllci5jb250YWluZXIuY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItZnVsbGVkXCIpLGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItd2ViLWZ1bGxzY3JlZW4tZml4XCIpLHRoaXMucGxheWVyLmV2ZW50cy50cmlnZ2VyKFwid2ViZnVsbHNjcmVlblwiKX1uJiZ0aGlzLmNhbmNlbCh0KX19LHtrZXk6XCJjYW5jZWxcIix2YWx1ZTpmdW5jdGlvbigpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06XCJicm93c2VyXCIpe2Nhc2VcImJyb3dzZXJcIjpkb2N1bWVudC5jYW5jZWxGdWxsU2NyZWVuP2RvY3VtZW50LmNhbmNlbEZ1bGxTY3JlZW4oKTpkb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuP2RvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4oKTpkb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuJiZkb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuKCk7YnJlYWs7Y2FzZVwid2ViXCI6dGhpcy5wbGF5ZXIuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJkcGxheWVyLWZ1bGxlZFwiKSxkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJkcGxheWVyLXdlYi1mdWxsc2NyZWVuLWZpeFwiKSx0aGlzLnBsYXllci5ldmVudHMudHJpZ2dlcihcIndlYmZ1bGxzY3JlZW5fY2FuY2VsXCIpfX19LHtrZXk6XCJ0b2dnbGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcImJyb3dzZXJcIjt0aGlzLmlzRnVsbFNjcmVlbihlKT90aGlzLmNhbmNlbChlKTp0aGlzLnJlcXVlc3QoZSl9fV0pLGV9KCk7dC5kZWZhdWx0PXJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLG89bigwKSxzPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obykscj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7aSh0aGlzLGUpLHRoaXMuc3RvcmFnZU5hbWU9e29wYWNpdHk6XCJkcGxheWVyLWRhbm1ha3Utb3BhY2l0eVwiLHZvbHVtZTpcImRwbGF5ZXItdm9sdW1lXCIsdW5saW1pdGVkOlwiZHBsYXllci1kYW5tYWt1LXVubGltaXRlZFwiLGRhbm1ha3U6XCJkcGxheWVyLWRhbm1ha3Utc2hvd1wiLHN1YnRpdGxlOlwiZHBsYXllci1zdWJ0aXRsZS1zaG93XCJ9LHRoaXMuZGVmYXVsdD17b3BhY2l0eTouNyx2b2x1bWU6dC5vcHRpb25zLnZvbHVtZXx8LjcsdW5saW1pdGVkOih0Lm9wdGlvbnMuZGFubWFrdSYmdC5vcHRpb25zLmRhbm1ha3UudW5saW1pdGVkPzE6MCl8fDAsZGFubWFrdToxLHN1YnRpdGxlOjF9LHRoaXMuZGF0YT17fSx0aGlzLmluaXQoKX1yZXR1cm4gYShlLFt7a2V5OlwiaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHRoaXMuc3RvcmFnZU5hbWUpe3ZhciB0PXRoaXMuc3RvcmFnZU5hbWVbZV07dGhpcy5kYXRhW2VdPXBhcnNlRmxvYXQocy5kZWZhdWx0LnN0b3JhZ2UuZ2V0KHQpfHx0aGlzLmRlZmF1bHRbZV0pfX19LHtrZXk6XCJnZXRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kYXRhW2VdfX0se2tleTpcInNldFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5kYXRhW2VdPXQscy5kZWZhdWx0LnN0b3JhZ2Uuc2V0KHRoaXMuc3RvcmFnZU5hbWVbZV0sdCl9fV0pLGV9KCk7dC5kZWZhdWx0PXJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixhLG8pe2kodGhpcyxlKSx0aGlzLmNvbnRhaW5lcj10LHRoaXMudmlkZW89bix0aGlzLm9wdGlvbnM9YSx0aGlzLmV2ZW50cz1vLHRoaXMuaW5pdCgpfXJldHVybiBhKGUsW3trZXk6XCJpbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMuY29udGFpbmVyLnN0eWxlLmZvbnRTaXplPXRoaXMub3B0aW9ucy5mb250U2l6ZSx0aGlzLmNvbnRhaW5lci5zdHlsZS5ib3R0b209dGhpcy5vcHRpb25zLmJvdHRvbSx0aGlzLmNvbnRhaW5lci5zdHlsZS5jb2xvcj10aGlzLm9wdGlvbnMuY29sb3IsdGhpcy52aWRlby50ZXh0VHJhY2tzJiZ0aGlzLnZpZGVvLnRleHRUcmFja3NbMF0pe3ZhciB0PXRoaXMudmlkZW8udGV4dFRyYWNrc1swXTt0Lm9uY3VlY2hhbmdlPWZ1bmN0aW9uKCl7dmFyIG49dC5hY3RpdmVDdWVzWzBdO2lmKG4pe2UuY29udGFpbmVyLmlubmVySFRNTD1cIlwiO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO2kuYXBwZW5kQ2hpbGQobi5nZXRDdWVBc0hUTUwoKSksZS5jb250YWluZXIuYXBwZW5kQ2hpbGQoaSl9ZWxzZSBlLmNvbnRhaW5lci5pbm5lckhUTUw9XCJcIjtlLmV2ZW50cy50cmlnZ2VyKFwic3VidGl0bGVfY2hhbmdlXCIpfX19fSx7a2V5Olwic2hvd1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcImRwbGF5ZXItc3VidGl0bGUtaGlkZVwiKSx0aGlzLmV2ZW50cy50cmlnZ2VyKFwic3VidGl0bGVfc2hvd1wiKX19LHtrZXk6XCJoaWRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1zdWJ0aXRsZS1oaWRlXCIpLHRoaXMuZXZlbnRzLnRyaWdnZXIoXCJzdWJ0aXRsZV9oaWRlXCIpfX0se2tleTpcInRvZ2dsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZHBsYXllci1zdWJ0aXRsZS1oaWRlXCIpP3RoaXMuc2hvdygpOnRoaXMuaGlkZSgpfX1dKSxlfSgpO3QuZGVmYXVsdD1vfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtpKHRoaXMsZSksdGhpcy5lbGVtZW50cz17fSx0aGlzLmVsZW1lbnRzLnZvbHVtZT10LnZvbHVtZUJhcix0aGlzLmVsZW1lbnRzLnBsYXllZD10LnBsYXllZEJhcix0aGlzLmVsZW1lbnRzLmxvYWRlZD10LmxvYWRlZEJhcix0aGlzLmVsZW1lbnRzLmRhbm1ha3U9dC5kYW5tYWt1T3BhY2l0eUJhcn1yZXR1cm4gYShlLFt7a2V5Olwic2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3Q9TWF0aC5tYXgodCwwKSx0PU1hdGgubWluKHQsMSksdGhpcy5lbGVtZW50c1tlXS5zdHlsZVtuXT0xMDAqdCtcIiVcIn19LHtrZXk6XCJnZXRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VGbG9hdCh0aGlzLmVsZW1lbnRzW2VdLnN0eWxlLndpZHRoKS8xMDB9fV0pLGV9KCk7dC5kZWZhdWx0PW99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLG89bigwKSxzPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obykscj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7aSh0aGlzLGUpLHRoaXMucGxheWVyPXQsd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihlKXt3aW5kb3cuc2V0VGltZW91dChlLDFlMy82MCl9fSgpLHRoaXMudHlwZXM9W1wibG9hZGluZ1wiLFwicHJvZ3Jlc3NcIl0sdGhpcy5pbml0KCl9cmV0dXJuIGEoZSxbe2tleTpcImluaXRcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dGhpcy50eXBlcy5sZW5ndGg7ZSsrKXt0aGlzW1wiaW5pdFwiK3RoaXMudHlwZXNbZV0rXCJDaGVja2VyXCJdKCl9fX0se2tleTpcImluaXRsb2FkaW5nQ2hlY2tlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PTAsbj0wLGk9ITE7dGhpcy5sb2FkaW5nQ2hlY2tlcj1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2UuZW5hYmxlbG9hZGluZ0NoZWNrZXImJihuPWUucGxheWVyLnZpZGVvLmN1cnJlbnRUaW1lLGl8fG4hPT10fHxlLnBsYXllci52aWRlby5wYXVzZWR8fChlLnBsYXllci5jb250YWluZXIuY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItbG9hZGluZ1wiKSxpPSEwKSxpJiZuPnQmJiFlLnBsYXllci52aWRlby5wYXVzZWQmJihlLnBsYXllci5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcImRwbGF5ZXItbG9hZGluZ1wiKSxpPSExKSx0PW4pfSwxMDApfX0se2tleTpcImluaXRwcm9ncmVzc0NoZWNrZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5wcm9ncmVzc0NoZWNrZXI9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtpZihlLmVuYWJsZXByb2dyZXNzQ2hlY2tlcil7ZS5wbGF5ZXIuYmFyLnNldChcInBsYXllZFwiLGUucGxheWVyLnZpZGVvLmN1cnJlbnRUaW1lL2UucGxheWVyLnZpZGVvLmR1cmF0aW9uLFwid2lkdGhcIik7dmFyIHQ9cy5kZWZhdWx0LnNlY29uZFRvVGltZShlLnBsYXllci52aWRlby5jdXJyZW50VGltZSk7ZS5wbGF5ZXIudGVtcGxhdGUucHRpbWUuaW5uZXJIVE1MIT09dCYmKGUucGxheWVyLnRlbXBsYXRlLnB0aW1lLmlubmVySFRNTD1zLmRlZmF1bHQuc2Vjb25kVG9UaW1lKGUucGxheWVyLnZpZGVvLmN1cnJlbnRUaW1lKSl9fSwxMDApfX0se2tleTpcImVuYWJsZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKGUpdGhpc1tcImVuYWJsZVwiK2UrXCJDaGVja2VyXCJdPSEwO2Vsc2UgZm9yKHZhciB0PTA7dDx0aGlzLnR5cGVzLmxlbmd0aDt0Kyspe3ZhciBuPXRoaXMudHlwZXNbdF07dGhpc1tcImVuYWJsZVwiK24rXCJDaGVja2VyXCJdPSEwfX19LHtrZXk6XCJkaXNhYmxlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoZSl0aGlzW1wiZW5hYmxlXCIrZStcIkNoZWNrZXJcIl09ITE7ZWxzZSBmb3IodmFyIHQ9MDt0PHRoaXMudHlwZXMubGVuZ3RoO3QrKyl7dmFyIG49dGhpcy50eXBlc1t0XTt0aGlzW1wiZW5hYmxlXCIrbitcIkNoZWNrZXJcIl09ITF9fX0se2tleTpcImRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihlKWNsZWFySW50ZXJ2YWwodGhpc1tlK1wiQ2hlY2tlclwiXSk7ZWxzZSBmb3IodmFyIHQ9MDt0PHRoaXMudHlwZXMubGVuZ3RoO3QrKyljbGVhckludGVydmFsKHRoaXNbdGhpcy50eXBlc1t0XStcIkNoZWNrZXJcIl0pfX1dKSxlfSgpO3QuZGVmYXVsdD1yfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgbj10aGlzO2kodGhpcyxlKSx0aGlzLmNvbnRhaW5lcj10LHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIixmdW5jdGlvbigpe24uY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJkcGxheWVyLWJlemVsLXRyYW5zaXRpb25cIil9KX1yZXR1cm4gYShlLFt7a2V5Olwic3dpdGNoXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5jb250YWluZXIuaW5uZXJIVE1MPWUsdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItYmV6ZWwtdHJhbnNpdGlvblwiKX19XSksZX0oKTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGEoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscz1uKDApLHI9aShzKSxsPW4oMjQpLGM9aShsKSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgbj10aGlzO2EodGhpcyxlKSx0aGlzLnBsYXllcj10LHRoaXMuYXV0b0hpZGVUaW1lcj0wLHIuZGVmYXVsdC5pc01vYmlsZXx8KHRoaXMucGxheWVyLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsZnVuY3Rpb24oKXtuLnNldEF1dG9IaWRlKCl9KSx0aGlzLnBsYXllci5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtuLnNldEF1dG9IaWRlKCl9KSx0aGlzLnBsYXllci5vbihcInBsYXlcIixmdW5jdGlvbigpe24uc2V0QXV0b0hpZGUoKX0pLHRoaXMucGxheWVyLm9uKFwicGF1c2VcIixmdW5jdGlvbigpe24uc2V0QXV0b0hpZGUoKX0pKSx0aGlzLmluaXRQbGF5QnV0dG9uKCksdGhpcy5pbml0VGh1bWJuYWlscygpLHRoaXMuaW5pdFBsYXllZEJhcigpLHRoaXMuaW5pdEZ1bGxCdXR0b24oKSx0aGlzLmluaXRRdWFsaXR5QnV0dG9uKCksdGhpcy5pbml0U2NyZWVuc2hvdEJ1dHRvbigpLHRoaXMuaW5pdFN1YnRpdGxlQnV0dG9uKCksci5kZWZhdWx0LmlzTW9iaWxlfHx0aGlzLmluaXRWb2x1bWVCdXR0b24oKX1yZXR1cm4gbyhlLFt7a2V5OlwiaW5pdFBsYXlCdXR0b25cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5wbGF5ZXIudGVtcGxhdGUucGxheUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe2UucGxheWVyLnRvZ2dsZSgpfSksci5kZWZhdWx0LmlzTW9iaWxlPyh0aGlzLnBsYXllci50ZW1wbGF0ZS52aWRlb1dyYXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtlLnRvZ2dsZSgpfSksdGhpcy5wbGF5ZXIudGVtcGxhdGUuY29udHJvbGxlck1hc2suYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtlLnRvZ2dsZSgpfSkpOih0aGlzLnBsYXllci50ZW1wbGF0ZS52aWRlb1dyYXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtlLnBsYXllci50b2dnbGUoKX0pLHRoaXMucGxheWVyLnRlbXBsYXRlLmNvbnRyb2xsZXJNYXNrLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7ZS5wbGF5ZXIudG9nZ2xlKCl9KSl9fSx7a2V5OlwiaW5pdFRodW1ibmFpbHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5wbGF5ZXIub3B0aW9ucy52aWRlby50aHVtYm5haWxzJiYodGhpcy50aHVtYm5haWxzPW5ldyBjLmRlZmF1bHQoe2NvbnRhaW5lcjp0aGlzLnBsYXllci50ZW1wbGF0ZS5iYXJQcmV2aWV3LGJhcldpZHRoOnRoaXMucGxheWVyLnRlbXBsYXRlLmJhcldyYXAub2Zmc2V0V2lkdGgsdXJsOnRoaXMucGxheWVyLm9wdGlvbnMudmlkZW8udGh1bWJuYWlscyxldmVudHM6dGhpcy5wbGF5ZXIuZXZlbnRzfSksdGhpcy5wbGF5ZXIub24oXCJsb2FkZWRtZXRhZGF0YVwiLGZ1bmN0aW9uKCl7ZS50aHVtYm5haWxzLnJlc2l6ZSgxNjAsZS5wbGF5ZXIudmlkZW8udmlkZW9IZWlnaHQvZS5wbGF5ZXIudmlkZW8udmlkZW9XaWR0aCoxNjApfSkpfX0se2tleTpcImluaXRQbGF5ZWRCYXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1mdW5jdGlvbih0KXt2YXIgbj0oKHQuY2xpZW50WHx8dC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYKS1yLmRlZmF1bHQuZ2V0RWxlbWVudFZpZXdMZWZ0KGUucGxheWVyLnRlbXBsYXRlLnBsYXllZEJhcldyYXApKS9lLnBsYXllci50ZW1wbGF0ZS5wbGF5ZWRCYXJXcmFwLmNsaWVudFdpZHRoO249TWF0aC5tYXgobiwwKSxuPU1hdGgubWluKG4sMSksZS5wbGF5ZXIuYmFyLnNldChcInBsYXllZFwiLG4sXCJ3aWR0aFwiKSxlLnBsYXllci50ZW1wbGF0ZS5wdGltZS5pbm5lckhUTUw9ci5kZWZhdWx0LnNlY29uZFRvVGltZShuKmUucGxheWVyLnZpZGVvLmR1cmF0aW9uKX0sbj1mdW5jdGlvbiBuKGkpe2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoci5kZWZhdWx0Lm5hbWVNYXAuZHJhZ0VuZCxuKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5uYW1lTWFwLmRyYWdNb3ZlLHQpO3ZhciBhPSgoaS5jbGllbnRYfHxpLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFgpLXIuZGVmYXVsdC5nZXRFbGVtZW50Vmlld0xlZnQoZS5wbGF5ZXIudGVtcGxhdGUucGxheWVkQmFyV3JhcCkpL2UucGxheWVyLnRlbXBsYXRlLnBsYXllZEJhcldyYXAuY2xpZW50V2lkdGg7YT1NYXRoLm1heChhLDApLGE9TWF0aC5taW4oYSwxKSxlLnBsYXllci5iYXIuc2V0KFwicGxheWVkXCIsYSxcIndpZHRoXCIpLGUucGxheWVyLnNlZWsoZS5wbGF5ZXIuYmFyLmdldChcInBsYXllZFwiKSplLnBsYXllci52aWRlby5kdXJhdGlvbiksZS5wbGF5ZXIudGltZS5lbmFibGUoXCJwcm9ncmVzc1wiKX07dGhpcy5wbGF5ZXIudGVtcGxhdGUucGxheWVkQmFyV3JhcC5hZGRFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5uYW1lTWFwLmRyYWdTdGFydCxmdW5jdGlvbigpe2UucGxheWVyLnRpbWUuZGlzYWJsZShcInByb2dyZXNzXCIpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoci5kZWZhdWx0Lm5hbWVNYXAuZHJhZ01vdmUsdCksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQubmFtZU1hcC5kcmFnRW5kLG4pfSksdGhpcy5wbGF5ZXIudGVtcGxhdGUucGxheWVkQmFyV3JhcC5hZGRFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5uYW1lTWFwLmRyYWdNb3ZlLGZ1bmN0aW9uKHQpe2lmKGUucGxheWVyLnZpZGVvLmR1cmF0aW9uKXt2YXIgbj1yLmRlZmF1bHQuY3VtdWxhdGl2ZU9mZnNldChlLnBsYXllci50ZW1wbGF0ZS5wbGF5ZWRCYXJXcmFwKS5sZWZ0LGk9KHQuY2xpZW50WHx8dC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYKS1uO2lmKGk8MHx8aT5lLnBsYXllci50ZW1wbGF0ZS5wbGF5ZWRCYXJXcmFwLm9mZnNldFdpZHRoKXJldHVybjt2YXIgYT1lLnBsYXllci52aWRlby5kdXJhdGlvbiooaS9lLnBsYXllci50ZW1wbGF0ZS5wbGF5ZWRCYXJXcmFwLm9mZnNldFdpZHRoKTtlLnRodW1ibmFpbHMmJmUudGh1bWJuYWlscy5tb3ZlKGkpLGUucGxheWVyLnRlbXBsYXRlLnBsYXllZEJhclRpbWUuc3R5bGUubGVmdD1pLTIwK1wicHhcIixlLnBsYXllci50ZW1wbGF0ZS5wbGF5ZWRCYXJUaW1lLmlubmVyVGV4dD1yLmRlZmF1bHQuc2Vjb25kVG9UaW1lKGEpLGUucGxheWVyLnRlbXBsYXRlLnBsYXllZEJhclRpbWUuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKX19KSx0aGlzLnBsYXllci50ZW1wbGF0ZS5wbGF5ZWRCYXJXcmFwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsZnVuY3Rpb24oKXtlLnBsYXllci52aWRlby5kdXJhdGlvbiYmKGUudGh1bWJuYWlscyYmZS50aHVtYm5haWxzLnNob3coKSxlLnBsYXllci50ZW1wbGF0ZS5wbGF5ZWRCYXJUaW1lLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIikpfSksdGhpcy5wbGF5ZXIudGVtcGxhdGUucGxheWVkQmFyV3JhcC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLGZ1bmN0aW9uKCl7ZS5wbGF5ZXIudmlkZW8uZHVyYXRpb24mJihlLnRodW1ibmFpbHMmJmUudGh1bWJuYWlscy5oaWRlKCksZS5wbGF5ZXIudGVtcGxhdGUucGxheWVkQmFyVGltZS5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpKX0pfX0se2tleTpcImluaXRGdWxsQnV0dG9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMucGxheWVyLnRlbXBsYXRlLmJyb3dzZXJGdWxsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7ZS5wbGF5ZXIuZnVsbFNjcmVlbi50b2dnbGUoXCJicm93c2VyXCIpfSksdGhpcy5wbGF5ZXIudGVtcGxhdGUud2ViRnVsbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe2UucGxheWVyLmZ1bGxTY3JlZW4udG9nZ2xlKFwid2ViXCIpfSl9fSx7a2V5OlwiaW5pdFZvbHVtZUJ1dHRvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWZ1bmN0aW9uKHQpe3ZhciBuPXR8fHdpbmRvdy5ldmVudCxpPSgobi5jbGllbnRYfHxuLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFgpLXIuZGVmYXVsdC5nZXRFbGVtZW50Vmlld0xlZnQoZS5wbGF5ZXIudGVtcGxhdGUudm9sdW1lQmFyV3JhcCktNS41KS8zNTtlLnBsYXllci52b2x1bWUoaSl9LG49ZnVuY3Rpb24gbigpe2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoci5kZWZhdWx0Lm5hbWVNYXAuZHJhZ0VuZCxuKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5uYW1lTWFwLmRyYWdNb3ZlLHQpLGUucGxheWVyLnRlbXBsYXRlLnZvbHVtZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiZHBsYXllci12b2x1bWUtYWN0aXZlXCIpfTt0aGlzLnBsYXllci50ZW1wbGF0ZS52b2x1bWVCYXJXcmFwV3JhcC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbih0KXt2YXIgbj10fHx3aW5kb3cuZXZlbnQsaT0oKG4uY2xpZW50WHx8bi5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYKS1yLmRlZmF1bHQuZ2V0RWxlbWVudFZpZXdMZWZ0KGUucGxheWVyLnRlbXBsYXRlLnZvbHVtZUJhcldyYXApLTUuNSkvMzU7ZS5wbGF5ZXIudm9sdW1lKGkpfSksdGhpcy5wbGF5ZXIudGVtcGxhdGUudm9sdW1lQmFyV3JhcFdyYXAuYWRkRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQubmFtZU1hcC5kcmFnU3RhcnQsZnVuY3Rpb24oKXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5uYW1lTWFwLmRyYWdNb3ZlLHQpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoci5kZWZhdWx0Lm5hbWVNYXAuZHJhZ0VuZCxuKSxlLnBsYXllci50ZW1wbGF0ZS52b2x1bWVCdXR0b24uY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItdm9sdW1lLWFjdGl2ZVwiKX0pLHRoaXMucGxheWVyLnRlbXBsYXRlLnZvbHVtZUljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtlLnBsYXllci52aWRlby5tdXRlZD8oZS5wbGF5ZXIudmlkZW8ubXV0ZWQ9ITEsZS5wbGF5ZXIuc3dpdGNoVm9sdW1lSWNvbigpLGUucGxheWVyLmJhci5zZXQoXCJ2b2x1bWVcIixlLnBsYXllci52b2x1bWUoKSxcIndpZHRoXCIpKTooZS5wbGF5ZXIudmlkZW8ubXV0ZWQ9ITAsZS5wbGF5ZXIudGVtcGxhdGUudm9sdW1lSWNvbi5pbm5lckhUTUw9ZS5wbGF5ZXIuaWNvbnMuZ2V0KFwidm9sdW1lLW9mZlwiKSxlLnBsYXllci5iYXIuc2V0KFwidm9sdW1lXCIsMCxcIndpZHRoXCIpKX0pfX0se2tleTpcImluaXRRdWFsaXR5QnV0dG9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMucGxheWVyLm9wdGlvbnMudmlkZW8ucXVhbGl0eSYmdGhpcy5wbGF5ZXIudGVtcGxhdGUucXVhbGl0eUxpc3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24odCl7dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZHBsYXllci1xdWFsaXR5LWl0ZW1cIikmJmUucGxheWVyLnN3aXRjaFF1YWxpdHkodC50YXJnZXQuZGF0YXNldC5pbmRleCl9KX19LHtrZXk6XCJpbml0U2NyZWVuc2hvdEJ1dHRvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnBsYXllci5vcHRpb25zLnNjcmVlbnNob3QmJnRoaXMucGxheWVyLnRlbXBsYXRlLmNhbWFyZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7dC53aWR0aD1lLnBsYXllci52aWRlby52aWRlb1dpZHRoLHQuaGVpZ2h0PWUucGxheWVyLnZpZGVvLnZpZGVvSGVpZ2h0LHQuZ2V0Q29udGV4dChcIjJkXCIpLmRyYXdJbWFnZShlLnBsYXllci52aWRlbywwLDAsdC53aWR0aCx0LmhlaWdodCk7dmFyIG49dC50b0RhdGFVUkwoKTtlLnBsYXllci50ZW1wbGF0ZS5jYW1hcmVCdXR0b24uaHJlZj1uLGUucGxheWVyLnRlbXBsYXRlLmNhbWFyZUJ1dHRvbi5kb3dubG9hZD1cIkRQbGF5ZXIucG5nXCIsZS5wbGF5ZXIuZXZlbnRzLnRyaWdnZXIoXCJzY3JlZW5zaG90XCIsbil9KX19LHtrZXk6XCJpbml0U3VidGl0bGVCdXR0b25cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5wbGF5ZXIub3B0aW9ucy5zdWJ0aXRsZSYmKHRoaXMucGxheWVyLmV2ZW50cy5vbihcInN1YnRpdGxlX3Nob3dcIixmdW5jdGlvbigpe2UucGxheWVyLnRlbXBsYXRlLnN1YnRpdGxlQnV0dG9uLmRhdGFzZXQuYmFsbG9vbj1lLnBsYXllci50cmFuKFwiSGlkZSBzdWJ0aXRsZVwiKSxlLnBsYXllci50ZW1wbGF0ZS5zdWJ0aXRsZUJ1dHRvbklubmVyLnN0eWxlLm9wYWNpdHk9XCJcIixlLnBsYXllci51c2VyLnNldChcInN1YnRpdGxlXCIsMSl9KSx0aGlzLnBsYXllci5ldmVudHMub24oXCJzdWJ0aXRsZV9oaWRlXCIsZnVuY3Rpb24oKXtlLnBsYXllci50ZW1wbGF0ZS5zdWJ0aXRsZUJ1dHRvbi5kYXRhc2V0LmJhbGxvb249ZS5wbGF5ZXIudHJhbihcIlNob3cgc3VidGl0bGVcIiksZS5wbGF5ZXIudGVtcGxhdGUuc3VidGl0bGVCdXR0b25Jbm5lci5zdHlsZS5vcGFjaXR5PVwiMC40XCIsZS5wbGF5ZXIudXNlci5zZXQoXCJzdWJ0aXRsZVwiLDApfSksdGhpcy5wbGF5ZXIudGVtcGxhdGUuc3VidGl0bGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtlLnBsYXllci5zdWJ0aXRsZS50b2dnbGUoKX0pKX19LHtrZXk6XCJzZXRBdXRvSGlkZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnNob3coKSxjbGVhclRpbWVvdXQodGhpcy5hdXRvSGlkZVRpbWVyKSx0aGlzLmF1dG9IaWRlVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpeyFlLnBsYXllci52aWRlby5wbGF5ZWQubGVuZ3RofHxlLnBsYXllci5wYXVzZWR8fGUuZGlzYWJsZUF1dG9IaWRlfHxlLmhpZGUoKX0sM2UzKX19LHtrZXk6XCJzaG93XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBsYXllci5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcImRwbGF5ZXItaGlkZS1jb250cm9sbGVyXCIpfX0se2tleTpcImhpZGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGxheWVyLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1oaWRlLWNvbnRyb2xsZXJcIiksdGhpcy5wbGF5ZXIuc2V0dGluZy5oaWRlKCksdGhpcy5wbGF5ZXIuY29tbWVudCYmdGhpcy5wbGF5ZXIuY29tbWVudC5oaWRlKCl9fSx7a2V5OlwiaXNTaG93XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5wbGF5ZXIuY29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucyhcImRwbGF5ZXItaGlkZS1jb250cm9sbGVyXCIpfX0se2tleTpcInRvZ2dsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pc1Nob3coKT90aGlzLmhpZGUoKTp0aGlzLnNob3coKX19LHtrZXk6XCJkZXN0cm95XCIsdmFsdWU6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5hdXRvSGlkZVRpbWVyKX19XSksZX0oKTt0LmRlZmF1bHQ9dX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7aSh0aGlzLGUpLHRoaXMuY29udGFpbmVyPXQuY29udGFpbmVyLHRoaXMuYmFyV2lkdGg9dC5iYXJXaWR0aCx0aGlzLmNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9XCJ1cmwoJ1wiK3QudXJsK1wiJylcIix0aGlzLmV2ZW50cz10LmV2ZW50c31yZXR1cm4gYShlLFt7a2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLmNvbnRhaW5lci5zdHlsZS53aWR0aD1lK1wicHhcIix0aGlzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQ9dCtcInB4XCIsdGhpcy5jb250YWluZXIuc3R5bGUudG9wPTItdCtcInB4XCJ9fSx7a2V5Olwic2hvd1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jb250YWluZXIuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdGhpcy5ldmVudHMmJnRoaXMuZXZlbnRzLnRyaWdnZXIoXCJ0aHVtYm5haWxzX3Nob3dcIil9fSx7a2V5OlwibW92ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj1cIi1cIisxNjAqKE1hdGguY2VpbChlL3RoaXMuYmFyV2lkdGgqMTAwKS0xKStcInB4IDBcIix0aGlzLmNvbnRhaW5lci5zdHlsZS5sZWZ0PWUtdGhpcy5jb250YWluZXIub2Zmc2V0V2lkdGgvMitcInB4XCJ9fSx7a2V5OlwiaGlkZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jb250YWluZXIuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLmV2ZW50cyYmdGhpcy5ldmVudHMudHJpZ2dlcihcInRodW1ibmFpbHNfaGlkZVwiKX19XSksZX0oKTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCksbz1uKDApLHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShvKSxyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgbj10aGlzO2kodGhpcyxlKSx0aGlzLnBsYXllcj10LHRoaXMucGxheWVyLnRlbXBsYXRlLm1hc2suYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtuLmhpZGUoKX0pLHRoaXMucGxheWVyLnRlbXBsYXRlLnNldHRpbmdCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtuLnNob3coKX0pLHRoaXMubG9vcD10aGlzLnBsYXllci5vcHRpb25zLmxvb3AsdGhpcy5wbGF5ZXIudGVtcGxhdGUubG9vcFRvZ2dsZS5jaGVja2VkPXRoaXMubG9vcCx0aGlzLnBsYXllci50ZW1wbGF0ZS5sb29wLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7bi5wbGF5ZXIudGVtcGxhdGUubG9vcFRvZ2dsZS5jaGVja2VkPSFuLnBsYXllci50ZW1wbGF0ZS5sb29wVG9nZ2xlLmNoZWNrZWQsbi5wbGF5ZXIudGVtcGxhdGUubG9vcFRvZ2dsZS5jaGVja2VkP24ubG9vcD0hMDpuLmxvb3A9ITEsbi5oaWRlKCl9KSx0aGlzLnNob3dEYW5tYWt1PXRoaXMucGxheWVyLnVzZXIuZ2V0KFwiZGFubWFrdVwiKSx0aGlzLnNob3dEYW5tYWt1fHx0aGlzLnBsYXllci5kYW5tYWt1JiZ0aGlzLnBsYXllci5kYW5tYWt1LmhpZGUoKSx0aGlzLnBsYXllci50ZW1wbGF0ZS5zaG93RGFubWFrdVRvZ2dsZS5jaGVja2VkPXRoaXMuc2hvd0Rhbm1ha3UsdGhpcy5wbGF5ZXIudGVtcGxhdGUuc2hvd0Rhbm1ha3UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtuLnBsYXllci50ZW1wbGF0ZS5zaG93RGFubWFrdVRvZ2dsZS5jaGVja2VkPSFuLnBsYXllci50ZW1wbGF0ZS5zaG93RGFubWFrdVRvZ2dsZS5jaGVja2VkLG4ucGxheWVyLnRlbXBsYXRlLnNob3dEYW5tYWt1VG9nZ2xlLmNoZWNrZWQ/KG4uc2hvd0Rhbm1ha3U9ITAsbi5wbGF5ZXIuZGFubWFrdS5zaG93KCkpOihuLnNob3dEYW5tYWt1PSExLG4ucGxheWVyLmRhbm1ha3UuaGlkZSgpKSxuLnBsYXllci51c2VyLnNldChcImRhbm1ha3VcIixuLnNob3dEYW5tYWt1PzE6MCksbi5oaWRlKCl9KSx0aGlzLnVubGltaXREYW5tYWt1PXRoaXMucGxheWVyLnVzZXIuZ2V0KFwidW5saW1pdGVkXCIpLHRoaXMucGxheWVyLnRlbXBsYXRlLnVubGltaXREYW5tYWt1VG9nZ2xlLmNoZWNrZWQ9dGhpcy51bmxpbWl0RGFubWFrdSx0aGlzLnBsYXllci50ZW1wbGF0ZS51bmxpbWl0RGFubWFrdS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe24ucGxheWVyLnRlbXBsYXRlLnVubGltaXREYW5tYWt1VG9nZ2xlLmNoZWNrZWQ9IW4ucGxheWVyLnRlbXBsYXRlLnVubGltaXREYW5tYWt1VG9nZ2xlLmNoZWNrZWQsbi5wbGF5ZXIudGVtcGxhdGUudW5saW1pdERhbm1ha3VUb2dnbGUuY2hlY2tlZD8obi51bmxpbWl0RGFubWFrdT0hMCxuLnBsYXllci5kYW5tYWt1LnVubGltaXQoITApKToobi51bmxpbWl0RGFubWFrdT0hMSxuLnBsYXllci5kYW5tYWt1LnVubGltaXQoITEpKSxuLnBsYXllci51c2VyLnNldChcInVubGltaXRlZFwiLG4udW5saW1pdERhbm1ha3U/MTowKSxuLmhpZGUoKX0pLHRoaXMucGxheWVyLnRlbXBsYXRlLnNwZWVkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7bi5wbGF5ZXIudGVtcGxhdGUuc2V0dGluZ0JveC5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1zZXR0aW5nLWJveC1uYXJyb3dcIiksbi5wbGF5ZXIudGVtcGxhdGUuc2V0dGluZ0JveC5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1zZXR0aW5nLWJveC1zcGVlZFwiKX0pO2Zvcih2YXIgYT0wO2E8dGhpcy5wbGF5ZXIudGVtcGxhdGUuc3BlZWRJdGVtLmxlbmd0aDthKyspIWZ1bmN0aW9uKGUpe24ucGxheWVyLnRlbXBsYXRlLnNwZWVkSXRlbVtlXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe24ucGxheWVyLnNwZWVkKG4ucGxheWVyLnRlbXBsYXRlLnNwZWVkSXRlbVtlXS5kYXRhc2V0LnNwZWVkKSxuLmhpZGUoKX0pfShhKTtpZih0aGlzLnBsYXllci5kYW5tYWt1KXt0aGlzLnBsYXllci5vbihcImRhbm1ha3Vfb3BhY2l0eVwiLGZ1bmN0aW9uKGUpe24ucGxheWVyLmJhci5zZXQoXCJkYW5tYWt1XCIsZSxcIndpZHRoXCIpLG4ucGxheWVyLnVzZXIuc2V0KFwib3BhY2l0eVwiLGUpfSksdGhpcy5wbGF5ZXIuZGFubWFrdS5vcGFjaXR5KHRoaXMucGxheWVyLnVzZXIuZ2V0KFwib3BhY2l0eVwiKSk7dmFyIG89ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8d2luZG93LmV2ZW50LGk9KCh0LmNsaWVudFh8fHQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCktcy5kZWZhdWx0LmdldEVsZW1lbnRWaWV3TGVmdChuLnBsYXllci50ZW1wbGF0ZS5kYW5tYWt1T3BhY2l0eUJhcldyYXApKS8xMzA7aT1NYXRoLm1heChpLDApLGk9TWF0aC5taW4oaSwxKSxuLnBsYXllci5kYW5tYWt1Lm9wYWNpdHkoaSl9LHI9ZnVuY3Rpb24gZSgpe2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIocy5kZWZhdWx0Lm5hbWVNYXAuZHJhZ0VuZCxlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHMuZGVmYXVsdC5uYW1lTWFwLmRyYWdNb3ZlLG8pLG4ucGxheWVyLnRlbXBsYXRlLmRhbm1ha3VPcGFjaXR5Qm94LmNsYXNzTGlzdC5yZW1vdmUoXCJkcGxheWVyLXNldHRpbmctZGFubWFrdS1hY3RpdmVcIil9O3RoaXMucGxheWVyLnRlbXBsYXRlLmRhbm1ha3VPcGFjaXR5QmFyV3JhcFdyYXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8d2luZG93LmV2ZW50LGk9KCh0LmNsaWVudFh8fHQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCktcy5kZWZhdWx0LmdldEVsZW1lbnRWaWV3TGVmdChuLnBsYXllci50ZW1wbGF0ZS5kYW5tYWt1T3BhY2l0eUJhcldyYXApKS8xMzA7aT1NYXRoLm1heChpLDApLGk9TWF0aC5taW4oaSwxKSxuLnBsYXllci5kYW5tYWt1Lm9wYWNpdHkoaSl9KSx0aGlzLnBsYXllci50ZW1wbGF0ZS5kYW5tYWt1T3BhY2l0eUJhcldyYXBXcmFwLmFkZEV2ZW50TGlzdGVuZXIocy5kZWZhdWx0Lm5hbWVNYXAuZHJhZ1N0YXJ0LGZ1bmN0aW9uKCl7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihzLmRlZmF1bHQubmFtZU1hcC5kcmFnTW92ZSxvKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHMuZGVmYXVsdC5uYW1lTWFwLmRyYWdFbmQsciksbi5wbGF5ZXIudGVtcGxhdGUuZGFubWFrdU9wYWNpdHlCb3guY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItc2V0dGluZy1kYW5tYWt1LWFjdGl2ZVwiKX0pfX1yZXR1cm4gYShlLFt7a2V5OlwiaGlkZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnBsYXllci50ZW1wbGF0ZS5zZXR0aW5nQm94LmNsYXNzTGlzdC5yZW1vdmUoXCJkcGxheWVyLXNldHRpbmctYm94LW9wZW5cIiksdGhpcy5wbGF5ZXIudGVtcGxhdGUubWFzay5jbGFzc0xpc3QucmVtb3ZlKFwiZHBsYXllci1tYXNrLXNob3dcIiksc2V0VGltZW91dChmdW5jdGlvbigpe2UucGxheWVyLnRlbXBsYXRlLnNldHRpbmdCb3guY2xhc3NMaXN0LnJlbW92ZShcImRwbGF5ZXItc2V0dGluZy1ib3gtbmFycm93XCIpLGUucGxheWVyLnRlbXBsYXRlLnNldHRpbmdCb3guY2xhc3NMaXN0LnJlbW92ZShcImRwbGF5ZXItc2V0dGluZy1ib3gtc3BlZWRcIil9LDMwMCksdGhpcy5wbGF5ZXIuY29udHJvbGxlci5kaXNhYmxlQXV0b0hpZGU9ITF9fSx7a2V5Olwic2hvd1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wbGF5ZXIudGVtcGxhdGUuc2V0dGluZ0JveC5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1zZXR0aW5nLWJveC1vcGVuXCIpLHRoaXMucGxheWVyLnRlbXBsYXRlLm1hc2suY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItbWFzay1zaG93XCIpLHRoaXMucGxheWVyLmNvbnRyb2xsZXIuZGlzYWJsZUF1dG9IaWRlPSEwfX1dKSxlfSgpO3QuZGVmYXVsdD1yfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgbj10aGlzO2kodGhpcyxlKSx0aGlzLnBsYXllcj10LHRoaXMucGxheWVyLnRlbXBsYXRlLm1hc2suYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtuLmhpZGUoKX0pLHRoaXMucGxheWVyLnRlbXBsYXRlLmNvbW1lbnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtuLnNob3coKX0pLHRoaXMucGxheWVyLnRlbXBsYXRlLmNvbW1lbnRTZXR0aW5nQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7bi50b2dnbGVTZXR0aW5nKCl9KSx0aGlzLnBsYXllci50ZW1wbGF0ZS5jb21tZW50Q29sb3JTZXR0aW5nQm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7aWYobi5wbGF5ZXIudGVtcGxhdGUuY29tbWVudENvbG9yU2V0dGluZ0JveC5xdWVyeVNlbGVjdG9yKFwiaW5wdXQ6Y2hlY2tlZCtzcGFuXCIpKXt2YXIgZT1uLnBsYXllci50ZW1wbGF0ZS5jb21tZW50Q29sb3JTZXR0aW5nQm94LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dDpjaGVja2VkXCIpLnZhbHVlO24ucGxheWVyLnRlbXBsYXRlLmNvbW1lbnRTZXR0aW5nRmlsbC5zdHlsZS5maWxsPWUsbi5wbGF5ZXIudGVtcGxhdGUuY29tbWVudElucHV0LnN0eWxlLmNvbG9yPWUsbi5wbGF5ZXIudGVtcGxhdGUuY29tbWVudFNlbmRGaWxsLnN0eWxlLmZpbGw9ZX19KSx0aGlzLnBsYXllci50ZW1wbGF0ZS5jb21tZW50SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtuLmhpZGVTZXR0aW5nKCl9KSx0aGlzLnBsYXllci50ZW1wbGF0ZS5jb21tZW50SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixmdW5jdGlvbihlKXsxMz09PShlfHx3aW5kb3cuZXZlbnQpLmtleUNvZGUmJm4uc2VuZCgpfSksdGhpcy5wbGF5ZXIudGVtcGxhdGUuY29tbWVudFNlbmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtuLnNlbmQoKX0pfXJldHVybiBhKGUsW3trZXk6XCJzaG93XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBsYXllci5jb250cm9sbGVyLmRpc2FibGVBdXRvSGlkZT0hMCx0aGlzLnBsYXllci50ZW1wbGF0ZS5jb250cm9sbGVyLmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLWNvbnRyb2xsZXItY29tbWVudFwiKSx0aGlzLnBsYXllci50ZW1wbGF0ZS5tYXNrLmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLW1hc2stc2hvd1wiKSx0aGlzLnBsYXllci5jb250YWluZXIuY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItc2hvdy1jb250cm9sbGVyXCIpLHRoaXMucGxheWVyLnRlbXBsYXRlLmNvbW1lbnRJbnB1dC5mb2N1cygpfX0se2tleTpcImhpZGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGxheWVyLnRlbXBsYXRlLmNvbnRyb2xsZXIuY2xhc3NMaXN0LnJlbW92ZShcImRwbGF5ZXItY29udHJvbGxlci1jb21tZW50XCIpLHRoaXMucGxheWVyLnRlbXBsYXRlLm1hc2suY2xhc3NMaXN0LnJlbW92ZShcImRwbGF5ZXItbWFzay1zaG93XCIpLHRoaXMucGxheWVyLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiZHBsYXllci1zaG93LWNvbnRyb2xsZXJcIiksdGhpcy5wbGF5ZXIuY29udHJvbGxlci5kaXNhYmxlQXV0b0hpZGU9ITEsdGhpcy5oaWRlU2V0dGluZygpfX0se2tleTpcInNob3dTZXR0aW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBsYXllci50ZW1wbGF0ZS5jb21tZW50U2V0dGluZ0JveC5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1jb21tZW50LXNldHRpbmctb3BlblwiKX19LHtrZXk6XCJoaWRlU2V0dGluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wbGF5ZXIudGVtcGxhdGUuY29tbWVudFNldHRpbmdCb3guY2xhc3NMaXN0LnJlbW92ZShcImRwbGF5ZXItY29tbWVudC1zZXR0aW5nLW9wZW5cIil9fSx7a2V5OlwidG9nZ2xlU2V0dGluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wbGF5ZXIudGVtcGxhdGUuY29tbWVudFNldHRpbmdCb3guY2xhc3NMaXN0LmNvbnRhaW5zKFwiZHBsYXllci1jb21tZW50LXNldHRpbmctb3BlblwiKT90aGlzLmhpZGVTZXR0aW5nKCk6dGhpcy5zaG93U2V0dGluZygpfX0se2tleTpcInNlbmRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy5wbGF5ZXIudGVtcGxhdGUuY29tbWVudElucHV0LmJsdXIoKSwhdGhpcy5wbGF5ZXIudGVtcGxhdGUuY29tbWVudElucHV0LnZhbHVlLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIikpcmV0dXJuIHZvaWQgdGhpcy5wbGF5ZXIubm90aWNlKHRoaXMucGxheWVyLnRyYW4oXCJQbGVhc2UgaW5wdXQgZGFubWFrdSBjb250ZW50IVwiKSk7dGhpcy5wbGF5ZXIuZGFubWFrdS5zZW5kKHt0ZXh0OnRoaXMucGxheWVyLnRlbXBsYXRlLmNvbW1lbnRJbnB1dC52YWx1ZSxjb2xvcjp0aGlzLnBsYXllci5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWNvbW1lbnQtc2V0dGluZy1jb2xvciBpbnB1dDpjaGVja2VkXCIpLnZhbHVlLHR5cGU6dGhpcy5wbGF5ZXIuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1jb21tZW50LXNldHRpbmctdHlwZSBpbnB1dDpjaGVja2VkXCIpLnZhbHVlfSxmdW5jdGlvbigpe2UucGxheWVyLnRlbXBsYXRlLmNvbW1lbnRJbnB1dC52YWx1ZT1cIlwiLGUuaGlkZSgpfSl9fV0pLGV9KCk7dC5kZWZhdWx0PW99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1mdW5jdGlvbiBlKHQpe2kodGhpcyxlKSx0Lm9wdGlvbnMuaG90a2V5JiZkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLGZ1bmN0aW9uKGUpe2lmKHQuZm9jdXMpe3ZhciBuPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQudGFnTmFtZS50b1VwcGVyQ2FzZSgpLGk9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik7aWYoXCJJTlBVVFwiIT09biYmXCJURVhUQVJFQVwiIT09biYmXCJcIiE9PWkmJlwidHJ1ZVwiIT09aSl7dmFyIGE9ZXx8d2luZG93LmV2ZW50LG89dm9pZCAwO3N3aXRjaChhLmtleUNvZGUpe2Nhc2UgMzI6YS5wcmV2ZW50RGVmYXVsdCgpLHQudG9nZ2xlKCk7YnJlYWs7Y2FzZSAzNzphLnByZXZlbnREZWZhdWx0KCksdC5zZWVrKHQudmlkZW8uY3VycmVudFRpbWUtNSksdC5jb250cm9sbGVyLnNldEF1dG9IaWRlKCk7YnJlYWs7Y2FzZSAzOTphLnByZXZlbnREZWZhdWx0KCksdC5zZWVrKHQudmlkZW8uY3VycmVudFRpbWUrNSksdC5jb250cm9sbGVyLnNldEF1dG9IaWRlKCk7YnJlYWs7Y2FzZSAzODphLnByZXZlbnREZWZhdWx0KCksbz10LnZvbHVtZSgpKy4xLHQudm9sdW1lKG8pO2JyZWFrO2Nhc2UgNDA6YS5wcmV2ZW50RGVmYXVsdCgpLG89dC52b2x1bWUoKS0uMSx0LnZvbHVtZShvKX19fX0pLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsZnVuY3Rpb24oZSl7c3dpdGNoKChlfHx3aW5kb3cuZXZlbnQpLmtleUNvZGUpe2Nhc2UgMjc6dC5mdWxsU2NyZWVuLmlzRnVsbFNjcmVlbihcIndlYlwiKSYmdC5mdWxsU2NyZWVuLmNhbmNlbChcIndlYlwiKX19KX07dC5kZWZhdWx0PWF9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBuPXRoaXM7aSh0aGlzLGUpLHRoaXMucGxheWVyPXQsdGhpcy5wbGF5ZXIuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLGZ1bmN0aW9uKGUpe3ZhciB0PWV8fHdpbmRvdy5ldmVudDt0LnByZXZlbnREZWZhdWx0KCk7dmFyIGk9bi5wbGF5ZXIuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO24uc2hvdyh0LmNsaWVudFgtaS5sZWZ0LHQuY2xpZW50WS1pLnRvcCksbi5wbGF5ZXIudGVtcGxhdGUubWFzay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe24uaGlkZSgpfSl9KX1yZXR1cm4gYShlLFt7a2V5Olwic2hvd1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5wbGF5ZXIudGVtcGxhdGUubWVudS5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1tZW51LXNob3dcIik7dmFyIG49dGhpcy5wbGF5ZXIuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2UrdGhpcy5wbGF5ZXIudGVtcGxhdGUubWVudS5vZmZzZXRXaWR0aD49bi53aWR0aD8odGhpcy5wbGF5ZXIudGVtcGxhdGUubWVudS5zdHlsZS5yaWdodD1uLndpZHRoLWUrXCJweFwiLHRoaXMucGxheWVyLnRlbXBsYXRlLm1lbnUuc3R5bGUubGVmdD1cImluaXRpYWxcIik6KHRoaXMucGxheWVyLnRlbXBsYXRlLm1lbnUuc3R5bGUubGVmdD1lK1wicHhcIix0aGlzLnBsYXllci50ZW1wbGF0ZS5tZW51LnN0eWxlLnJpZ2h0PVwiaW5pdGlhbFwiKSx0K3RoaXMucGxheWVyLnRlbXBsYXRlLm1lbnUub2Zmc2V0SGVpZ2h0Pj1uLmhlaWdodD8odGhpcy5wbGF5ZXIudGVtcGxhdGUubWVudS5zdHlsZS5ib3R0b209bi5oZWlnaHQtdCtcInB4XCIsdGhpcy5wbGF5ZXIudGVtcGxhdGUubWVudS5zdHlsZS50b3A9XCJpbml0aWFsXCIpOih0aGlzLnBsYXllci50ZW1wbGF0ZS5tZW51LnN0eWxlLnRvcD10K1wicHhcIix0aGlzLnBsYXllci50ZW1wbGF0ZS5tZW51LnN0eWxlLmJvdHRvbT1cImluaXRpYWxcIiksdGhpcy5wbGF5ZXIudGVtcGxhdGUubWFzay5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1tYXNrLXNob3dcIiksdGhpcy5wbGF5ZXIuZXZlbnRzLnRyaWdnZXIoXCJjb250ZXh0bWVudV9zaG93XCIpfX0se2tleTpcImhpZGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGxheWVyLnRlbXBsYXRlLm1hc2suY2xhc3NMaXN0LnJlbW92ZShcImRwbGF5ZXItbWFzay1zaG93XCIpLHRoaXMucGxheWVyLnRlbXBsYXRlLm1lbnUuY2xhc3NMaXN0LnJlbW92ZShcImRwbGF5ZXItbWVudS1zaG93XCIpLHRoaXMucGxheWVyLmV2ZW50cy50cmlnZ2VyKFwiY29udGV4dG1lbnVfaGlkZVwiKX19XSksZX0oKTt0LmRlZmF1bHQ9b31dKS5kZWZhdWx0fSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EUGxheWVyLm1pbi5qcy5tYXAiLCJjb25zdCBjID0gY29uc29sZS5sb2csXG4gIGQgPSBkb2N1bWVudCxcbiAgbiA9IG5hdmlnYXRvcixcbiAgdyA9IHdpbmRvd1xuXG5leHBvcnQgY29uc3QgY2F0ZWdvcmllcyA9ICgpID0+IHtcblxuICBjb25zdCByZWFkeVN0YXRlID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuXG4gICAgaWYgKCBkLnJlYWR5U3RhdGUgID09PSAnY29tcGxldGUnICkge1xuXG4gICAgICBjbGVhckludGVydmFsKHJlYWR5U3RhdGUpXG5cbiAgICAgIGxldCB0cGwgPSAnJ1xuXG4gICAgICAvL05hYmlnYXppbyBib3RvaWFcbiAgICAgIGQuZ2V0RWxlbWVudEJ5SWQoXCJjYXRlZ29yaWVzLWJ0blwiKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGQucXVlcnlTZWxlY3RvcignLm9mZi1jYW52YXMtbWVudScpLmNsYXNzTGlzdC50b2dnbGUoJ2lzLW9wZW4nKVxuXG4gICAgICAgIC8vS2F0ZWdvcmlhbiBpa29ub2EgKG1lbnUgb2ZmLWNhbnZhcylcbiAgICAgICAgaWYoIGQucXVlcnlTZWxlY3RvcignLm5hdi1pY29uJykuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaXMtYWN0aXZlXCIpKXtcbiAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5uYXYtaWNvbicpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpXG4gICAgICAgIH1lbHNlIHtcbiAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5uYXYtaWNvbicpLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAvL3NjYXBlIHRla2xhIGJpZGV6IGl0eGkgbWVudWFcbiAgICAgIGQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZSkgPT4ge1xuICAgICAgICBpZiAoZS5rZXlDb2RlID09IDI3KSB7XG4gICAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcub2ZmLWNhbnZhcy1tZW51JykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpXG4gICAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcubmF2LWljb24nKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICAvL0thdGVnb3JpYWsgZWthcnJpXG4gICAgICBmdW5jdGlvbiBmZXRjaEFsbENhdGVnb3JpZXMoZGF0YSwgcmVxdWVzdEZyb21CR1N5bmMpIHtcbiAgICAgICAgLy9CZWhhcnJlemtvIHNla3ppb2FrIGV6a3V0YXR1XG4gICAgICAgIGQucXVlcnlTZWxlY3RvckFsbCgnLnNlY3Rpb24nKS5mb3JFYWNoKCBzZWN0aW9uID0+IHtcbiAgICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3UtaGlkZScpXG4gICAgICAgIH0pXG4gICAgICAgIGQucXVlcnlTZWxlY3RvcignLmNhdGVnb3JpZXMnKS5jbGFzc0xpc3QucmVtb3ZlKCd1LWhpZGUnKVxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy50dicpLmNsYXNzTGlzdC5yZW1vdmUoJ3UtaGlkZScpXG5cbiAgICAgICAgZmV0Y2goZGF0YSlcbiAgICAgICAgICAudGhlbiggcmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpIClcbiAgICAgICAgICAudGhlbihqc29uID0+IHtcblxuICAgICAgICAgICAgaWYgKCAhcmVxdWVzdEZyb21CR1N5bmMgKSB7XG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdjYXRlZ29yeS1saXN0JylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xvY2FsSnNvbkNhdGVnb3JpZXMnLCBKU09OLnN0cmluZ2lmeShqc29uKSk7XG5cbiAgICAgICAgICAgIGpzb24ubWVtYmVyLmZvckVhY2goanNvbkNhdCA9PiB7XG4gICAgICAgICAgICAgIHRwbCArPSBgXG4gICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzPVwiY2F0ZWdvcnktaWRcIiBkYXRhLWNhdGVnb3J5PVwiJHtqc29uQ2F0W1wiQGlkXCJdfVwiPlxuICAgICAgICAgICAgICAgIFx0JHtqc29uQ2F0LnRpdGxlfVxuICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcuY2F0ZWdvcmllc19fbGlzdCcpLmlubmVySFRNTCA9IHRwbFxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGVyciA9PlxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NhdGVnb3J5LWxpc3QnLCBkYXRhKVxuICAgICAgICAgIClcbiAgICAgIH1cblxuICAgICAgLy9BcGxpa2F6aW9yYSBzYXJ0emVuIGRlbmVhbiBlZ2luIGJlaGFycmVrb2FcbiAgICAgIGxldCBkYXRhID0gJy8vc3RpbGwtY2FzdGxlLTk5NzQ5Lmhlcm9rdWFwcC5jb20vcHJvZ3JhbS10eXBlLWxpc3QnXG4gICAgICAgIFxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NhdGVnb3J5LWxpc3QnLCBkYXRhKVxuXG4gICAgICBmZXRjaEFsbENhdGVnb3JpZXMoZGF0YSwgZmFsc2UpXG5cbiAgICAgIC8vQmFja2dyb3VuZCBTeW5jIChwcm9ncmFtYWspXG4gICAgICBpZiAoICdzZXJ2aWNlV29ya2VyJyBpbiBuICYmICdTeW5jTWFuYWdlcicgaW4gdyApIHtcbiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJCR1N5bmMgKCkge1xuICAgICAgICAgIG4uc2VydmljZVdvcmtlci5yZWFkeVxuICAgICAgICAgIC50aGVuKHJlZ2lzdHJhdGlvbiA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVnaXN0cmF0aW9uLnN5bmMucmVnaXN0ZXIoJ25haGllcmFuLXR2LWNhdGVnb3JpZXMnKVxuICAgICAgICAgICAgICAudGhlbiggKCkgPT4gYygnQXR6ZWtvIHNpbmtyb25pemF6aW9hIGVycmVnaXN0cmF0dWEnKSApXG4gICAgICAgICAgICAgIC5jYXRjaCggZXJyID0+IGMoJ0Vycm9yZWEgYXR6ZWtvIHNpbmtyb25pemF6aW9hIGVycmVnaXN0cmF0emVhbicsIGVycikgKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgcmVnaXN0ZXJCR1N5bmMoKVxuICAgICAgfVxuICAgICAgLy9CYWNrZ3JvdW5kIFN5bmMgKHByb2dyYW1haylcbiAgICAgIG4uc2VydmljZVdvcmtlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZSA9PiB7XG4gICAgICAgIGMoJ0F0emVrbyBzaW5rcm9uaXphemlvYSBtZXNzYWdlIGJpZGV6OiAnLCBlLmRhdGEpXG4gICAgICAgIGlmKCBlLmRhdGEgPT09ICdvbmxpbmUgbmFoaWVyYW4tdHYtY2F0ZWdvcmllcycgKVxuICAgICAgICAgIGZldGNoQWxsQ2F0ZWdvcmllcyggbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NhdGVnb3J5LWxpc3QnKSwgdHJ1ZSlcbiAgICAgIH0pXG5cbiAgICB9IC8vcmVhZHlTdGF0ZVxuXG4gIH0sIDEwMCApLy9pbnRlcnZhbFxuXG4gIHJldHVybiBgXG4gICAgPGRpdiBjbGFzcz1cImNhdGVnb3JpZXMgb2ZmLWNhbnZhcy1tZW51XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwibG9hZGVyXCI+PC9kaXY+XG4gICAgICA8dWwgY2xhc3M9XCJjYXRlZ29yaWVzX19saXN0XCI+PC91bD5cbiAgICA8L2Rpdj5cbiAgICBgXG59XG4iLCJjb25zdCBjID0gY29uc29sZS5sb2csXG4gIGQgPSBkb2N1bWVudCxcbiAgbiA9IG5hdmlnYXRvcixcbiAgdyA9IHdpbmRvd1xuXG5leHBvcnQgY29uc3QgY2F0ZWdvcmllc1NpbmdsZSA9ICgpID0+IHtcblxuICBjb25zdCByZWFkeVN0YXRlID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuXG4gICAgaWYgKCBkLnJlYWR5U3RhdGUgID09PSAnY29tcGxldGUnICkge1xuXG4gICAgICBjbGVhckludGVydmFsKHJlYWR5U3RhdGUpXG5cbiAgICAgIC8vS2F0ZWdvcmlhIHplcnJlbmRhIGVrYXJyaVxuICBcdCAgZnVuY3Rpb24gZmV0Y2hDYXRlZ29yeShqc29uRGF0YSwgcmVxdWVzdEZyb21CR1N5bmMsIGNhdE5hbWUpIHtcblxuXHRcdCAgXHRsZXQgZGF0YSA9IGpzb25EYXRhLnNsaWNlKDUpLFxuXHRcdCAgXHQgIHRwbCA9ICcnXG5cbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcub2ZmLWNhbnZhcy1tZW51JykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpXG4gICAgICAgIGQucXVlcnlTZWxlY3RvcignLm5hdi1pY29uJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJylcbiAgICAgICAgLy9Mb2FkZXIgZXJha3V0c2lcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyLWNhdCcpLmNsYXNzTGlzdC5hZGQoJ2xvYWRlci1zaG93JylcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyLXRlbXBsYXRlLWNhdCcpLmNsYXNzTGlzdC5hZGQoJ2xvYWRlci1zaG93JylcbiAgICAgICAgLy9CZWhhcnJlemtvIHNla3ppb2FrIGV6a3V0YXR1XG4gICAgICAgIGQucXVlcnlTZWxlY3RvckFsbCgnLnNlY3Rpb24nKS5mb3JFYWNoKCBzZWN0aW9uID0+IHtcbiAgICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3UtaGlkZScpXG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICAvL0JpZGVvYSBtYXJ0eGFuIGJhZGFnbyBlcmUsIGdlcmF0dVxuICAgICAgICBpZihkLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci12aWRlb1wiKSkge1xuICAgICAgICAgIGQucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXZpZGVvXCIpLnBhdXNlKClcbiAgICAgICAgfVxuXG4gICAgICAgIGZldGNoKGRhdGEpXG4gICAgICAgICAgLnRoZW4oIHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSApXG4gICAgICAgICAgLnRoZW4oanNvbiA9PiB7XG5cbiAgICAgICAgICAgIGlmICggIXJlcXVlc3RGcm9tQkdTeW5jICkge1xuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnY2F0ZWdvcnknKVxuICAgICAgXHRcdFx0fVxuXG4gICAgICAgICAgICAvL0xvYWRlciBlemt1dGF0dVxuICAgICAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyLWNhdCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2xvYWRlci1zaG93JylcbiAgICAgICAgICAgIGQucXVlcnlTZWxlY3RvcignLmxvYWRlci10ZW1wbGF0ZS1jYXQnKS5jbGFzc0xpc3QucmVtb3ZlKCdsb2FkZXItc2hvdycpXG5cbiAgICAgICAgICAgIGQucXVlcnlTZWxlY3RvcignLnNpbmdsZS1jYXQnKS5jbGFzc0xpc3QucmVtb3ZlKCd1LWhpZGUnKVxuXG4gICAgICAgIFx0XHRqc29uLm1lbWJlci5mb3JFYWNoKGpzb25DYXQgPT4ge1xuICAgICAgICAgICAgICB0cGwgKz0gYFxuICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJwcm9ncmFtLWlkXCIgZGF0YS1wcm9ncmFtPVwiJHtqc29uQ2F0W1wiQGlkXCJdfVwiPlxuICAgICAgICAgICAgICAgICAgICAke2pzb25DYXQudGl0bGV9XG4gICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5zaW5nbGUtY2F0X19saXN0JykuaW5uZXJIVE1MID0gdHBsXG4gICAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5zaW5nbGUtY2F0X19oZWFkZXInKS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0dl9fdGl0bGVcIj4ke2NhdE5hbWV9PC9kaXY+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidHZfX251bWJlclwiPigke2pzb24ubWVtYmVyLmxlbmd0aH0pPC9zcGFuPiBzYWlvIGVyYWt1c3RlblxuICAgICAgICAgICAgICBgXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpXG5cbiAgICAgIH0gLy9mZXRjaENhdGVnb3J5XG5cbiAgICAgIGQucXVlcnlTZWxlY3RvcignLmNhdGVnb3JpZXNfX2xpc3QnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAgICAgaWYoIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2F0ZWdvcnktaWQnKSApIHtcbiAgICAgICAgICB2YXIgY2F0TmFtZSA9IGUudGFyZ2V0LmlubmVySFRNTFxuICAgICAgICAgIGxldCBkYXRhID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNhdGVnb3J5JylcblxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjYXRlZ29yeScsIGRhdGEpXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NhdGVnb3J5LW5hbWUnLCBjYXROYW1lKVxuXG4gICAgICAgICAgZmV0Y2hDYXRlZ29yeShkYXRhLCBmYWxzZSwgY2F0TmFtZSlcblxuICAgICAgICAgIC8vQmFja2dyb3VuZCBTeW5jIChrYXRlZ29yaWEpXG4gICAgICAgICAgaWYgKCAnc2VydmljZVdvcmtlcicgaW4gbiAmJiAnU3luY01hbmFnZXInIGluIHcgKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiByZWdpc3RlckJHU3luYyAoKSB7XG4gICAgICAgICAgICAgIG4uc2VydmljZVdvcmtlci5yZWFkeVxuICAgICAgICAgICAgICAudGhlbihyZWdpc3RyYXRpb24gPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWdpc3RyYXRpb24uc3luYy5yZWdpc3RlcignbmFoaWVyYW4tY2F0ZWdvcnknKVxuICAgICAgICAgICAgICAgIC50aGVuKCAoKSA9PiBjKCdBdHpla28gc2lua3Jvbml6YXppb2EgZXJyZWdpc3RyYXR1YScpIClcbiAgICAgICAgICAgICAgICAuY2F0Y2goIGVyciA9PiBjKCdFcnJvcmVhIGF0emVrbyBzaW5rcm9uaXphemlvYSBlcnJlZ2lzdHJhdHplYW4nLCBlcnIpIClcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlZ2lzdGVyQkdTeW5jKClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAvL0JhY2tncm91bmQgU3luYyAoa2F0ZWdvcmlhKVxuICAgICAgbi5zZXJ2aWNlV29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBlID0+IHtcblx0XHQgICAgY29uc29sZS5sb2coJ0F0emVrbyBzaW5rcm9uaXphemlvYSBtZXNzYWdlIGJpZGV6IGFrdGliYXR1YTogJywgZS5kYXRhKVxuXHRcdCAgICBpZiggZS5kYXRhID09PSAnb25saW5lIG5haGllcmFuLWNhdGVnb3J5Jylcblx0XHQgICAgXHRmZXRjaENhdGVnb3J5KGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXRlZ29yeScpLCB0cnVlLCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2F0ZWdvcnktbmFtZScpKVxuXHRcdCAgfSlcblxuICAgIH0gLy9yZWFkeVN0YXRlXG5cbiAgfSwgMTAwICkgLy9pbnRlcnZhbFxuXG4gIHJldHVybiBgXG4gICAgPGRpdiBjbGFzcz1cImxvYWRlci10ZW1wbGF0ZSBsb2FkZXItdGVtcGxhdGUtY2F0XCI+XG4gICAgXHQ8ZGl2IGNsYXNzPVwibG9hZGVyIGxvYWRlci1jYXRcIj48L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwic2luZ2xlLWNhdCBzZWN0aW9uIHUtaGlkZVwiPlxuICAgICAgPGhlYWRlciBjbGFzcz1cInNlY3Rpb24taGVhZGVyIHR2X19oZWFkZXIgc2luZ2xlLWNhdF9faGVhZGVyXCI+PC9oZWFkZXI+XG4gICAgICA8dWwgY2xhc3M9XCJ0dl9fbGlzdCBzaW5nbGUtY2F0X19saXN0XCI+PC91bD5cbiAgICA8L2Rpdj5cbiAgICBgXG59XG4iLCJpbXBvcnQge3R2fSBmcm9tICcuL3R2JztcblxuY29uc3QgYyA9IGNvbnNvbGUubG9nLFxuICBkID0gZG9jdW1lbnQsXG4gIG4gPSBuYXZpZ2F0b3IsXG4gIHcgPSB3aW5kb3dcblxuZXhwb3J0IGNvbnN0IHB3YSA9ICgpID0+IHtcbiAgLy9TZXJ2aWNlIFdvcmtlcnJhIGVycmVnaXN0cmF0dVxuICBpZiAoICdzZXJ2aWNlV29ya2VyJyBpbiBuICYmIG4udXNlckFnZW50LmluZGV4T2YoXCJGaXJlZm94XCIpID09PSAtMSApIHsgLy9FeGtsdWl0dSBmaXJlZm94IFNXIGVycmVnaXN0cm90aWtcbiAgICBuLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJy4vc3cuanMnKVxuXG4gICAgLnRoZW4oIHJlZ2lzdHJhdGlvbiA9PiB7XG4gICAgICBjKCdTZXJ2aWNlIFdvcmtlciBlcnJlZ2lzdHJhdHVhJywgcmVnaXN0cmF0aW9uLnNjb3BlKVxuICAgIH0pXG4gICAgLmNhdGNoKCBlcnIgPT4gYygnUmVnaXN0cm8gZGUgU2VydmljZSBXb3JrZXIgZmFsbGlkbycsIGVycikgKVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBpc09ubGluZSA9ICgpID0+IHtcbiAgLy9Lb25leGlvYXJlbiBlZ29lcmEgKG9ubGluZS9vZmZsaW5lKVxuICBjb25zdCBtZXRhVGFnVGhlbWUgPSBkLnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT10aGVtZS1jb2xvcl0nKVxuXG4gIGZ1bmN0aW9uIG5ldHdvcmtTdGF0dXMgKGUpIHtcblxuICAgIGlmICggbi5vbkxpbmUgKSB7XG4gICAgICBtZXRhVGFnVGhlbWUuc2V0QXR0cmlidXRlKCdjb250ZW50JywgJyNmZmZmZmYnKVxuICAgICAgZC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tZm9vdGVyX19zdGF0dXNcIikuY2xhc3NMaXN0LnJlbW92ZShcIm9mZmxpbmVcIilcbiAgICAgIGQucXVlcnlTZWxlY3RvcihcIi5vZmZsaW5lXCIpLmlubmVySFRNTCA9IFwiXCJcbiAgICB9IGVsc2Uge1xuICAgICAgbWV0YVRhZ1RoZW1lLnNldEF0dHJpYnV0ZSgnY29udGVudCcsICcjYzljOWM5JylcbiAgICAgIGQucXVlcnlTZWxlY3RvcihcIi5tYWluLWZvb3Rlcl9fc3RhdHVzXCIpLmNsYXNzTGlzdC5hZGQoXCJvZmZsaW5lXCIpXG4gICAgICBkLnF1ZXJ5U2VsZWN0b3IoXCIub2ZmbGluZVwiKS5pbm5lckhUTUwgPSBcIjxkaXYgY2xhc3M9J3RleHQnPlNhcmVhIGJlcnJlc2t1cmF0emVuLi4uPC9kaXY+XCJcbiAgICB9XG4gIH1cblxuICB3LmFkZEV2ZW50TGlzdGVuZXIoJ29ubGluZScsIG5ldHdvcmtTdGF0dXMpXG4gIHcuYWRkRXZlbnRMaXN0ZW5lcignb2ZmbGluZScsIG5ldHdvcmtTdGF0dXMpXG59XG5cbmV4cG9ydCBjb25zdCBpbml0ID0gKCkgPT4ge1xuICBcbiAgY29uc3QgcmVhZHlTdGF0ZSA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAvL0FwbGlrYXppb2EvbGVpaG9hIGVndW5lcmF0dVxuICAgIGlmICggZC5yZWFkeVN0YXRlICA9PT0gJ2NvbXBsZXRlJyApIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwocmVhZHlTdGF0ZSlcbiAgICAgIGQuZ2V0RWxlbWVudEJ5SWQoXCJyZWxvYWQtYXBwXCIpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgbG9jYXRpb24ucmVsb2FkKClcbiAgICAgIH0pXG4gICAgfVxuICB9LCAxMDAgKVxuXG4gIHJldHVybiBgXG4gIDxoZWFkZXIgY2xhc3M9XCJtYWluLWhlYWRlclwiPlxuICAgIDxkaXYgY2xhc3M9XCJtYWluLWhlYWRlcl9fY29sc1wiPlxuICAgICAgPGltZyBzcmM9XCIuL2Fzc2V0cy9laXRiLWxvZ28tYmx1ZS5zdmdcIiBhbHQ9XCJOYWhpZXJhblwiIGNsYXNzPVwibWFpbi1oZWFkZXJfX2xvZ29cIiBpZD1cInJlbG9hZC1hcHBcIj5cbiAgICAgIDxzcGFuIGNsYXNzPVwibWFpbi1oZWFkZXJfX3Nsb2dhblwiPm5haGllcmFuPC9zcGFuPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJtYWluLWhlYWRlcl9fY29scyByaWdodFwiPlxuICAgICAgPGRpdiBjbGFzcz1cIm5hdi1pY29uXCIgaWQ9XCJjYXRlZ29yaWVzLWJ0blwiPlxuICAgICAgXHQ8ZGl2IGNsYXNzPVwibmF2LWljb25fX2JhclwiPjwvZGl2PlxuICAgICAgXHQ8ZGl2IGNsYXNzPVwibmF2LWljb25fX2JhclwiPjwvZGl2PlxuICAgICAgXHQ8ZGl2IGNsYXNzPVwibmF2LWljb25fX2JhclwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvaGVhZGVyPlxuXG4gICR7dHYoKX1cblxuICA8Zm9vdGVyIGNsYXNzPVwibWFpbi1mb290ZXJcIj5cbiAgICA8ZGl2IGNsYXNzPVwibWFpbi1mb290ZXJfX3N0YXR1c1wiPjwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJtYWluLWZvb3Rlcl9fcm93XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwibWFpbi1mb290ZXJfX2NvbC1sb2dvXCI+XG4gICAgICBcdDxpbWcgc3JjPVwiLi9hc3NldHMvZWl0Yi1sb2dvLXdoaXRlLnN2Z1wiIGFsdD1cImVpdGIgbmFoaWVyYW5cIiBjbGFzcz1cIm1haW4tZm9vdGVyX19sb2dvXCI+XG4gICAgICBcdDxkaXYgY2xhc3M9XCJtYWluLWZvb3Rlcl9fdGV4dFwiPkF6a2VuIGVndW5lcmFrZXRhOlxuICAgICAgXHRcdDxzcGFuIGNsYXNzPVwic2F2ZWQtZGF0ZVwiPiR7bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJqc29uRGF0ZVwiKX08L3NwYW4+XG4gICAgICBcdDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwibWFpbi1mb290ZXJfX2NvbC1idG4gZGVsZXRlU3RvcmFnZVwiPlxuICAgICAgXHQ8aW1nIHNyYz1cIi4vYXNzZXRzL3JlbG9hZC5zdmdcIiBhbHQ9XCJEYXR1YWsgZWd1bmVyYXR1XCIgY2xhc3M9XCJtYWluLWZvb3Rlcl9fcmVsb2FkXCI+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIDxkaXYgY2xhc3M9XCJtYWluLWZvb3Rlcl9fcm93XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwibWFpbi1mb290ZXJfX3Bvd2VyZWQtYnlcIj5cbiAgICAgIFx0UFdBIGdhcmFwZW5hIDxhIG9uY2xpY2s9XCJ3aW5kb3cubG9jYXRpb249J2h0dHBzOi8vdHdpdHRlci5jb20vYXNpZXJtdXNhJ1wiIGhyZWY9XCIjXCI+QGFzaWVybXVzYTwvYT4gfFxuICAgICAgXHRlaXRiIEFQSWEgPGEgb25jbGljaz1cIndpbmRvdy5sb2NhdGlvbj0naHR0cHM6Ly90d2l0dGVyLmNvbS9lcnJhbGluJ1wiIGhyZWY9XCIjXCI+QGVycmFsaW48L2E+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9mb290ZXI+XG4gIGBcbn1cbiIsImltcG9ydCB7Y2F0ZWdvcmllc30gZnJvbSAnLi9jYXRlZ29yaWVzJ1xuaW1wb3J0IHtzZWxlY3RQcm9ncmFtfSBmcm9tICcuL3R2UHJvZ3JhbSdcbmltcG9ydCB7c2VsZWN0RXBpc29kZX0gZnJvbSAnLi90dlByb2dyYW1FcGlzb2RlJ1xuaW1wb3J0IHtjYXRlZ29yaWVzU2luZ2xlfSBmcm9tICcuL2NhdGVnb3JpZXNTaW5nbGUnXG5cbmNvbnN0IGMgPSBjb25zb2xlLmxvZyxcbiAgZCA9IGRvY3VtZW50LFxuICBuID0gbmF2aWdhdG9yLFxuICB3ID0gd2luZG93XG5cbmNvbnN0IGZpbHRlcmluZyA9ICh1bCkgPT4ge1xuXG4gIGQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbmQtcHJvZ3JhbXMnKS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChlKSA9PiB7XG5cbiAgICBsZXQganNvbiA9IEpTT04ucGFyc2UoIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2NhbEpzb24nKSksXG4gICAgICBsaXN0YSA9IG51bGwsXG4gICAgICB0cGwgPSAnJ1xuXG4gICAgbGlzdGEgPSBqc29uLm1lbWJlci5maWx0ZXIoIGxpc3QgPT4ge1xuICAgICAgcmV0dXJuIGxpc3QudGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhlLnRhcmdldC52YWx1ZS50b0xvd2VyQ2FzZSgpKVxuICAgIH0pXG5cbiAgICBsaXN0YS5mb3JFYWNoKGpzb24gPT4ge1xuICAgICAgdHBsICs9XG4gICAgICBgXG4gICAgICA8bGk+XG4gICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJwcm9ncmFtLWlkXCIgZGF0YS1wcm9ncmFtPVwiJHtqc29uW1wiQGlkXCJdfVwiPlxuICAgICAgICAke2pzb24udGl0bGV9XG4gICAgICAgIDwvYT5cbiAgICAgIDwvbGk+XG4gICAgICBgXG4gICAgfSlcblxuICAgIGQucXVlcnlTZWxlY3Rvcih1bCkuaW5uZXJIVE1MID0gdHBsXG4gICAgZC5xdWVyeVNlbGVjdG9yKCcudHZfX2hlYWRlcicpLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cInR2X19udW1iZXJcIj4ke2xpc3RhLmxlbmd0aH08L3NwYW4+IHNhaW8gZXJha3VzdGVuYFxuICB9KVxufVxuXG5leHBvcnQgY29uc3QgdHYgPSAoKSA9PiB7XG5cbiAgY29uc3QgcmVhZHlTdGF0ZSA9IHNldEludGVydmFsKCgpID0+IHtcblxuICAgIGlmICggZC5yZWFkeVN0YXRlICA9PT0gJ2NvbXBsZXRlJyApIHtcblxuICAgICAgY2xlYXJJbnRlcnZhbChyZWFkeVN0YXRlKVxuXG4gICAgICAvL1Byb2dyYW1hIGVyYWt1dHNpIChidWtsZWEpXG4gICAgICBmdW5jdGlvbiBnZXRQcm9ncmFtcyhqc29uKSB7XG5cbiAgICAgICAgbGV0IHRwbCA9ICcnXG5cbiAgICAgICAgSlNPTi5wYXJzZShqc29uKS5tZW1iZXIuZm9yRWFjaChqc29uID0+IHtcblxuICAgICAgICAgIHRwbCArPSBgXG4gICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJwcm9ncmFtLWlkXCIgZGF0YS1wcm9ncmFtPVwiJHtqc29uW1wiQGlkXCJdfVwiPlxuICAgICAgICAgICAgICAgICR7anNvbi50aXRsZX1cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIGBcbiAgICAgICAgfSlcblxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy50dl9fbGlzdCcpLmlubmVySFRNTCA9IHRwbFxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy50dl9faGVhZGVyJykuaW5uZXJIVE1MID0gYFNhaW8gZ3V6dGlhayBlcmFrdXN0ZW4gPHNwYW4gY2xhc3M9XCJ0dl9fbnVtYmVyXCI+KCR7SlNPTi5wYXJzZSgganNvbiApLm1lbWJlci5sZW5ndGh9KTwvc3Bhbj5gXG4gICAgICAgIC8vTG9hZGVyIGV6a3V0YXR1XG4gICAgICAgIGQucXVlcnlTZWxlY3RvcignLmxvYWRlci10dicpLmNsYXNzTGlzdC5yZW1vdmUoJ2xvYWRlci1zaG93JylcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyLXRlbXBsYXRlLXR2JykuY2xhc3NMaXN0LnJlbW92ZSgnbG9hZGVyLXNob3cnKVxuICAgICAgICAvL0Zvb3RlcnJlYW4gQVBJYXJlbiBlZ3VuZXJha2V0YSBkYXRhIGJpc3RhcmF0dVxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5tYWluLWZvb3Rlcl9fdGV4dCcpLmNsYXNzTGlzdC5hZGQoJ2lzLWNhY2hlJylcbiAgICAgIH1cblxuICAgICAgLy9Qcm9ncmFtYWsgZWthcnJpXG4gICAgICBmdW5jdGlvbiBmZXRjaEFsbFByb2dyYW1zKGRhdGEsIHJlcXVlc3RGcm9tQkdTeW5jLCByZXNldCkge1xuXG4gICAgICAgIGxldCB0cGwgPSAnJ1xuXG4gICAgICAgIC8vTG9hZGVyIGVyYWt1dHNpXG4gICAgICAgIGQucXVlcnlTZWxlY3RvcignLmxvYWRlci10ZW1wbGF0ZS10dicpLmNsYXNzTGlzdC5hZGQoJ2xvYWRlci1zaG93JylcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyLXR2JykuY2xhc3NMaXN0LmFkZCgnbG9hZGVyLXNob3cnKVxuICAgICAgICAvL0JlaGFycmV6a28gc2VremlvYWsgZXprdXRhdHVcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbicpLmZvckVhY2goIHNlY3Rpb24gPT4ge1xuICAgICAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LmFkZCgndS1oaWRlJylcbiAgICAgICAgfSlcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcuY2F0ZWdvcmllcycpLmNsYXNzTGlzdC5yZW1vdmUoJ3UtaGlkZScpXG4gICAgICAgIGQucXVlcnlTZWxlY3RvcignLnR2JykuY2xhc3NMaXN0LnJlbW92ZSgndS1oaWRlJylcbiAgICAgICAgXG4gICAgICAgIC8vQmlkZW9hIG1hcnR4YW4gYmFkYWdvIGVyZSwgZ2VyYXR1XG4gICAgICAgIGlmKGQucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXZpZGVvXCIpKSB7XG4gICAgICAgICAgZC5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItdmlkZW9cIikucGF1c2UoKVxuICAgICAgICB9XG5cbiAgICAgICAgLy9BUElhIGRlaXR1IGJlaGFyIGJhZGEuLi5cbiAgICAgICAgaWYocmVzZXQpIHtcblxuICAgICAgICAgIGZldGNoKGRhdGEpXG4gICAgICAgICAgICAudGhlbiggcmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpIClcbiAgICAgICAgICAgIC50aGVuKGpzb24gPT4ge1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKCAhcmVxdWVzdEZyb21CR1N5bmMgKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3R2JylcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsb2NhbEpzb24nLCBKU09OLnN0cmluZ2lmeShqc29uKSk7XG5cbiAgICAgICAgICAgICAgbGV0IHNhdmVkRGF0ZSA9IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgZGF0ZSA9IHNhdmVkRGF0ZS5nZXRGdWxsWWVhcigpICsgJy8nICsgKCcwJyArIChzYXZlZERhdGUuZ2V0TW9udGgoKSsxKSkuc2xpY2UoLTIpICsgJy8nICsgKCcwJyArIHNhdmVkRGF0ZS5nZXREYXRlKCkpLnNsaWNlKC0yKSArICcgLSAnLFxuICAgICAgICAgICAgICAgIHRpbWUgPSAoJzAnICsgc2F2ZWREYXRlLmdldEhvdXJzKCkpLnNsaWNlKC0yKSArIFwiOlwiICsgKCcwJyArIHNhdmVkRGF0ZS5nZXRNaW51dGVzKCkpLnNsaWNlKC0yKSxcbiAgICAgICAgICAgICAgICBkYXRlVGltZSA9IGRhdGUgKyAnICcgKyB0aW1lXG5cbiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJqc29uRGF0ZVwiLCBkYXRlVGltZSlcbiAgICAgICAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcuc2F2ZWQtZGF0ZScpLmlubmVySFRNTCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwianNvbkRhdGVcIilcblxuICAgICAgICAgICAgICBnZXRQcm9ncmFtcyhsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9jYWxKc29uJykpXG5cbiAgICAgICAgICAgICAgLy9Ob3RpZmlrYXppbyBiaWRleiBvaGFydGFyYXppXG4gICAgICAgICAgICAgIGlmKCB3Lk5vdGlmaWNhdGlvbiAmJiBOb3RpZmljYXRpb24ucGVybWlzc2lvbiAhPT0gJ2RlbmllZCcgKSB7XG4gICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKHN0YXR1cyA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzdGF0dXMpXG4gICAgICAgICAgICAgICAgICBsZXQgbiA9IG5ldyBOb3RpZmljYXRpb24oJ05haGllcmFuJywge1xuICAgICAgICAgICAgICAgICAgICBib2R5OiAnUHJvZ3JhbWEgemVycmVuZGEgZWd1bmVyYXR1IGRhIDopJyxcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJy4vYXNzZXRzL2Zhdmljb24ucG5nJ1xuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0dicsIGRhdGEpXG4gICAgICAgICAgfSlcblxuICAgICAgICAvL1Byb2dyYW1hayBsb2NhbC1lYW4gZ29yZGV0YSBiYWRhZ29cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgZ2V0UHJvZ3JhbXMoZGF0YSlcbiAgICAgICAgfVxuXG4gICAgICB9Ly9mZXRjaEFsbFByb2dyYW1zXG5cbiAgICAgIC8vRmlsdHJvYSBlZ2luXG4gICAgICBmaWx0ZXJpbmcoJy50dl9fbGlzdCcpXG5cbiAgICAgIC8vR29yZGV0YWtvIEFQSWEgZXphYmF0dSBldGEgYmVycmlhIGVrYXJ0emVrbyAtIEVaQUJBVFVcbiAgICAgIGQucXVlcnlTZWxlY3RvcignLmRlbGV0ZVN0b3JhZ2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIGlmICggY29uZmlybSgnUHJvZ3JhbWEgemVycmVuZGEgZWd1bmVyYXR1IG5haGkgYWwgZHV6dT8nKSA9PSB0cnVlKSB7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2xvY2FsSnNvbicpXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2pzb25EYXRlJylcblxuICAgICAgICAgIGxldCByZXNldCA9IHRydWUsXG4gICAgICAgICAgICBkYXRhPSAnLy9zdGlsbC1jYXN0bGUtOTk3NDkuaGVyb2t1YXBwLmNvbS9wbGF5bGlzdCdcblxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0dicsIGRhdGEpXG5cbiAgICAgICAgICBmZXRjaEFsbFByb2dyYW1zKGRhdGEsIGZhbHNlLCByZXNldClcblxuICAgICAgICAgIC8vQmFja2dyb3VuZCBTeW5jIChwcm9ncmFtYWspXG4gICAgICAgICAgaWYgKCAnc2VydmljZVdvcmtlcicgaW4gbiAmJiAnU3luY01hbmFnZXInIGluIHcgKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiByZWdpc3RlckJHU3luYyAoKSB7XG4gICAgICAgICAgICAgIG4uc2VydmljZVdvcmtlci5yZWFkeVxuICAgICAgICAgICAgICAudGhlbihyZWdpc3RyYXRpb24gPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWdpc3RyYXRpb24uc3luYy5yZWdpc3RlcignbmFoaWVyYW4tdHYnKVxuICAgICAgICAgICAgICAgICAgLnRoZW4oICgpID0+IGMoJ0F0emVrbyBzaW5rcm9uaXphemlvYSBlcnJlZ2lzdHJhdHVhJykgKVxuICAgICAgICAgICAgICAgICAgLmNhdGNoKCBlcnIgPT4gYygnRXJyb3JlYSBhdHpla28gc2lua3Jvbml6YXppb2EgZXJyZWdpc3RyYXR6ZWFuJywgZXJyKSApXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWdpc3RlckJHU3luYygpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICAvL0FwbGlrYXppb3JhIHNhcnR6ZW4gZGVuZWFuIGVnaW4gYmVoYXJyZWtvYSAoQVBJYSBkZWl0dSBlZG8gZXopXG4gICAgICBpZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9jYWxKc29uJykpe1xuICAgICAgICBmZXRjaEFsbFByb2dyYW1zKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2NhbEpzb24nKSwgZmFsc2UsIGZhbHNlKVxuICAgICAgfWVsc2V7XG4gICAgICAgIGxldCByZXNldCA9IHRydWUsXG4gICAgICAgICAgZGF0YT0gJy8vc3RpbGwtY2FzdGxlLTk5NzQ5Lmhlcm9rdWFwcC5jb20vcGxheWxpc3QnXG5cbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3R2JywgZGF0YSlcblxuICAgICAgICBmZXRjaEFsbFByb2dyYW1zKGRhdGEsIGZhbHNlLCByZXNldClcblxuICAgICAgICAvL0JhY2tncm91bmQgU3luYyAocHJvZ3JhbWFrKVxuICAgICAgICBpZiAoICdzZXJ2aWNlV29ya2VyJyBpbiBuICYmICdTeW5jTWFuYWdlcicgaW4gdyApIHtcbiAgICAgICAgICBmdW5jdGlvbiByZWdpc3RlckJHU3luYyAoKSB7XG4gICAgICAgICAgICBuLnNlcnZpY2VXb3JrZXIucmVhZHlcbiAgICAgICAgICAgIC50aGVuKHJlZ2lzdHJhdGlvbiA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiByZWdpc3RyYXRpb24uc3luYy5yZWdpc3RlcignbmFoaWVyYW4tdHYnKVxuICAgICAgICAgICAgICAudGhlbiggKCkgPT4gYygnQXR6ZWtvIHNpbmtyb25pemF6aW9hIGVycmVnaXN0cmF0dWEnKSApXG4gICAgICAgICAgICAgIC5jYXRjaCggZXJyID0+IGMoJ0Vycm9yZWEgYXR6ZWtvIHNpbmtyb25pemF6aW9hIGVycmVnaXN0cmF0emVhbicsIGVycikgKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVnaXN0ZXJCR1N5bmMoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvL0JhY2tncm91bmQgU3luYyAocHJvZ3JhbWFrKVxuICAgICAgbi5zZXJ2aWNlV29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBlID0+IHtcbiAgICAgICAgYygnQXR6ZWtvIHNpbmtyb25pemF6aW9hIG1lc3NhZ2UgYmlkZXo6ICcsIGUuZGF0YSlcbiAgICAgICAgaWYoIGUuZGF0YSA9PT0gJ29ubGluZSBuYWhpZXJhbi10dicgKVxuICAgICAgICAgIGZldGNoQWxsUHJvZ3JhbXMoIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0dicpLCB0cnVlLCBmYWxzZSApXG4gICAgICB9KVxuXG4gICAgfSAvL3JlYWR5U3RhdGVcbiAgfSwgMTAwICkvL2ludGVydmFsXG5cbiAgcmV0dXJuIGBcbiAgICAke2NhdGVnb3JpZXMoKX1cbiAgICA8ZGl2IGNsYXNzPVwidHYgc2VjdGlvblwiPlxuICAgICAgPGRpdiBjbGFzcz1cInR2X19mb3JtXCI+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwiZmluZC1wcm9ncmFtc1wiIGNsYXNzPVwidHZfX2lucHV0XCIgcGxhY2Vob2xkZXI9XCJlaXRia28gc2Fpb2VuIGFydGVhbiBiaWxhdHUuLi5cIiB0aXRsZT1cIlNhaW9hayBiaWxhdHVcIj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGhlYWRlciBjbGFzcz1cInNlY3Rpb24taGVhZGVyIHR2X19oZWFkZXJcIj48L2hlYWRlcj5cbiAgICAgIDx1bCBjbGFzcz1cInR2X19saXN0XCI+PC91bD5cbiAgICAgIDxkaXYgY2xhc3M9XCJsb2FkZXItdGVtcGxhdGUgbG9hZGVyLXRlbXBsYXRlLXR2XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2FkZXIgbG9hZGVyLXR2XCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICAke3NlbGVjdFByb2dyYW0oKX1cbiAgICAke3NlbGVjdEVwaXNvZGUoKX1cbiAgICAke2NhdGVnb3JpZXNTaW5nbGUoKX1cbiAgICBgXG59XG4iLCJjb25zdCBjID0gY29uc29sZS5sb2csXG4gIGQgPSBkb2N1bWVudCxcbiAgbiA9IG5hdmlnYXRvcixcbiAgdyA9IHdpbmRvd1xuXG5leHBvcnQgY29uc3Qgc2VsZWN0UHJvZ3JhbSA9ICgpID0+IHtcblxuICBjb25zdCByZWFkeVN0YXRlID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuXG4gICAgaWYgKCBkLnJlYWR5U3RhdGUgID09PSAnY29tcGxldGUnICkge1xuXG4gICAgICBjbGVhckludGVydmFsKHJlYWR5U3RhdGUpXG5cbiAgICAgIC8vUHJvZ3JhbWEgZWthcnJpICh6ZXJyZW5kYSlcbiAgICAgIGZ1bmN0aW9uIGZldGNoUHJvZ3JhbShqc29uRGF0YSwgcmVxdWVzdEZyb21CR1N5bmMpIHtcblx0IFx0XHRcbiAgICAgICAgbGV0IGRhdGEgPSBqc29uRGF0YS5zbGljZSg1KSxcbiAgICAgICAgICB0cGwgPSAnJyxcbiAgICAgICAgICBkYXRlID0gJydcblxuICAgICAgICAvL0JlaGFycmV6a28gc2VremlvYWsgZXprdXRhdHVcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbicpLmZvckVhY2goIHNlY3Rpb24gPT4ge1xuICAgICAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LmFkZCgndS1oaWRlJylcbiAgICAgICAgfSlcblxuICAgICAgICAvL0xvYWRlciBlcmFrdXRzaVxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXItcHJvZ3JhbScpLmNsYXNzTGlzdC5hZGQoJ2xvYWRlci1zaG93JylcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyLXRlbXBsYXRlLXByb2dyYW0nKS5jbGFzc0xpc3QuYWRkKCdsb2FkZXItc2hvdycpXG4gICAgICAgIFxuICAgICAgICAvL0JpZGVvYSBtYXJ0eGFuIGJhZGFnbyBlcmUsIGdlcmF0dVxuICAgICAgICBpZihkLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci12aWRlb1wiKSkge1xuICAgICAgICAgIGQucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXZpZGVvXCIpLnBhdXNlKClcbiAgICAgICAgfVxuXG4gICAgICAgIGZldGNoKGRhdGEpXG4gICAgICAgICAgLnRoZW4oIHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSApXG4gICAgICAgICAgLnRoZW4oanNvbiA9PiB7XG5cbiAgICAgICAgICAgIGlmICggIXJlcXVlc3RGcm9tQkdTeW5jICkge1xuICBcdFx0XHRcdFx0ICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndHYtcHJvZ3JhbScpXG4gICAgICAgICAgICB9XG5cbiAgXHRcdFx0XHQgIGQucXVlcnlTZWxlY3RvcignLnByb2dyYW0nKS5jbGFzc0xpc3QucmVtb3ZlKCd1LWhpZGUnKVxuICBcdFx0XHRcdCAgLy9Mb2FkZXIgZXprdXRhdHVcbiAgICAgICAgICAgIGQucXVlcnlTZWxlY3RvcignLmxvYWRlci1wcm9ncmFtJykuY2xhc3NMaXN0LnJlbW92ZSgnbG9hZGVyLXNob3cnKVxuICAgICAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyLXRlbXBsYXRlLXByb2dyYW0nKS5jbGFzc0xpc3QucmVtb3ZlKCdsb2FkZXItc2hvdycpXG5cbiAgICAgICAgICAgIGpzb24ubWVtYmVyLmZvckVhY2goanNvbiA9PiB7XG4gICAgICAgICAgICAgIGlmKGpzb24uYnJvYWRjYXN0X2RhdGUpIHtcbiAgICAgICAgICAgICAgICBkYXRlID0ganNvbi5icm9hZGNhc3RfZGF0ZS5zbGljZSgwLDEwKVxuICBcdFx0XHRcdCAgXHR9XG4gICAgICAgICAgICAgIHRwbCArPSBgXG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwiY3VzdG9tLWVwaXNvZGVcIiBkYXRhLWVwaXNvZGU9XCIke2pzb25bXCJAaWRcIl19XCI+XG4gICAgICBcdFx0XHRcdFx0ICA8ZGl2IGNsYXNzPVwicHJvZ3JhbV9faW1hZ2VcIj5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIke2pzb24uZXBpc29kZV9pbWFnZS5zbGljZSg1KX1cIiBjbGFzcz1cInByb2dyYW1fX2ltZyBjdXN0b20tZXBpc29kZVwiIGRhdGEtZXBpc29kZT1cIiR7anNvbltcIkBpZFwiXX1cIj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3JhbV9fY29udGVudCBjdXN0b20tZXBpc29kZVwiIGRhdGEtZXBpc29kZT1cIiR7anNvbltcIkBpZFwiXX1cIj5cbiAgICAgICAgICAgICAgICAgICAgJHtqc29uLnRpdGxlfVxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyYW1fX2RhdGVcIj4ke2RhdGV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICBcdGQucXVlcnlTZWxlY3RvcignLnByb2dyYW1fX2xpc3QnKS5pbm5lckhUTUwgPSB0cGxcbiAgICAgICAgICBcdGQucXVlcnlTZWxlY3RvcignLnByb2dyYW1fX2hlYWRlcicpLmlubmVySFRNTCA9IGBcbiAgICAgICAgICBcdFx0PGRpdiBjbGFzcz1cInByb2dyYW1fX3RpdGxlXCI+JHtqc29uLm5hbWV9PC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmFtX19kZXNjXCI+JHtqc29uLmRlc2NfZ3JvdXB9PC9kaXY+XG4gICAgICAgICAgICAgIGBcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSlcblx0XHQgIH1cblxuICAgICAgLy9Qcm9ncmFtYSBla2FycmkgKGNsaWNrIGViZW50dWEpXG4gICAgICBkLmdldEVsZW1lbnRCeUlkKFwiYXBwXCIpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgaWYoIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncHJvZ3JhbS1pZCcpICkge1xuXG4gIFx0XHQgICAgbGV0IGRhdGEgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvZ3JhbScpXG5cbiAgXHRcdCAgXHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndHYtcHJvZ3JhbScsIGRhdGEpXG5cbiAgICAgICAgICBmZXRjaFByb2dyYW0oIGRhdGEsIGZhbHNlKVxuXG4gICAgICAgICAgLy9CYWNrZ3JvdW5kIFN5bmMgKHByb2dyYW1haylcbiAgICAgICAgICBpZiAoICdzZXJ2aWNlV29ya2VyJyBpbiBuICYmICdTeW5jTWFuYWdlcicgaW4gdyApIHtcbiAgXHRcdFx0ICAgIGZ1bmN0aW9uIHJlZ2lzdGVyQkdTeW5jICgpIHtcbiAgXHRcdFx0ICAgICAgbi5zZXJ2aWNlV29ya2VyLnJlYWR5XG4gIFx0XHRcdCAgICAgICAgLnRoZW4ocmVnaXN0cmF0aW9uID0+IHtcbiAgXHRcdFx0ICAgICAgICAgIHJldHVybiByZWdpc3RyYXRpb24uc3luYy5yZWdpc3RlcignbmFoaWVyYW4tdHYtcHJvZ3JhbScpXG4gIFx0XHRcdCAgICAgICAgICAgIC50aGVuKCAoKSA9PiBjKCdBdHpla28gc2lua3Jvbml6YXppb2EgZXJyZWdpc3RyYXR1YScpIClcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKCBlcnIgPT4gYygnRXJyb3JlYSBhdHpla28gc2lua3Jvbml6YXppb2EgZXJyZWdpc3RyYXR6ZWFuJywgZXJyKSApXG4gIFx0XHRcdCAgICAgICAgfSlcbiAgXHRcdFx0ICAgIH1cbiAgXHRcdFx0ICAgIHJlZ2lzdGVyQkdTeW5jKClcbiAgXHRcdFx0ICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAvL0JhY2tncm91bmQgU3luYyAocHJvZ3JhbWFrKVxuICAgICAgbi5zZXJ2aWNlV29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBlID0+IHtcblx0XHQgICAgY29uc29sZS5sb2coJ0F0emVrbyBzaW5rcm9uaXphemlvYSBtZXNzYWdlIGJpZGV6IGFrdGliYXR1YTogJywgZS5kYXRhKVxuXHRcdCAgICBpZiggZS5kYXRhID09PSAnb25saW5lIG5haGllcmFuLXR2LXByb2dyYW0nIClcblx0XHQgICAgXHRmZXRjaFByb2dyYW0oIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0di1wcm9ncmFtJyksIHRydWUgKVxuXHRcdCAgfSlcbiAgICB9IC8vcmVhZHlTdGF0ZVxuICB9LCAxMDAgKS8vaW50ZXJ2YWxcblxuICByZXR1cm4gYFxuICAgIDxkaXYgY2xhc3M9XCJsb2FkZXItdGVtcGxhdGUgbG9hZGVyLXRlbXBsYXRlLXByb2dyYW1cIj5cbiAgXHQgIDxkaXYgY2xhc3M9XCJsb2FkZXIgbG9hZGVyLXByb2dyYW1cIj48L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwicHJvZ3JhbSBzZWN0aW9uIHUtaGlkZVwiPlxuICBcdCAgPGhlYWRlciBjbGFzcz1cInNlY3Rpb24taGVhZGVyIHByb2dyYW1fX2hlYWRlclwiPjwvaGVhZGVyPlxuICAgICAgPHVsIGNsYXNzPVwicHJvZ3JhbV9fbGlzdFwiPjwvdWw+XG4gICAgPC9kaXY+XG4gICAgYFxufVxuIiwiaW1wb3J0IERQbGF5ZXIgZnJvbSAnRFBsYXllcidcblxuY29uc3QgYyA9IGNvbnNvbGUubG9nLFxuICBkID0gZG9jdW1lbnQsXG4gIG4gPSBuYXZpZ2F0b3IsXG4gIHcgPSB3aW5kb3dcblxuZXhwb3J0IGNvbnN0IHNlbGVjdEVwaXNvZGUgPSAoKSA9PiB7XG5cbiAgY29uc3QgcmVhZHlTdGF0ZSA9IHNldEludGVydmFsKCgpID0+IHtcblxuICAgIGlmICggZC5yZWFkeVN0YXRlICA9PT0gJ2NvbXBsZXRlJyApIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwocmVhZHlTdGF0ZSlcblxuICAgICAgLy9BdHplcmEgam9hbiAocHJvZ3JhbWV0YXJhKVxuICAgICAgZC5nZXRFbGVtZW50QnlJZCgnZXBpc29kZV9fYmFjaycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgLy9CZWhhcnJlemtvIHNla3ppb2FrIGV6a3V0YXR1XG4gICAgICAgIGQucXVlcnlTZWxlY3RvckFsbCgnLnNlY3Rpb24nKS5mb3JFYWNoKCBzZWN0aW9uID0+IHtcbiAgICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3UtaGlkZScpXG4gICAgICAgIH0pXG4gICAgICAgIGQucXVlcnlTZWxlY3RvcignLnByb2dyYW0nKS5jbGFzc0xpc3QucmVtb3ZlKCd1LWhpZGUnKVxuICAgICAgICBcbiAgICAgICAgLy9CaWRlb2EgbWFydHhhbiBiYWRhZ28gZXJlLCBnZXJhdHVcbiAgICAgICAgaWYoZC5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItdmlkZW9cIikpIHtcbiAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci12aWRlb1wiKS5wYXVzZSgpXG4gICAgICAgIH1cbiAgICBcbiAgICAgIH0pXG5cbiAgICAgIC8vZXBpc29kZSBrYXJnYXR1XG4gICAgICBmdW5jdGlvbiBmZXRjaEVwaXNvZGUoanNvbkRhdGEsIHJlcXVlc3RGcm9tQkdTeW5jKSB7XG5cbiAgICAgICAgbGV0IGRhdGEgPSBqc29uRGF0YS5zbGljZSg1KVxuXG4gICAgICAgIC8vTG9hZGVyIGVyYWt1dHNpXG4gICAgICAgIGQucXVlcnlTZWxlY3RvcignLmxvYWRlci1lcGlzb2RlJykuY2xhc3NMaXN0LmFkZCgnbG9hZGVyLXNob3cnKVxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXItdGVtcGxhdGUtZXBpc29kZScpLmNsYXNzTGlzdC5hZGQoJ2xvYWRlci1zaG93JylcblxuICAgICAgICAvL0JlaGFycmV6a28gc2VremlvYWsgZXprdXRhdHVcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbicpLmZvckVhY2goIHNlY3Rpb24gPT4ge1xuICAgICAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LmFkZCgndS1oaWRlJylcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIC8vQVBJYSBkZWl0dSAoZXBpc29kZSlcbiAgICAgICAgZmV0Y2goZGF0YSlcbiAgICAgICAgXG4gICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgICAgICAgIC50aGVuKGpzb24gPT4ge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgZHAgPSBcIlwiXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGQucXVlcnlTZWxlY3RvcignLmVwaXNvZGUnKS5jbGFzc0xpc3QucmVtb3ZlKCd1LWhpZGUnKVxuXG4gICAgICAgICAgICBpZiAoIXJlcXVlc3RGcm9tQkdTeW5jKSB7XG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0di1wcm9ncmFtLWVwaXNvZGUnKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL0xvYWRlciBlemt1dGF0dVxuICAgICAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyLWVwaXNvZGUnKS5jbGFzc0xpc3QucmVtb3ZlKCdsb2FkZXItc2hvdycpXG4gICAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXItdGVtcGxhdGUtZXBpc29kZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2xvYWRlci1zaG93JylcblxuICAgICAgICAgICAgbGV0IHVybEVuZCA9IGpzb24udXJsLnNsaWNlKC0zKTtcblxuICAgICAgICAgICAgaWYodXJsRW5kID09PSAnbXA0Jykge1xuICAgICAgICAgICAgICB1cmxFbmQgPSBqc29uLnVybFxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgIHVybEVuZCA9IGpzb24uZm9ybWF0c1s3XS51cmxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYoZC5nZXRFbGVtZW50QnlJZCgnZHBsYXllcicpKXtcbiAgICAgICAgICAgICAgZHAgPSBuZXcgRFBsYXllcih7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiBkLmdldEVsZW1lbnRCeUlkKCdkcGxheWVyJyksXG4gICAgICAgICAgICAgICAgYXV0b3BsYXk6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRoZW1lOiAnIzAwOGNkMCcsXG4gICAgICAgICAgICAgICAgcHJlbG9hZDogJ21ldGFkYXRhJyxcbiAgICAgICAgICAgICAgICB2aWRlbzoge1xuICAgICAgICAgICAgICAgICAgdXJsOiB1cmxFbmQgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgIFxuICAgICAgICAgICAgLy9CaWRlb2FyZW4gc3JjIGtvZGVhIGFsZGF0dSAoaHR0cHMgYmlkZXogZnVudHppb25hdHpla28pXG4gICAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci12aWRlb1wiKS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgdXJsRW5kLnNsaWNlKDUpKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5lcGlzb2RlX19lcnJvcicpLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKVxuICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGQucXVlcnlTZWxlY3RvcignLmVwaXNvZGVfX2hlYWRlcicpLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImVwaXNvZGVfX3RpdGxlXCI+JHtqc29uLnRpdGxlfTwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZXBpc29kZV9fZGVzY1wiPiR7anNvbi5kZXNjcmlwdGlvbn08L2Rpdj5cbiAgICAgICAgICAgICAgYFxuICAgICAgICBcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3R2LXByb2dyYW0tZXBpc29kZScsIGpzb25EYXRhKVxuICAgICAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcuZXBpc29kZV9fZXJyb3InKS5pbm5lckhUTUwgPSAnS29uZXhpb2FrIGh1dHMgZWdpbiBkdSdcbiAgICAgICAgICAgIGQucXVlcnlTZWxlY3RvcignLmVwaXNvZGVfX2Vycm9yJykuY2xhc3NMaXN0LmFkZCgnc2hvdycpXG4gICAgICAgICAgfSlcbiAgICAgIH0gLy9mZXRjaEVwaXNvZGVcblxuICAgICAgLy9Qcm9ncmFtYSB6ZXJyZW5kYXRpayBlcGlzb2RlIGVrYXJyaSAoY2xpY2spXG4gICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5wcm9ncmFtX19saXN0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcblxuICAgICAgICBpZiggZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjdXN0b20tZXBpc29kZScpICkge1xuXG4gICAgICAgICAgbGV0IGRhdGEgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZXBpc29kZScpXG5cbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndHYtcHJvZ3JhbS1lcGlzb2RlJywgZGF0YSlcbiAgICAgICAgICBmZXRjaEVwaXNvZGUoZGF0YSwgZmFsc2UpXG5cbiAgICAgICAgICAvL0JhY2tncm91bmQgU3luYyAoZXBpc29kZSlcbiAgICAgICAgICBpZiAoICdzZXJ2aWNlV29ya2VyJyBpbiBuICYmICdTeW5jTWFuYWdlcicgaW4gdyApIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyQkdTeW5jICgpIHtcbiAgICAgICAgICAgICAgbi5zZXJ2aWNlV29ya2VyLnJlYWR5XG4gICAgICAgICAgICAgIC50aGVuKHJlZ2lzdHJhdGlvbiA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2lzdHJhdGlvbi5zeW5jLnJlZ2lzdGVyKCduYWhpZXJhbi10di1wcm9ncmFtLWVwaXNvZGUnKVxuICAgICAgICAgICAgICAgICAgLnRoZW4oICgpID0+IGMoJ0F0emVrbyBzaW5rcm9uaXphemlvYSBlcnJlZ2lzdHJhdHVhJykgKVxuICAgICAgICAgICAgICAgICAgLmNhdGNoKCBlcnIgPT4gYygnRXJyb3JlYSBhdHpla28gc2lua3Jvbml6YXppb2EgZXJyZWdpc3RyYXR6ZWFuJywgZXJyKSApXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWdpc3RlckJHU3luYygpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLy9CYWNrZ3JvdW5kIFN5bmMgKGVwaXNvZGUpXG4gICAgICBuLnNlcnZpY2VXb3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGUgPT4ge1xuICAgICAgICBjKCdBdHpla28gc2lua3Jvbml6YXppb2EgbWVzc2FnZSBiaWRlejogJywgZS5kYXRhKVxuICAgICAgICBpZiggZS5kYXRhID09PSAnb25saW5lIG5haGllcmFuLXR2LXByb2dyYW0tZXBpc29kZScgfHwgZS5kYXRhID09PSAnb25saW5lIHRlc3QtdGFnLWZyb20tZGV2dG9vbHMnIClcbiAgICAgICAgICBmZXRjaEVwaXNvZGUobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3R2LXByb2dyYW0tZXBpc29kZScpLCB0cnVlKVxuICAgICAgfSlcblxuICAgIH0gLy9yZWFkeVN0YXRlXG4gIH0sIDEwMCApLy9pbnRlcnZhbFxuXG4gIHJldHVybiBgXG4gICAgPGRpdiBjbGFzcz1cImxvYWRlci10ZW1wbGF0ZSBsb2FkZXItdGVtcGxhdGUtZXBpc29kZVwiPlxuICAgICAgPGRpdiBjbGFzcz1cImxvYWRlciBsb2FkZXItZXBpc29kZVwiPjwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBjbGFzcz1cImVwaXNvZGUgc2VjdGlvbiB1LWhpZGVcIj5cbiAgICAgIDxoZWFkZXIgY2xhc3M9XCJzZWN0aW9uLWhlYWRlciBlcGlzb2RlX19oZWFkZXJcIj48L2hlYWRlcj5cbiAgICAgIDxkaXYgY2xhc3M9XCJlcGlzb2RlX19wbGF5XCI+XG4gICAgICAgIDxkaXYgaWQ9XCJkcGxheWVyXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJlcGlzb2RlX19lcnJvclwiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImVwaXNvZGVfX25hdlwiPjxhIGhyZWY9XCIjXCIgaWQ9XCJlcGlzb2RlX19iYWNrXCI+PCBBdHplcmE8L2E+PC9kaXY+XG4gICAgPC9kaXY+XG4gICAgYFxufVxuIiwiaW1wb3J0IHsgaW5pdCwgcHdhLCBpc09ubGluZSB9IGZyb20gJy4vY29tcG9uZW50cy9pbml0JztcblxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpLmlubmVySFRNTCA9IGluaXQoKVxuXG4vL0FwbGlremlvYSB3ZWIgcHJvZ3Jlc2lib2EgZXJyZWdpc3RyYXR1XG5wd2EoKVxuLy9PbmxpbmUvZmZsaW5lIGdhdWRlbiB6ZWhhenR1XG5pc09ubGluZSgpXG4iXX0=
