(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("DPlayer",[],t):"object"==typeof exports?exports.DPlayer=t():e.DPlayer=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=/mobile/i.test(window.navigator.userAgent),a={secondToTime:function(e){var t=function(e){return e<10?"0"+e:""+e},n=parseInt(e/60),i=parseInt(e-60*n);return t(n)+":"+t(i)},getElementViewLeft:function(e){var t=e.offsetLeft,n=e.offsetParent,i=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;null!==n&&n!==e;)t+=n.offsetLeft,n=n.offsetParent;else for(;null!==n;)t+=n.offsetLeft,n=n.offsetParent;return t-i},getScrollPosition:function(){return{left:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,top:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},setScrollPosition:function(e){var t=e.left,n=void 0===t?0:t,i=e.top,a=void 0===i?0:i;this.isFirefox?(document.documentElement.scrollLeft=n,document.documentElement.scrollTop=a):window.scrollTo(n,a)},isMobile:i,isFirefox:/firefox/i.test(window.navigator.userAgent),isChrome:/chrome/i.test(window.navigator.userAgent),storage:{set:function(e,t){localStorage.setItem(e,t)},get:function(e){return localStorage.getItem(e)}},cumulativeOffset:function(e){var t=0,n=0;do{t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:n}},nameMap:{dragStart:i?"touchstart":"mousedown",dragMove:i?"touchmove":"mousemove",dragEnd:i?"touchend":"mouseup"}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2);var i=n(3),a=function(e){return e&&e.__esModule?e:{default:e}}(i);console.log("\n %c DPlayer 1.21.0 8e69ada %c http://dplayer.js.org \n\n","color: #fadfa3; background: #030307; padding:5px 0;","background: #fadfa3; padding:5px 0;"),t.default=a.default},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(4),r=i(s),l=n(0),c=i(l),u=n(9),d=i(u),p=n(12),h=i(p),y=n(13),m=i(y),f=n(14),v=i(f),g=n(15),b=i(g),k=n(16),w=i(k),S=n(17),T=i(S),L=n(18),x=i(L),M=n(19),_=i(M),E=n(20),q=i(E),B=n(21),P=i(B),O=n(22),j=i(O),C=n(23),z=i(C),F=n(25),I=i(F),W=n(26),D=i(W),H=n(27),A=i(H),R=n(28),V=i(R),N=0,X=[],Q=function(){function e(t){var n=this;a(this,e),this.options=(0,d.default)(t),this.options.video.quality&&(this.qualityIndex=this.options.video.defaultQuality,this.quality=this.options.video.quality[this.options.video.defaultQuality]),this.tran=new h.default(this.options.lang).tran,this.icons=new v.default(this.options),this.events=new w.default,this.user=new x.default(this),this.container=this.options.container,this.container.classList.add("dplayer"),this.options.danmaku||this.container.classList.add("dplayer-no-danmaku"),this.options.live&&this.container.classList.add("dplayer-live"),c.default.isMobile&&this.container.classList.add("dplayer-mobile"),this.arrow=this.container.offsetWidth<=500,this.arrow&&this.container.classList.add("dplayer-arrow"),this.template=new m.default({container:this.container,options:this.options,index:N,tran:this.tran,icons:this.icons}),this.video=this.template.video,this.bar=new q.default(this.template),this.bezel=new j.default(this.template.bezel),this.fullScreen=new T.default(this),this.controller=new z.default(this),this.options.danmaku&&(this.danmaku=new b.default({container:this.template.danmaku,opacity:this.user.get("opacity"),callback:function(){setTimeout(function(){n.template.danmakuLoading.style.display="none",n.options.autoplay?n.play():c.default.isMobile&&n.pause()},0)},error:function(e){n.notice(e)},apiBackend:this.options.apiBackend,borderColor:this.options.theme,height:this.arrow?24:30,time:function(){return n.video.currentTime},unlimited:this.user.get("unlimited"),api:{id:this.options.danmaku.id,address:this.options.danmaku.api,token:this.options.danmaku.token,maximum:this.options.danmaku.maximum,addition:this.options.danmaku.addition,user:this.options.danmaku.user},events:this.events}),this.comment=new D.default(this)),this.setting=new I.default(this),document.addEventListener("click",function(){n.focus=!1},!0),this.container.addEventListener("click",function(){n.focus=!0},!0),this.paused=!0,this.time=new P.default(this),this.hotkey=new A.default(this),this.contextmenu=new V.default(this),this.initVideo(this.video,this.quality&&this.quality.type||this.options.video.type),!this.danmaku&&this.options.autoplay&&this.play(),N++,X.push(this)}return o(e,[{key:"seek",value:function(e){e=Math.max(e,0),this.video.duration&&(e=Math.min(e,this.video.duration)),this.video.currentTime<e?this.notice(this.tran("FF")+" "+(e-this.video.currentTime).toFixed(0)+" "+this.tran("s")):this.video.currentTime>e&&this.notice(this.tran("REW")+" "+(this.video.currentTime-e).toFixed(0)+" "+this.tran("s")),this.video.currentTime=e,this.danmaku&&this.danmaku.seek(),this.bar.set("played",e/this.video.duration,"width")}},{key:"play",value:function(){var e=this;if(this.paused=!1,this.video.paused&&this.bezel.switch(this.icons.get("play")),this.template.playButton.innerHTML=this.icons.get("pause"),r.default.resolve(this.video.play()).catch(function(){e.pause()}).then(function(){}),this.time.enable(),this.container.classList.add("dplayer-playing"),this.danmaku&&this.danmaku.play(),this.options.mutex)for(var t=0;t<X.length;t++)this!==X[t]&&X[t].pause()}},{key:"pause",value:function(){this.paused=!0,this.container.classList.remove("dplayer-loading"),this.video.paused||this.bezel.switch(this.icons.get("pause")),this.ended=!1,this.template.playButton.innerHTML=this.icons.get("play"),this.video.pause(),this.time.disable(),this.container.classList.remove("dplayer-playing"),this.danmaku&&this.danmaku.pause()}},{key:"switchVolumeIcon",value:function(){this.volume()>=.95?this.template.volumeIcon.innerHTML=this.icons.get("volume-up"):this.volume()>0?this.template.volumeIcon.innerHTML=this.icons.get("volume-down"):this.template.volumeIcon.innerHTML=this.icons.get("volume-off")}},{key:"volume",value:function(e,t,n){if(e=parseFloat(e),!isNaN(e)){e=Math.max(e,0),e=Math.min(e,1),this.bar.set("volume",e,"width");var i=(100*e).toFixed(0)+"%";this.template.volumeBarWrapWrap.dataset.balloon=i,t||this.user.set("volume",e),n||this.notice(this.tran("Volume")+" "+(100*e).toFixed(0)+"%"),this.video.volume=e,this.video.muted&&(this.video.muted=!1),this.switchVolumeIcon()}return this.video.volume}},{key:"toggle",value:function(){this.video.paused?this.play():this.pause()}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"switchVideo",value:function(e,t){this.pause(),this.video.poster=e.pic?e.pic:"",this.video.src=e.url,this.initMSE(this.video,e.type||"auto"),t&&(this.template.danmakuLoading.style.display="block",this.bar.set("played",0,"width"),this.bar.set("loaded",0,"width"),this.template.ptime.innerHTML="00:00",this.template.danmaku.innerHTML="",this.danmaku&&this.danmaku.reload({id:t.id,address:t.api,token:t.token,maximum:t.maximum,addition:t.addition,user:t.user}))}},{key:"initMSE",value:function(e,t){var n=this;if(this.type=t,this.options.video.customType&&this.options.video.customType[t])"[object Function]"===Object.prototype.toString.call(this.options.video.customType[t])?this.options.video.customType[t](this.video,this):console.error("Illegal customType: "+t);else switch("auto"===this.type&&(/m3u8(#|\?|$)/i.exec(e.src)?this.type="hls":/.flv(#|\?|$)/i.exec(e.src)?this.type="flv":/.mpd(#|\?|$)/i.exec(e.src)?this.type="dash":this.type="normal"),this.type){case"hls":if(Hls)if(Hls.isSupported()){var i=new Hls;i.loadSource(e.src),i.attachMedia(e)}else this.notice("Error: Hls is not supported.");else this.notice("Error: Can't find Hls.");break;case"flv":if(flvjs&&flvjs.isSupported())if(flvjs.isSupported()){var a=flvjs.createPlayer({type:"flv",url:e.src});a.attachMediaElement(e),a.load()}else this.notice("Error: flvjs is not supported.");else this.notice("Error: Can't find flvjs.");break;case"dash":dashjs?dashjs.MediaPlayer().create().initialize(e,e.src,!1):this.notice("Error: Can't find dashjs.");break;case"webtorrent":if(WebTorrent)if(WebTorrent.WEBRTC_SUPPORT){this.container.classList.add("dplayer-loading");var o=new WebTorrent,s=e.src;o.add(s,function(e){e.files.find(function(e){return e.name.endsWith(".mp4")}).renderTo(n.video,{autoplay:n.options.autoplay},function(){n.container.classList.remove("dplayer-loading")})})}else this.notice("Error: Webtorrent is not supported.");else this.notice("Error: Can't find Webtorrent.")}}},{key:"initVideo",value:function(e,t){var n=this;this.initMSE(e,t),this.on("durationchange",function(){1!==e.duration&&(n.template.dtime.innerHTML=c.default.secondToTime(e.duration))}),this.on("progress",function(){var t=e.buffered.length?e.buffered.end(e.buffered.length-1)/e.duration:0;n.bar.set("loaded",t,"width")}),this.on("error",function(){n.tran&&n.notice&&(n.type,n.notice(n.tran("This video fails to load"),-1))}),this.ended=!1,this.on("ended",function(){n.bar.set("played",1,"width"),n.setting.loop?(n.seek(0),e.play()):(n.ended=!0,n.pause()),n.danmaku&&(n.danmaku.danIndex=0)}),this.on("play",function(){n.paused&&n.play()}),this.on("pause",function(){n.paused||n.pause()});for(var i=0;i<this.events.videoEvents.length;i++)!function(t){e.addEventListener(n.events.videoEvents[t],function(){n.events.trigger(n.events.videoEvents[t])})}(i);this.volume(this.user.get("volume"),!0,!0),this.options.subtitle&&(this.subtitle=new _.default(this.template.subtitle,this.video,this.options.subtitle,this.events),this.user.get("subtitle")||this.subtitle.hide())}},{key:"switchQuality",value:function(e){var t=this;if(this.qualityIndex!==e&&!this.switchingQuality){this.qualityIndex=e,this.switchingQuality=!0,this.quality=this.options.video.quality[e],this.template.qualityButton.innerHTML=this.quality.name;var n=this.video.paused;this.video.pause();var i=this.template.tplVideo(!1,null,this.options.screenshot,"auto",this.quality.url,this.options.subtitle),a=(new DOMParser).parseFromString(i,"text/html").body.firstChild;this.template.videoWrap.insertBefore(a,this.template.videoWrap.getElementsByTagName("div")[0]),this.prevVideo=this.video,this.video=a,this.initVideo(this.video,this.quality.type||this.options.video.type),this.seek(this.prevVideo.currentTime),this.notice(this.tran("Switching to")+" "+this.quality.name+" "+this.tran("quality"),-1),this.events.trigger("quality_start",this.quality),this.on("canplay",function(){if(t.prevVideo){if(t.video.currentTime!==t.prevVideo.currentTime)return void t.seek(t.prevVideo.currentTime);t.template.videoWrap.removeChild(t.prevVideo),t.video.classList.add("dplayer-video-current"),n||t.video.play(),t.prevVideo=null,t.notice(t.tran("Switched to")+" "+t.quality.name+" "+t.tran("quality")),t.switchingQuality=!1,t.events.trigger("quality_end")}})}}},{key:"notice",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;this.template.notice.innerHTML=e,this.template.notice.style.opacity=i,this.noticeTime&&clearTimeout(this.noticeTime),this.events.trigger("notice_show",e),this.noticeTime=setTimeout(function(){t.template.notice.style.opacity=0,t.events.trigger("notice_hide")},n)}},{key:"resize",value:function(){this.danmaku&&this.danmaku.resize(),this.events.trigger("resize")}},{key:"speed",value:function(e){this.video.playbackRate=e}},{key:"destroy",value:function(){X.splice(X.indexOf(this),1),this.pause(),this.controller.destroy(),this.time.destroy(),this.video.src="",this.container.innerHTML="",this.events.trigger("destroy");for(var e in this)this.hasOwnProperty(e)&&"paused"!==e&&delete this[e]}}]),e}();t.default=Q},function(e,t,n){"use strict";(function(e){function n(){}function i(e,t){return function(){e.apply(t,arguments)}}function a(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,u._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?o:s)(t.promise,e._value);var i;try{i=n(e._value)}catch(e){return void s(t.promise,e)}o(t.promise,i)})}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===(void 0===t?"undefined":d(t))||"function"==typeof t)){var n=t.then;if(t instanceof u)return e._state=3,e._value=t,void r(e);if("function"==typeof n)return void c(i(n,t),e)}e._state=1,e._value=t,r(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,r(e)}function r(e){2===e._state&&0===e._deferreds.length&&u._immediateFn(function(){e._handled||u._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function c(e,t){var n=!1;try{e(function(e){n||(n=!0,o(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}function u(e){if(!(this instanceof u))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}Object.defineProperty(t,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=setTimeout,h=u.prototype;h.catch=function(e){return this.then(null,e)},h.then=function(e,t){var i=new this.constructor(n);return a(this,new l(e,t,i)),i},u.all=function(e){return new u(function(t,n){function i(e,s){try{if(s&&("object"===(void 0===s?"undefined":d(s))||"function"==typeof s)){var r=s.then;if("function"==typeof r)return void r.call(s,function(t){i(e,t)},n)}a[e]=s,0==--o&&t(a)}catch(e){n(e)}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var a=Array.prototype.slice.call(e);if(0===a.length)return t([]);for(var o=a.length,s=0;s<a.length;s++)i(s,a[s])})},u.resolve=function(e){return e&&"object"===(void 0===e?"undefined":d(e))&&e.constructor===u?e:new u(function(t){t(e)})},u.reject=function(e){return new u(function(t,n){n(e)})},u.race=function(e){return new u(function(t,n){for(var i=0,a=e.length;i<a;i++)e[i].then(t,n)})},u._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){p(e,0)},u._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.default=u}).call(t,n(5).setImmediate)},function(e,t,n){"use strict";function i(e,t){this._id=e,this._clearFn=t}var a=Function.prototype.apply;t.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(6),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){"use strict";(function(e,t){!function(e,n){function i(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[l]=i,r(l),l++}function a(e){delete c[e]}function o(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}function s(e){if(u)setTimeout(s,0,e);else{var t=c[e];if(t){u=!0;try{o(t)}finally{a(e),u=!1}}}}if(!e.setImmediate){var r,l=1,c={},u=!1,d=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?function(){r=function(e){t.nextTick(function(){s(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&s(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){s(e.data)},r=function(t){e.port2.postMessage(t)}}():d&&"onreadystatechange"in d.createElement("script")?function(){var e=d.documentElement;r=function(t){var n=d.createElement("script");n.onreadystatechange=function(){s(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){r=function(e){setTimeout(s,0,e)}}(),p.setImmediate=i,p.clearImmediate=a}}("undefined"==typeof self?void 0===e?void 0:e:self)}).call(t,n(7),n(8))},function(e,t,n){"use strict";var i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":a(window))&&(i=window)}e.exports=i},function(e,t,n){"use strict";function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(d===setTimeout)return setTimeout(e,0);if((d===i||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function s(e){if(p===clearTimeout)return clearTimeout(e);if((p===a||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function r(){f&&y&&(f=!1,y.length?m=y.concat(m):v=-1,m.length&&l())}function l(){if(!f){var e=o(r);f=!0;for(var t=m.length;t;){for(y=m,m=[];++v<t;)y&&y[v].run();v=-1,t=m.length}y=null,f=!1,s(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var d,p,h=e.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:i}catch(e){d=i}try{p="function"==typeof clearTimeout?clearTimeout:a}catch(e){p=a}}();var y,m=[],f=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new c(e,t)),1!==m.length||f||o(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(10),s=i(o),r=n(11),l=i(r);t.default=function(e){var t={container:e.element||document.getElementsByClassName("dplayer")[0],live:!1,autoplay:!1,theme:"#b7daff",loop:!1,lang:(navigator.language||navigator.browserLanguage).toLowerCase(),screenshot:!1,hotkey:!0,preload:"auto",volume:.7,apiBackend:l.default,video:{},icons:{play:["0 0 16 32","M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"],pause:["0 0 17 32","M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"],"volume-up":["0 0 21 32","M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056z"],"volume-down":["0 0 21 32","M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"],"volume-off":["0 0 21 32","M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"],loop:["0 0 32 32","M1.882 16.941c0 4.152 3.221 7.529 7.177 7.529v1.882c-4.996 0-9.060-4.222-9.060-9.412s4.064-9.412 9.060-9.412h7.96l-3.098-3.098 1.331-1.331 5.372 5.37-5.37 5.372-1.333-1.333 3.1-3.098h-7.962c-3.957 0-7.177 3.377-7.177 7.529zM22.94 7.529v1.882c3.957 0 7.177 3.377 7.177 7.529s-3.221 7.529-7.177 7.529h-7.962l3.098-3.098-1.331-1.331-5.37 5.37 5.372 5.372 1.331-1.331-3.1-3.1h7.96c4.998 0 9.062-4.222 9.062-9.412s-4.064-9.412-9.060-9.412z"],full:["0 0 32 33","M6.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v4h4c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333zM30.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h4v-4c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM30.667 12c-0.8 0-1.333-0.533-1.333-1.333v-4h-4c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM1.333 12c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333h-4v4c0 0.8-0.533 1.333-1.333 1.333z"],"full-in":["0 0 32 33","M24.965 24.38h-18.132c-1.366 0-2.478-1.113-2.478-2.478v-11.806c0-1.364 1.111-2.478 2.478-2.478h18.132c1.366 0 2.478 1.113 2.478 2.478v11.806c0 1.364-1.11 2.478-2.478 2.478zM6.833 10.097v11.806h18.134l-0.002-11.806h-18.132zM2.478 28.928h5.952c0.684 0 1.238-0.554 1.238-1.239 0-0.684-0.554-1.238-1.238-1.238h-5.952v-5.802c0-0.684-0.554-1.239-1.238-1.239s-1.239 0.556-1.239 1.239v5.802c0 1.365 1.111 2.478 2.478 2.478zM30.761 19.412c-0.684 0-1.238 0.554-1.238 1.238v5.801h-5.951c-0.686 0-1.239 0.554-1.239 1.238 0 0.686 0.554 1.239 1.239 1.239h5.951c1.366 0 2.478-1.111 2.478-2.478v-5.801c0-0.683-0.554-1.238-1.239-1.238zM0 5.55v5.802c0 0.683 0.554 1.238 1.238 1.238s1.238-0.555 1.238-1.238v-5.802h5.952c0.684 0 1.238-0.554 1.238-1.238s-0.554-1.238-1.238-1.238h-5.951c-1.366-0.001-2.478 1.111-2.478 2.476zM32 11.35v-5.801c0-1.365-1.11-2.478-2.478-2.478h-5.951c-0.686 0-1.239 0.554-1.239 1.238s0.554 1.238 1.239 1.238h5.951v5.801c0 0.683 0.554 1.237 1.238 1.237 0.686 0.002 1.239-0.553 1.239-1.236z"],setting:["0 0 32 28","M28.633 17.104c0.035 0.21 0.026 0.463-0.026 0.76s-0.14 0.598-0.262 0.904c-0.122 0.306-0.271 0.581-0.445 0.825s-0.367 0.419-0.576 0.524c-0.209 0.105-0.393 0.157-0.55 0.157s-0.332-0.035-0.524-0.105c-0.175-0.052-0.393-0.1-0.655-0.144s-0.528-0.052-0.799-0.026c-0.271 0.026-0.541 0.083-0.812 0.17s-0.502 0.236-0.694 0.445c-0.419 0.437-0.664 0.934-0.734 1.493s0.009 1.092 0.236 1.598c0.175 0.349 0.148 0.699-0.079 1.048-0.105 0.14-0.271 0.284-0.498 0.432s-0.476 0.284-0.747 0.406-0.555 0.218-0.851 0.288c-0.297 0.070-0.559 0.105-0.786 0.105-0.157 0-0.306-0.061-0.445-0.183s-0.236-0.253-0.288-0.393h-0.026c-0.192-0.541-0.52-1.009-0.982-1.402s-1-0.589-1.611-0.589c-0.594 0-1.131 0.197-1.611 0.589s-0.816 0.851-1.009 1.375c-0.087 0.21-0.218 0.362-0.393 0.458s-0.367 0.144-0.576 0.144c-0.244 0-0.52-0.044-0.825-0.131s-0.611-0.197-0.917-0.327c-0.306-0.131-0.581-0.284-0.825-0.458s-0.428-0.349-0.55-0.524c-0.087-0.122-0.135-0.266-0.144-0.432s0.057-0.397 0.197-0.694c0.192-0.402 0.266-0.86 0.223-1.375s-0.266-0.991-0.668-1.428c-0.244-0.262-0.541-0.432-0.891-0.511s-0.681-0.109-0.995-0.092c-0.367 0.017-0.742 0.087-1.127 0.21-0.244 0.070-0.489 0.052-0.734-0.052-0.192-0.070-0.371-0.231-0.537-0.485s-0.314-0.533-0.445-0.838c-0.131-0.306-0.231-0.62-0.301-0.943s-0.087-0.59-0.052-0.799c0.052-0.384 0.227-0.629 0.524-0.734 0.524-0.21 0.995-0.555 1.415-1.035s0.629-1.017 0.629-1.611c0-0.611-0.21-1.144-0.629-1.598s-0.891-0.786-1.415-0.996c-0.157-0.052-0.288-0.179-0.393-0.38s-0.157-0.406-0.157-0.616c0-0.227 0.035-0.48 0.105-0.76s0.162-0.55 0.275-0.812 0.244-0.502 0.393-0.72c0.148-0.218 0.31-0.38 0.485-0.485 0.14-0.087 0.275-0.122 0.406-0.105s0.275 0.052 0.432 0.105c0.524 0.21 1.070 0.275 1.637 0.197s1.070-0.327 1.506-0.747c0.21-0.209 0.362-0.467 0.458-0.773s0.157-0.607 0.183-0.904c0.026-0.297 0.026-0.568 0-0.812s-0.048-0.419-0.065-0.524c-0.035-0.105-0.066-0.227-0.092-0.367s-0.013-0.262 0.039-0.367c0.105-0.244 0.293-0.458 0.563-0.642s0.563-0.336 0.878-0.458c0.314-0.122 0.62-0.214 0.917-0.275s0.533-0.092 0.707-0.092c0.227 0 0.406 0.074 0.537 0.223s0.223 0.301 0.275 0.458c0.192 0.471 0.507 0.886 0.943 1.244s0.952 0.537 1.546 0.537c0.611 0 1.153-0.17 1.624-0.511s0.803-0.773 0.996-1.297c0.070-0.14 0.179-0.284 0.327-0.432s0.301-0.223 0.458-0.223c0.244 0 0.511 0.035 0.799 0.105s0.572 0.166 0.851 0.288c0.279 0.122 0.537 0.279 0.773 0.472s0.423 0.402 0.563 0.629c0.087 0.14 0.113 0.293 0.079 0.458s-0.070 0.284-0.105 0.354c-0.227 0.506-0.297 1.039-0.21 1.598s0.341 1.048 0.76 1.467c0.419 0.419 0.934 0.651 1.546 0.694s1.179-0.057 1.703-0.301c0.14-0.087 0.31-0.122 0.511-0.105s0.371 0.096 0.511 0.236c0.262 0.244 0.493 0.616 0.694 1.113s0.336 1 0.406 1.506c0.035 0.297-0.013 0.528-0.144 0.694s-0.266 0.275-0.406 0.327c-0.542 0.192-1.004 0.528-1.388 1.009s-0.576 1.026-0.576 1.637c0 0.594 0.162 1.113 0.485 1.559s0.747 0.764 1.27 0.956c0.122 0.070 0.227 0.14 0.314 0.21 0.192 0.157 0.323 0.358 0.393 0.602v0zM16.451 19.462c0.786 0 1.528-0.149 2.227-0.445s1.305-0.707 1.821-1.231c0.515-0.524 0.921-1.131 1.218-1.821s0.445-1.428 0.445-2.214c0-0.786-0.148-1.524-0.445-2.214s-0.703-1.292-1.218-1.808c-0.515-0.515-1.122-0.921-1.821-1.218s-1.441-0.445-2.227-0.445c-0.786 0-1.524 0.148-2.214 0.445s-1.292 0.703-1.808 1.218c-0.515 0.515-0.921 1.118-1.218 1.808s-0.445 1.428-0.445 2.214c0 0.786 0.149 1.524 0.445 2.214s0.703 1.297 1.218 1.821c0.515 0.524 1.118 0.934 1.808 1.231s1.428 0.445 2.214 0.445v0z"],right:["0 0 32 32","M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"],comment:["0 0 32 32","M27.128 0.38h-22.553c-2.336 0-4.229 1.825-4.229 4.076v16.273c0 2.251 1.893 4.076 4.229 4.076h4.229v-2.685h8.403l-8.784 8.072 1.566 1.44 7.429-6.827h9.71c2.335 0 4.229-1.825 4.229-4.076v-16.273c0-2.252-1.894-4.076-4.229-4.076zM28.538 19.403c0 1.5-1.262 2.717-2.819 2.717h-8.36l-0.076-0.070-0.076 0.070h-11.223c-1.557 0-2.819-1.217-2.819-2.717v-13.589c0-1.501 1.262-2.718 2.819-2.718h19.734c1.557 0 2.819-0.141 2.819 1.359v14.947zM9.206 10.557c-1.222 0-2.215 0.911-2.215 2.036s0.992 2.035 2.215 2.035c1.224 0 2.216-0.911 2.216-2.035s-0.992-2.036-2.216-2.036zM22.496 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.224 0 2.215-0.911 2.215-2.035s-0.991-2.036-2.215-2.036zM15.852 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.222 0 2.215-0.911 2.215-2.035s-0.992-2.036-2.215-2.036z"],"comment-off":["0 0 32 32","M27.090 0.131h-22.731c-2.354 0-4.262 1.839-4.262 4.109v16.401c0 2.269 1.908 4.109 4.262 4.109h4.262v-2.706h8.469l-8.853 8.135 1.579 1.451 7.487-6.88h9.787c2.353 0 4.262-1.84 4.262-4.109v-16.401c0-2.27-1.909-4.109-4.262-4.109v0zM28.511 19.304c0 1.512-1.272 2.738-2.841 2.738h-8.425l-0.076-0.070-0.076 0.070h-11.311c-1.569 0-2.841-1.226-2.841-2.738v-13.696c0-1.513 1.272-2.739 2.841-2.739h19.889c1.569 0 2.841-0.142 2.841 1.37v15.064z"],send:["0 0 32 32","M13.725 30l3.9-5.325-3.9-1.125v6.45zM0 17.5l11.050 3.35 13.6-11.55-10.55 12.425 11.8 3.65 6.1-23.375-32 15.5z"],pallette:["0 0 32 32","M19.357 2.88c1.749 0 3.366 0.316 4.851 0.946 1.485 0.632 2.768 1.474 3.845 2.533s1.922 2.279 2.532 3.661c0.611 1.383 0.915 2.829 0.915 4.334 0 1.425-0.304 2.847-0.915 4.271-0.611 1.425-1.587 2.767-2.928 4.028-0.855 0.813-1.811 1.607-2.869 2.38s-2.136 1.465-3.233 2.075c-1.099 0.61-2.198 1.098-3.296 1.465-1.098 0.366-2.115 0.549-3.051 0.549-1.343 0-2.441-0.438-3.296-1.311-0.854-0.876-1.281-2.41-1.281-4.608 0-0.366 0.020-0.773 0.060-1.221s0.062-0.895 0.062-1.343c0-0.773-0.183-1.353-0.55-1.738-0.366-0.387-0.793-0.58-1.281-0.58-0.652 0-1.21 0.295-1.678 0.886s-0.926 1.23-1.373 1.921c-0.447 0.693-0.905 1.334-1.372 1.923s-1.028 0.886-1.679 0.886c-0.529 0-1.048-0.427-1.556-1.282s-0.763-2.259-0.763-4.212c0-2.197 0.529-4.241 1.587-6.133s2.462-3.529 4.21-4.912c1.75-1.383 3.762-2.471 6.041-3.264 2.277-0.796 4.617-1.212 7.018-1.253zM7.334 15.817c0.569 0 1.047-0.204 1.434-0.611s0.579-0.875 0.579-1.404c0-0.569-0.193-1.047-0.579-1.434s-0.864-0.579-1.434-0.579c-0.529 0-0.987 0.193-1.373 0.579s-0.58 0.864-0.58 1.434c0 0.53 0.194 0.998 0.58 1.404 0.388 0.407 0.845 0.611 1.373 0.611zM12.216 11.79c0.691 0 1.292-0.254 1.8-0.763s0.762-1.107 0.762-1.8c0-0.732-0.255-1.343-0.762-1.831-0.509-0.489-1.109-0.732-1.8-0.732-0.732 0-1.342 0.244-1.831 0.732-0.488 0.488-0.732 1.098-0.732 1.831 0 0.693 0.244 1.292 0.732 1.8s1.099 0.763 1.831 0.763zM16.366 25.947c0.692 0 1.282-0.214 1.77-0.64s0.732-0.987 0.732-1.678-0.244-1.261-0.732-1.709c-0.489-0.448-1.078-0.671-1.77-0.671-0.65 0-1.21 0.223-1.678 0.671s-0.702 1.018-0.702 1.709c0 0.692 0.234 1.25 0.702 1.678s1.027 0.64 1.678 0.64zM19.113 9.592c0.651 0 1.129-0.203 1.433-0.611 0.305-0.406 0.459-0.874 0.459-1.404 0-0.488-0.154-0.947-0.459-1.373-0.304-0.427-0.782-0.641-1.433-0.641-0.529 0-1.008 0.193-1.434 0.58s-0.64 0.865-0.64 1.434c0 0.571 0.213 1.049 0.64 1.434 0.427 0.389 0.905 0.581 1.434 0.581zM24.848 12.826c0.57 0 1.067-0.213 1.495-0.64 0.427-0.427 0.64-0.947 0.64-1.556 0-0.57-0.214-1.068-0.64-1.495-0.428-0.427-0.927-0.64-1.495-0.64-0.611 0-1.129 0.213-1.555 0.64-0.428 0.427-0.642 0.926-0.642 1.495 0 0.611 0.213 1.129 0.642 1.556s0.947 0.64 1.555 0.64z"],camera:["0 0 32 32","M16 23c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6zM16 13c-2.206 0-4 1.794-4 4s1.794 4 4 4c2.206 0 4-1.794 4-4s-1.794-4-4-4zM27 28h-22c-1.654 0-3-1.346-3-3v-16c0-1.654 1.346-3 3-3h3c0.552 0 1 0.448 1 1s-0.448 1-1 1h-3c-0.551 0-1 0.449-1 1v16c0 0.552 0.449 1 1 1h22c0.552 0 1-0.448 1-1v-16c0-0.551-0.448-1-1-1h-11c-0.552 0-1-0.448-1-1s0.448-1 1-1h11c1.654 0 3 1.346 3 3v16c0 1.654-1.346 3-3 3zM24 10.5c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5zM15 4c0 0.552-0.448 1-1 1h-4c-0.552 0-1-0.448-1-1v0c0-0.552 0.448-1 1-1h4c0.552 0 1 0.448 1 1v0z"],subtitle:["0 0 32 32","M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z"]},iconsColor:"#ffffff",contextmenu:[],mutex:!0};for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n]);return e.video&&!e.video.type&&(e.video.type="auto"),"object"===a(e.danmaku)&&e.danmaku&&!e.danmaku.user&&(e.danmaku.user="DIYgod"),e.subtitle&&(!e.subtitle.type&&(e.subtitle.type="webvtt"),!e.subtitle.fontSize&&(e.subtitle.fontSize="20px"),!e.subtitle.bottom&&(e.subtitle.bottom="40px"),!e.subtitle.color&&(e.subtitle.color="#fff")),e.video.quality&&(e.video.url=[e.video.quality[e.video.defaultQuality].url]),e.lang&&(e.lang=e.lang.toLowerCase()),e.icons&&(e.icons=(0,s.default)({},t.icons,e.icons)),e.contextmenu=e.contextmenu.concat([{text:"About author",link:"https://diygod.me"},{text:"About DPlayer",link:"https://github.com/MoePlayer/DPlayer"},{text:"DPlayer feedback",link:"https://github.com/DIYgod/DPlayer/issues"},{text:"DPlayer 1.21.0 8e69ada",link:"https://github.com/MoePlayer/DPlayer/releases"}]),e}},function(e,t,n){"use strict";function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,l=i(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var u in n)o.call(n,u)&&(l[u]=n[u]);if(a){r=a(n);for(var d=0;d<r.length;d++)s.call(n,r[d])&&(l[r[d]]=n[r[d]])}}return l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,n,i,a){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState){if(o.status>=200&&o.status<300||304===o.status){var e=JSON.parse(o.responseText);return 0!==e.code?i(o,e):n(o,e)}a(o)}},o.open(null!==t?"POST":"GET",e,!0),o.send(null!==t?JSON.stringify(t):null)};t.default={send:function(e,t,n){i(e,t,function(e,t){console.log("Post danmaku: ",t),n&&n()},function(e,t){alert(t.msg)},function(e){console.log("Request was unsuccessful: "+e.status)})},read:function(e,t){i(e,null,function(e,n){t(null,n.danmaku)},function(e,n){t({status:e.status,response:n})},function(e){t({status:e.status,response:null})})}}},function(e,t,n){"use strict";function i(e){var t=this;this.lang=e,this.tran=function(e){return a[t.lang]&&a[t.lang][e]?a[t.lang][e]:e}}Object.defineProperty(t,"__esModule",{value:!0});var a={"zh-cn":{"Danmaku is loading":"\u5f39\u5e55\u52a0\u8f7d\u4e2d",Top:"\u9876\u90e8",Bottom:"\u5e95\u90e8",Rolling:"\u6eda\u52a8","Input danmaku, hit Enter":"\u8f93\u5165\u5f39\u5e55\uff0c\u56de\u8f66\u53d1\u9001","About author":"\u5173\u4e8e\u4f5c\u8005","DPlayer feedback":"\u64ad\u653e\u5668\u610f\u89c1\u53cd\u9988","About DPlayer":"\u5173\u4e8e DPlayer \u64ad\u653e\u5668",Loop:"\u6d17\u8111\u5faa\u73af",Speed:"\u901f\u5ea6","Opacity for danmaku":"\u5f39\u5e55\u900f\u660e\u5ea6",Normal:"\u6b63\u5e38","Please input danmaku content!":"\u8981\u8f93\u5165\u5f39\u5e55\u5185\u5bb9\u554a\u5582\uff01","Set danmaku color":"\u8bbe\u7f6e\u5f39\u5e55\u989c\u8272","Set danmaku type":"\u8bbe\u7f6e\u5f39\u5e55\u7c7b\u578b","Show danmaku":"\u663e\u793a\u5f39\u5e55","This video fails to load":"\u89c6\u9891\u52a0\u8f7d\u5931\u8d25","Switching to":"\u6b63\u5728\u5207\u6362\u81f3","Switched to":"\u5df2\u7ecf\u5207\u6362\u81f3",quality:"\u753b\u8d28",FF:"\u5feb\u8fdb",REW:"\u5feb\u9000","Unlimited danmaku":"\u6d77\u91cf\u5f39\u5e55","Send danmaku":"\u53d1\u9001\u5f39\u5e55",Setting:"\u8bbe\u7f6e","Full screen":"\u5168\u5c4f","Web full screen":"\u9875\u9762\u5168\u5c4f",Send:"\u53d1\u9001",Screenshot:"\u622a\u56fe",s:"\u79d2","Show subtitle":"\u663e\u793a\u5b57\u5e55","Hide subtitle":"\u9690\u85cf\u5b57\u5e55",Volume:"\u97f3\u91cf",Live:"\u76f4\u64ad"},"zh-tw":{"Danmaku is loading":"\u5f48\u5e55\u52a0\u8f09\u4e2d",Top:"\u9802\u90e8",Bottom:"\u5e95\u90e8",Rolling:"\u6efe\u52d5","Input danmaku, hit Enter":"\u8f38\u5165\u5f48\u5e55\uff0cEnter \u767c\u9001","About author":"\u95dc\u65bc\u4f5c\u8005","DPlayer feedback":"\u64ad\u653e\u5668\u610f\u898b\u53cd\u994b","About DPlayer":"\u95dc\u65bc DPlayer \u64ad\u653e\u5668",Loop:"\u5faa\u74b0\u64ad\u653e",Speed:"\u901f\u5ea6","Opacity for danmaku":"\u5f48\u5e55\u900f\u660e\u5ea6",Normal:"\u6b63\u5e38","Please input danmaku content!":"\u8acb\u8f38\u5165\u5f48\u5e55\u5185\u5bb9\u554a\uff01","Set danmaku color":"\u8a2d\u7f6e\u5f48\u5e55\u984f\u8272","Set danmaku type":"\u8a2d\u7f6e\u5f48\u5e55\u985e\u578b","Show danmaku":"\u986f\u793a\u5f48\u5e55","This video fails to load":"\u8996\u983b\u52a0\u8f09\u5931\u6557","Switching to":"\u6b63\u5728\u5207\u63db\u81f3","Switched to":"\u5df2\u7d93\u5207\u63db\u81f3",quality:"\u756b\u8cea",FF:"\u5feb\u9032",REW:"\u5feb\u9000","Unlimited danmaku":"\u6d77\u91cf\u5f48\u5e55","Send danmaku":"\u767c\u9001\u5f48\u5e55",Setting:"\u8a2d\u7f6e","Full screen":"\u5168\u5c4f","Web full screen":"\u9801\u9762\u5168\u5c4f",Send:"\u767c\u9001",Screenshot:"\u622a\u5716",s:"\u79d2","Show subtitle":"\u986f\u793a\u5b57\u5e55","Hide subtitle":"\u96b1\u85cf\u5b57\u5e55",Volume:"\u97f3\u91cf",Live:"\u76f4\u64ad"}};t.default=i},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.container=t.container,this.options=t.options,this.index=t.index,this.tran=t.tran,this.icons=t.icons,this.init()}return a(e,[{key:"init",value:function(){this.container.innerHTML=this.tpl(this.options,this.index,this.tran,this.icons),this.volumeBar=this.container.querySelector(".dplayer-volume-bar-inner"),this.volumeBarWrap=this.container.querySelector(".dplayer-volume-bar"),this.volumeBarWrapWrap=this.container.querySelector(".dplayer-volume-bar-wrap"),this.volumeButton=this.container.querySelector(".dplayer-volume"),this.volumeIcon=this.container.querySelector(".dplayer-volume-icon .dplayer-icon-content"),this.playedBar=this.container.querySelector(".dplayer-played"),this.loadedBar=this.container.querySelector(".dplayer-loaded"),this.playedBarWrap=this.container.querySelector(".dplayer-bar-wrap"),this.playedBarTime=this.container.querySelector(".dplayer-bar-time"),this.danmaku=this.container.querySelector(".dplayer-danmaku"),this.danmakuLoading=this.container.querySelector(".dplayer-danloading"),this.video=this.container.querySelector(".dplayer-video-current"),this.bezel=this.container.querySelector(".dplayer-bezel-icon"),this.playButton=this.container.querySelector(".dplayer-play-icon"),this.videoWrap=this.container.querySelector(".dplayer-video-wrap"),this.controllerMask=this.container.querySelector(".dplayer-controller-mask"),this.ptime=this.container.querySelector(".dplayer-ptime"),this.settingButton=this.container.querySelector(".dplayer-setting-icon"),this.settingBox=this.container.querySelector(".dplayer-setting-box"),this.mask=this.container.querySelector(".dplayer-mask"),this.loop=this.container.querySelector(".dplayer-setting-loop"),this.loopToggle=this.container.querySelector(".dplayer-setting-loop .dplayer-toggle-setting-input"),this.showDanmaku=this.container.querySelector(".dplayer-setting-showdan"),this.showDanmakuToggle=this.container.querySelector(".dplayer-showdan-setting-input"),this.unlimitDanmaku=this.container.querySelector(".dplayer-setting-danunlimit"),this.unlimitDanmakuToggle=this.container.querySelector(".dplayer-danunlimit-setting-input"),this.speed=this.container.querySelector(".dplayer-setting-speed"),this.speedItem=this.container.querySelectorAll(".dplayer-setting-speed-item"),this.danmakuOpacityBar=this.container.querySelector(".dplayer-danmaku-bar-inner"),this.danmakuOpacityBarWrap=this.container.querySelector(".dplayer-danmaku-bar"),this.danmakuOpacityBarWrapWrap=this.container.querySelector(".dplayer-danmaku-bar-wrap"),this.danmakuOpacityBox=this.container.querySelector(".dplayer-setting-danmaku"),this.dtime=this.container.querySelector(".dplayer-dtime"),this.controller=this.container.querySelector(".dplayer-controller"),this.commentInput=this.container.querySelector(".dplayer-comment-input"),this.commentButton=this.container.querySelector(".dplayer-comment-icon"),this.commentSettingBox=this.container.querySelector(".dplayer-comment-setting-box"),this.commentSettingButton=this.container.querySelector(".dplayer-comment-setting-icon"),this.commentSettingFill=this.container.querySelector(".dplayer-comment-setting-icon .dplayer-fill"),this.commentSendButton=this.container.querySelector(".dplayer-send-icon"),this.commentSendFill=this.container.querySelector(".dplayer-send-icon .dplayer-fill"),this.commentColorSettingBox=this.container.querySelector(".dplayer-comment-setting-color"),this.browserFullButton=this.container.querySelector(".dplayer-full-icon"),this.webFullButton=this.container.querySelector(".dplayer-full-in-icon"),this.menu=this.container.querySelector(".dplayer-menu"),this.qualityList=this.container.querySelector(".dplayer-quality-list"),this.camareButton=this.container.querySelector(".dplayer-camera-icon"),this.subtitleButton=this.container.querySelector(".dplayer-subtitle-icon"),this.subtitleButtonInner=this.container.querySelector(".dplayer-subtitle-icon .dplayer-icon-content"),this.subtitle=this.container.querySelector(".dplayer-subtitle"),this.qualityButton=this.container.querySelector(".dplayer-quality-icon"),this.barPreview=this.container.querySelector(".dplayer-bar-preview"),this.barWrap=this.container.querySelector(".dplayer-bar-wrap"),this.notice=this.container.querySelector(".dplayer-notice")}},{key:"tpl",value:function(e,t,n,i){return'<div class="dplayer-mask"></div><div class="dplayer-video-wrap">'+this.tplVideo(!0,e.video.pic,e.screenshot,e.preload,e.video.url,e.subtitle)+(e.logo?'<div class="dplayer-logo"><img src="'+e.logo+'"></div>':"")+'<div class="dplayer-danmaku" style="'+(e.danmaku?this.tplDanmakumargin(e.danmaku.margin):"")+'"><div class="dplayer-danmaku-item dplayer-danmaku-item--demo"></div></div><div class="dplayer-subtitle"></div><div class="dplayer-bezel"><span class="dplayer-bezel-icon"></span>'+(e.danmaku?'<span class="dplayer-danloading">'+n("Danmaku is loading")+"</span>":"")+'<span class="diplayer-loading-icon"><svg height="100%" version="1.1" viewBox="0 0 22 22" width="100%"><svg x="7" y="1"><circle class="diplayer-loading-dot diplayer-loading-dot-0" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-1" cx="4" cy="4" r="2"></circle></svg><svg x="13" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-2" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-3" cx="4" cy="4" r="2"></circle></svg><svg x="7" y="13"><circle class="diplayer-loading-dot diplayer-loading-dot-4" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-5" cx="4" cy="4" r="2"></circle></svg><svg x="1" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-6" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-7" cx="4" cy="4" r="2"></circle></svg></svg></span></div></div><div class="dplayer-controller-mask"></div><div class="dplayer-controller"><div class="dplayer-icons dplayer-comment-box"><button class="dplayer-icon dplayer-comment-setting-icon" data-balloon="'+n("Setting")+'" data-balloon-pos="up"><span class="dplayer-icon-content">'+i.get("pallette")+'</span></button><div class="dplayer-comment-setting-box"><div class="dplayer-comment-setting-color"><div class="dplayer-comment-setting-title">'+n("Set danmaku color")+'</div><label><input type="radio" name="dplayer-danmaku-color-'+t+'" value="#fff" checked><span style="background: #fff;"></span></label><label><input type="radio" name="dplayer-danmaku-color-'+t+'" value="#e54256"><span style="background: #e54256"></span></label><label><input type="radio" name="dplayer-danmaku-color-'+t+'" value="#ffe133"><span style="background: #ffe133"></span></label><label><input type="radio" name="dplayer-danmaku-color-'+t+'" value="#64DD17"><span style="background: #64DD17"></span></label><label><input type="radio" name="dplayer-danmaku-color-'+t+'" value="#39ccff"><span style="background: #39ccff"></span></label><label><input type="radio" name="dplayer-danmaku-color-'+t+'" value="#D500F9"><span style="background: #D500F9"></span></label></div><div class="dplayer-comment-setting-type"><div class="dplayer-comment-setting-title">'+n("Set danmaku type")+'</div><label><input type="radio" name="dplayer-danmaku-type-'+t+'" value="top"><span>'+n("Top")+'</span></label><label><input type="radio" name="dplayer-danmaku-type-'+t+'" value="right" checked><span>'+n("Rolling")+'</span></label><label><input type="radio" name="dplayer-danmaku-type-'+t+'" value="bottom"><span>'+n("Bottom")+'</span></label></div></div><input class="dplayer-comment-input" type="text" placeholder="'+n("Input danmaku, hit Enter")+'" maxlength="30"><button class="dplayer-icon dplayer-send-icon" data-balloon="'+n("Send")+'" data-balloon-pos="up"><span class="dplayer-icon-content">'+i.get("send")+'</span></button></div><div class="dplayer-icons dplayer-icons-left"><button class="dplayer-icon dplayer-play-icon"><span class="dplayer-icon-content">'+i.get("play")+'</span></button><div class="dplayer-volume"><button class="dplayer-icon dplayer-volume-icon"><span class="dplayer-icon-content">'+i.get("volume-down")+'</span></button><div class="dplayer-volume-bar-wrap" data-balloon-pos="up"><div class="dplayer-volume-bar"><div class="dplayer-volume-bar-inner" style="background: '+e.theme+';"><span class="dplayer-thumb" style="background: '+e.theme+'"></span></div></div></div></div><span class="dplayer-time"><span class="dplayer-ptime">0:00</span> / <span class="dplayer-dtime">0:00</span></span>'+(e.live?'<span class="dplayer-live-badge"><span class="dplayer-live-dot" style="background: '+e.theme+';"></span>'+n("Live")+"</span>":"")+'</div><div class="dplayer-icons dplayer-icons-right">'+(e.video.quality?'<div class="dplayer-quality"><button class="dplayer-icon dplayer-quality-icon">'+e.video.quality[e.video.defaultQuality].name+'</button><div class="dplayer-quality-mask">'+this.tplQualityList(e.video.quality)+"</div></div>":"")+(e.screenshot?'<a href="#" class="dplayer-icon dplayer-camera-icon" data-balloon="'+n("Screenshot")+'" data-balloon-pos="up"><span class="dplayer-icon-content">'+i.get("camera")+"</span></a>":"")+'<div class="dplayer-comment"><button class="dplayer-icon dplayer-comment-icon" data-balloon="'+n("Send danmaku")+'" data-balloon-pos="up"><span class="dplayer-icon-content">'+i.get("comment")+"</span></button></div>"+(e.subtitle?'<div class="dplayer-subtitle-btn"><button class="dplayer-icon dplayer-subtitle-icon" data-balloon="'+n("Hide subtitle")+'" data-balloon-pos="up"><span class="dplayer-icon-content">'+i.get("subtitle")+"</span></button></div>":"")+'<div class="dplayer-setting"><button class="dplayer-icon dplayer-setting-icon" data-balloon="'+n("Setting")+'" data-balloon-pos="up"><span class="dplayer-icon-content">'+i.get("setting")+'</span></button><div class="dplayer-setting-box"><div class="dplayer-setting-origin-panel"><div class="dplayer-setting-item dplayer-setting-speed"><span class="dplayer-label">'+n("Speed")+'</span><div class="dplayer-toggle">'+i.get("right")+'</div></div><div class="dplayer-setting-item dplayer-setting-loop"><span class="dplayer-label">'+n("Loop")+'</span><div class="dplayer-toggle"><input class="dplayer-toggle-setting-input" type="checkbox" name="dplayer-toggle"><label for="dplayer-toggle"></label></div></div><div class="dplayer-setting-item dplayer-setting-showdan"><span class="dplayer-label">'+n("Show danmaku")+'</span><div class="dplayer-toggle"><input class="dplayer-showdan-setting-input" type="checkbox" name="dplayer-toggle-dan"><label for="dplayer-toggle-dan"></label></div></div><div class="dplayer-setting-item dplayer-setting-danunlimit"><span class="dplayer-label">'+n("Unlimited danmaku")+'</span><div class="dplayer-toggle"><input class="dplayer-danunlimit-setting-input" type="checkbox" name="dplayer-toggle-danunlimit"><label for="dplayer-toggle-danunlimit"></label></div></div><div class="dplayer-setting-item dplayer-setting-danmaku"><span class="dplayer-label">'+n("Opacity for danmaku")+'</span><div class="dplayer-danmaku-bar-wrap"><div class="dplayer-danmaku-bar"><div class="dplayer-danmaku-bar-inner"><span class="dplayer-thumb"></span></div></div></div></div></div><div class="dplayer-setting-speed-panel"><div class="dplayer-setting-speed-item" data-speed="0.5"><span class="dplayer-label">0.5</span></div><div class="dplayer-setting-speed-item" data-speed="0.75"><span class="dplayer-label">0.75</span></div><div class="dplayer-setting-speed-item" data-speed="1"><span class="dplayer-label">'+n("Normal")+'</span></div><div class="dplayer-setting-speed-item" data-speed="1.25"><span class="dplayer-label">1.25</span></div><div class="dplayer-setting-speed-item" data-speed="1.5"><span class="dplayer-label">1.5</span></div><div class="dplayer-setting-speed-item" data-speed="2"><span class="dplayer-label">2</span></div></div></div></div><div class="dplayer-full"><button class="dplayer-icon dplayer-full-in-icon" data-balloon="'+n("Web full screen")+'" data-balloon-pos="up"><span class="dplayer-icon-content">'+i.get("full-in")+'</span></button><button class="dplayer-icon dplayer-full-icon" data-balloon="'+n("Full screen")+'" data-balloon-pos="up"><span class="dplayer-icon-content">'+i.get("full")+'</span></button></div></div><div class="dplayer-bar-wrap"><div class="dplayer-bar-time hidden">00:00</div><div class="dplayer-bar-preview"></div><div class="dplayer-bar"><div class="dplayer-loaded" style="width: 0;"></div><div class="dplayer-played" style="width: 0; background: '+e.theme+'"><span class="dplayer-thumb" style="background: '+e.theme+'"></span></div></div></div></div>'+this.tplContextmenuList(e.contextmenu,n)+'<div class="dplayer-notice"></div>'}},{key:"tplDanmakumargin",value:function(e){var t="";if(e)for(var n in e)t+=n+":"+e[n]+";";return t}},{key:"tplContextmenuList",value:function(e,t){for(var n='<div class="dplayer-menu">',i=0;i<e.length;i++)n+='<div class="dplayer-menu-item"><a target="_blank" href="'+e[i].link+'">'+t(e[i].text)+"</a></div>";return n+="</div>"}},{key:"tplQualityList",value:function(e){for(var t='<div class="dplayer-quality-list">',n=0;n<e.length;n++)t+='<div class="dplayer-quality-item" data-index="'+n+'">'+e[n].name+"</div>";return t+="</div>"}},{key:"tplVideo",value:function(e,t,n,i,a,o){var s=o&&"webvtt"===o.type;return'<video class="dplayer-video '+(e?'dplayer-video-current"':"")+'" '+(t?'poster="'+t+'"':"")+" webkit-playsinline playsinline "+(n||s?'crossorigin="anonymous"':"")+" "+(i?'preload="'+i+'"':"")+' src="'+a+'">'+(s?'<track kind="metadata" default src="'+o.url+'"></track>':"")+"</video>"}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.icons=t.icons,this.iconColor=t.iconsColor}return a(e,[{key:"get",value:function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+(this.icons[e][2]||"100%")+'" height="'+(this.icons[e][2]||"100%")+'" version="1.1" viewBox="'+this.icons[e][0]+'"><path class="dplayer-fill" style="fill:'+this.iconColor+'" d="'+this.icons[e][1]+'" id="dplayer-'+e+'"></path></svg>'}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t){i(this,e),this.options=t,this.container=this.options.container,this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.dan=[],this.showing=!0,this._opacity=this.options.opacity,this.events=this.options.events,this.unlimited=this.options.unlimited,this._measure(""),this.load()}return o(e,[{key:"load",value:function(){var e=this,t=void 0;t=this.options.api.maximum?this.options.api.address+"v2/?id="+this.options.api.id+"&max="+this.options.api.maximum:this.options.api.address+"v2/?id="+this.options.api.id;var n=(this.options.api.addition||[]).slice(0);n.push(t),this.events&&this.events.trigger("danmaku_load_start",n),this._readAllEndpoints(n,function(t){e.dan=[].concat.apply([],t).sort(function(e,t){return e.time-t.time}),window.requestAnimationFrame(function(){e.frame()}),e.options.callback(),e.events&&e.events.trigger("danmaku_load_end")})}},{key:"reload",value:function(e){this.options.api=e,this.dan=[],this.clear(),this.load()}},{key:"_readAllEndpoints",value:function(e,t){for(var n=this,i=[],a=0,o=0;o<e.length;++o)this.options.apiBackend.read(e[o],function(o){return function(s,r){if(++a,s)s.response?n.options.error(s.response.msg):n.options.error("Request was unsuccessful: "+s.status),i[o]=[];else{var l=["right","top","bottom"];i[o]=r?r.map(function(e){return{time:e[0],type:l[e[1]],color:e[2],author:e[3],text:e[4]}}):[]}if(a===e.length)return t(i)}}(o))}},{key:"send",value:function(e,t){var n={token:this.options.api.token,player:this.options.api.id,author:this.options.api.user,time:this.options.time(),text:e.text,color:e.color,type:e.type};this.options.apiBackend.send(this.options.api.address+"v2/",n,t),this.dan.splice(this.danIndex,0,n),this.danIndex++;var i={text:this.htmlEncode(n.text),color:n.color,type:n.type,border:"2px solid "+this.options.borderColor};this.draw(i),this.events&&this.events.trigger("danmaku_send",n)}},{key:"frame",value:function(){var e=this;if(this.dan.length&&!this.paused&&this.showing){for(var t=this.dan[this.danIndex],n=[];t&&this.options.time()>parseFloat(t.time);)n.push(t),t=this.dan[++this.danIndex];this.draw(n)}window.requestAnimationFrame(function(){e.frame()})}},{key:"opacity",value:function(e){if(void 0!==e){for(var t=this.container.getElementsByClassName("dplayer-danmaku-item"),n=0;n<t.length;n++)t[n].style.opacity=e;this._opacity=e,this.events&&this.events.trigger("danmaku_opacity",this._opacity)}return this._opacity}},{key:"draw",value:function(e){var t=this;if(this.showing){var n=this.options.height,i=this.container.offsetWidth,o=this.container.offsetHeight,s=parseInt(o/n),r=function(e){var n=e.offsetWidth||parseInt(e.style.width),i=e.getBoundingClientRect().right||t.container.getBoundingClientRect().right+n;return t.container.getBoundingClientRect().right-i},l=function(e){return(i+e)/5},c=function(e,n,o){for(var c=i/l(o),u=0;t.unlimited||u<s;u++){var d=function(a){var o=t.danTunnel[n][a+""];if(!o||!o.length)return t.danTunnel[n][a+""]=[e],e.addEventListener("animationend",function(){t.danTunnel[n][a+""].splice(0,1)}),{v:a%s};if("right"!==n)return"continue";for(var u=0;u<o.length;u++){var d=r(o[u])-10;if(d<=i-c*l(parseInt(o[u].style.width))||d<=0)break;if(u===o.length-1)return t.danTunnel[n][a+""].push(e),e.addEventListener("animationend",function(){t.danTunnel[n][a+""].splice(0,1)}),{v:a%s}}}(u);switch(d){case"continue":continue;default:if("object"===(void 0===d?"undefined":a(d)))return d.v}}return-1};"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]);for(var u=document.createDocumentFragment(),d=0;d<e.length;d++)!function(a){e[a].type||(e[a].type="right"),e[a].color||(e[a].color="#fff");var o=document.createElement("div");o.classList.add("dplayer-danmaku-item"),o.classList.add("dplayer-danmaku-"+e[a].type),e[a].border?o.innerHTML='<span style="border:'+e[a].border+'">'+e[a].text+"</span>":o.innerHTML=e[a].text,o.style.opacity=t._opacity,o.style.color=e[a].color,o.addEventListener("animationend",function(){t.container.removeChild(o)});var s=t._measure(e[a].text),r=void 0;switch(e[a].type){case"right":r=c(o,e[a].type,s),r>=0&&(o.style.width=s+1+"px",o.style.top=n*r+"px",o.style.transform="translateX(-"+i+"px)");break;case"top":r=c(o,e[a].type),r>=0&&(o.style.top=n*r+"px");break;case"bottom":r=c(o,e[a].type),r>=0&&(o.style.bottom=n*r+"px");break;default:console.error("Can't handled danmaku type: "+e[a].type)}r>=0&&(o.classList.add("dplayer-danmaku-move"),u.appendChild(o))}(d);return this.container.appendChild(u),u}}},{key:"play",value:function(){this.paused=!1}},{key:"pause",value:function(){this.paused=!0}},{key:"_measure",value:function(e){if(!this.context){var t=getComputedStyle(this.container.getElementsByClassName("dplayer-danmaku-item")[0],null);this.context=document.createElement("canvas").getContext("2d"),this.context.font=t.getPropertyValue("font")}return this.context.measureText(e).width}},{key:"seek",value:function(){this.clear();for(var e=0;e<this.dan.length;e++){if(this.dan[e].time>=this.options.time()){this.danIndex=e;break}this.danIndex=this.dan.length}}},{key:"clear",value:function(){this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.options.container.innerHTML="",this.events&&this.events.trigger("danmaku_clear")}},{key:"htmlEncode",value:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2f;")}},{key:"resize",value:function(){for(var e=this.container.offsetWidth,t=this.container.getElementsByClassName("dplayer-danmaku-item"),n=0;n<t.length;n++)t[n].style.transform="translateX(-"+e+"px)"}},{key:"hide",value:function(){this.showing=!1,this.pause(),this.clear(),this.events&&this.events.trigger("danmaku_hide")}},{key:"show",value:function(){this.seek(),this.showing=!0,this.play(),this.events&&this.events.trigger("danmaku_show")}},{key:"unlimit",value:function(e){this.unlimited=e}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e),this.events={},this.videoEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["screenshot","thumbnails_show","thumbnails_hide","danmaku_show","danmaku_hide","danmaku_clear","danmaku_loaded","danmaku_send","danmaku_opacity","contextmenu_show","contextmenu_hide","notice_show","notice_hide","quality_start","quality_end","destroy","resize","fullscreen","fullscreen_cancel","webfullscreen","webfullscreen_cancel","subtitle_show","subtitle_hide","subtitle_change"]}return a(e,[{key:"on",value:function(e,t){this.type(e)&&"function"==typeof t&&(this.events[e]||(this.events[e]=[]),this.events[e].push(t))}},{key:"trigger",value:function(e,t){if(this.events[e]&&this.events[e].length)for(var n=0;n<this.events[e].length;n++)this.events[e][n](t)}},{key:"type",value:function(e){return-1!==this.playerEvents.indexOf(e)?"player":-1!==this.videoEvents.indexOf(e)?"video":(console.error("Unknown event name: "+e),null)}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(){function e(t){var n=this;i(this,e),this.player=t,this.player.events.on("webfullscreen",function(){n.player.resize()}),this.player.events.on("webfullscreen_cancel",function(){n.player.resize(),s.default.setScrollPosition(n.lastScrollPosition)});var a=function(){n.player.resize(),n.isFullScreen("browser")?n.player.events.trigger("fullscreen"):(s.default.setScrollPosition(n.lastScrollPosition),n.player.events.trigger("fullscreen_cancel"))};this.player.container.addEventListener("fullscreenchange",a),this.player.container.addEventListener("mozfullscreenchange",a),this.player.container.addEventListener("webkitfullscreenchange",a)}return a(e,[{key:"isFullScreen",value:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser"){case"browser":return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;case"web":return this.player.container.classList.contains("dplayer-fulled")}}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser",t="browser"===e?"web":"browser",n=this.isFullScreen(t);switch(n||(this.lastScrollPosition=s.default.getScrollPosition()),e){case"browser":this.player.container.requestFullscreen?this.player.container.requestFullscreen():this.player.container.mozRequestFullScreen?this.player.container.mozRequestFullScreen():this.player.container.webkitRequestFullscreen?this.player.container.webkitRequestFullscreen():this.player.video.webkitEnterFullscreen&&this.player.video.webkitEnterFullscreen();break;case"web":this.player.container.classList.add("dplayer-fulled"),document.body.classList.add("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen")}n&&this.cancel(t)}},{key:"cancel",value:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser"){case"browser":document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen();break;case"web":this.player.container.classList.remove("dplayer-fulled"),document.body.classList.remove("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen_cancel")}}},{key:"toggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser";this.isFullScreen(e)?this.cancel(e):this.request(e)}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(){function e(t){i(this,e),this.storageName={opacity:"dplayer-danmaku-opacity",volume:"dplayer-volume",unlimited:"dplayer-danmaku-unlimited",danmaku:"dplayer-danmaku-show",subtitle:"dplayer-subtitle-show"},this.default={opacity:.7,volume:t.options.volume||.7,unlimited:(t.options.danmaku&&t.options.danmaku.unlimited?1:0)||0,danmaku:1,subtitle:1},this.data={},this.init()}return a(e,[{key:"init",value:function(){for(var e in this.storageName){var t=this.storageName[e];this.data[e]=parseFloat(s.default.storage.get(t)||this.default[e])}}},{key:"get",value:function(e){return this.data[e]}},{key:"set",value:function(e,t){this.data[e]=t,s.default.storage.set(this.storageName[e],t)}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,n,a,o){i(this,e),this.container=t,this.video=n,this.options=a,this.events=o,this.init()}return a(e,[{key:"init",value:function(){var e=this;if(this.container.style.fontSize=this.options.fontSize,this.container.style.bottom=this.options.bottom,this.container.style.color=this.options.color,this.video.textTracks&&this.video.textTracks[0]){var t=this.video.textTracks[0];t.oncuechange=function(){var n=t.activeCues[0];if(n){e.container.innerHTML="";var i=document.createElement("p");i.appendChild(n.getCueAsHTML()),e.container.appendChild(i)}else e.container.innerHTML="";e.events.trigger("subtitle_change")}}}},{key:"show",value:function(){this.container.classList.remove("dplayer-subtitle-hide"),this.events.trigger("subtitle_show")}},{key:"hide",value:function(){this.container.classList.add("dplayer-subtitle-hide"),this.events.trigger("subtitle_hide")}},{key:"toggle",value:function(){this.container.classList.contains("dplayer-subtitle-hide")?this.show():this.hide()}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.elements={},this.elements.volume=t.volumeBar,this.elements.played=t.playedBar,this.elements.loaded=t.loadedBar,this.elements.danmaku=t.danmakuOpacityBar}return a(e,[{key:"set",value:function(e,t,n){t=Math.max(t,0),t=Math.min(t,1),this.elements[e].style[n]=100*t+"%"}},{key:"get",value:function(e){return parseFloat(this.elements[e].style.width)/100}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(){function e(t){i(this,e),this.player=t,window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),this.types=["loading","progress"],this.init()}return a(e,[{key:"init",value:function(){for(var e=0;e<this.types.length;e++){this["init"+this.types[e]+"Checker"]()}}},{key:"initloadingChecker",value:function(){var e=this,t=0,n=0,i=!1;this.loadingChecker=setInterval(function(){e.enableloadingChecker&&(n=e.player.video.currentTime,i||n!==t||e.player.video.paused||(e.player.container.classList.add("dplayer-loading"),i=!0),i&&n>t&&!e.player.video.paused&&(e.player.container.classList.remove("dplayer-loading"),i=!1),t=n)},100)}},{key:"initprogressChecker",value:function(){var e=this;this.progressChecker=setInterval(function(){if(e.enableprogressChecker){e.player.bar.set("played",e.player.video.currentTime/e.player.video.duration,"width");var t=s.default.secondToTime(e.player.video.currentTime);e.player.template.ptime.innerHTML!==t&&(e.player.template.ptime.innerHTML=s.default.secondToTime(e.player.video.currentTime))}},100)}},{key:"enable",value:function(e){if(e)this["enable"+e+"Checker"]=!0;else for(var t=0;t<this.types.length;t++){var n=this.types[t];this["enable"+n+"Checker"]=!0}}},{key:"disable",value:function(e){if(e)this["enable"+e+"Checker"]=!1;else for(var t=0;t<this.types.length;t++){var n=this.types[t];this["enable"+n+"Checker"]=!1}}},{key:"destroy",value:function(e){if(e)clearInterval(this[e+"Checker"]);else for(var t=0;t<this.types.length;t++)clearInterval(this[this.types[t]+"Checker"])}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){var n=this;i(this,e),this.container=t,this.container.addEventListener("animationend",function(){n.container.classList.remove("dplayer-bezel-transition")})}return a(e,[{key:"switch",value:function(e){this.container.innerHTML=e,this.container.classList.add("dplayer-bezel-transition")}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(0),r=i(s),l=n(24),c=i(l),u=function(){function e(t){var n=this;a(this,e),this.player=t,this.autoHideTimer=0,r.default.isMobile||(this.player.container.addEventListener("mousemove",function(){n.setAutoHide()}),this.player.container.addEventListener("click",function(){n.setAutoHide()}),this.player.on("play",function(){n.setAutoHide()}),this.player.on("pause",function(){n.setAutoHide()})),this.initPlayButton(),this.initThumbnails(),this.initPlayedBar(),this.initFullButton(),this.initQualityButton(),this.initScreenshotButton(),this.initSubtitleButton(),r.default.isMobile||this.initVolumeButton()}return o(e,[{key:"initPlayButton",value:function(){var e=this;this.player.template.playButton.addEventListener("click",function(){e.player.toggle()}),r.default.isMobile?(this.player.template.videoWrap.addEventListener("click",function(){e.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){e.toggle()})):(this.player.template.videoWrap.addEventListener("click",function(){e.player.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){e.player.toggle()}))}},{key:"initThumbnails",value:function(){var e=this;this.player.options.video.thumbnails&&(this.thumbnails=new c.default({container:this.player.template.barPreview,barWidth:this.player.template.barWrap.offsetWidth,url:this.player.options.video.thumbnails,events:this.player.events}),this.player.on("loadedmetadata",function(){e.thumbnails.resize(160,e.player.video.videoHeight/e.player.video.videoWidth*160)}))}},{key:"initPlayedBar",value:function(){var e=this,t=function(t){var n=((t.clientX||t.changedTouches[0].clientX)-r.default.getElementViewLeft(e.player.template.playedBarWrap))/e.player.template.playedBarWrap.clientWidth;n=Math.max(n,0),n=Math.min(n,1),e.player.bar.set("played",n,"width"),e.player.template.ptime.innerHTML=r.default.secondToTime(n*e.player.video.duration)},n=function n(i){document.removeEventListener(r.default.nameMap.dragEnd,n),document.removeEventListener(r.default.nameMap.dragMove,t);var a=((i.clientX||i.changedTouches[0].clientX)-r.default.getElementViewLeft(e.player.template.playedBarWrap))/e.player.template.playedBarWrap.clientWidth;a=Math.max(a,0),a=Math.min(a,1),e.player.bar.set("played",a,"width"),e.player.seek(e.player.bar.get("played")*e.player.video.duration),e.player.time.enable("progress")};this.player.template.playedBarWrap.addEventListener(r.default.nameMap.dragStart,function(){e.player.time.disable("progress"),document.addEventListener(r.default.nameMap.dragMove,t),document.addEventListener(r.default.nameMap.dragEnd,n)}),this.player.template.playedBarWrap.addEventListener(r.default.nameMap.dragMove,function(t){if(e.player.video.duration){var n=r.default.cumulativeOffset(e.player.template.playedBarWrap).left,i=(t.clientX||t.changedTouches[0].clientX)-n;if(i<0||i>e.player.template.playedBarWrap.offsetWidth)return;var a=e.player.video.duration*(i/e.player.template.playedBarWrap.offsetWidth);e.thumbnails&&e.thumbnails.move(i),e.player.template.playedBarTime.style.left=i-20+"px",e.player.template.playedBarTime.innerText=r.default.secondToTime(a),e.player.template.playedBarTime.classList.remove("hidden")}}),this.player.template.playedBarWrap.addEventListener("mouseenter",function(){e.player.video.duration&&(e.thumbnails&&e.thumbnails.show(),e.player.template.playedBarTime.classList.remove("hidden"))}),this.player.template.playedBarWrap.addEventListener("mouseleave",function(){e.player.video.duration&&(e.thumbnails&&e.thumbnails.hide(),e.player.template.playedBarTime.classList.add("hidden"))})}},{key:"initFullButton",value:function(){var e=this;this.player.template.browserFullButton.addEventListener("click",function(){e.player.fullScreen.toggle("browser")}),this.player.template.webFullButton.addEventListener("click",function(){e.player.fullScreen.toggle("web")})}},{key:"initVolumeButton",value:function(){var e=this,t=function(t){var n=t||window.event,i=((n.clientX||n.changedTouches[0].clientX)-r.default.getElementViewLeft(e.player.template.volumeBarWrap)-5.5)/35;e.player.volume(i)},n=function n(){document.removeEventListener(r.default.nameMap.dragEnd,n),document.removeEventListener(r.default.nameMap.dragMove,t),e.player.template.volumeButton.classList.remove("dplayer-volume-active")};this.player.template.volumeBarWrapWrap.addEventListener("click",function(t){var n=t||window.event,i=((n.clientX||n.changedTouches[0].clientX)-r.default.getElementViewLeft(e.player.template.volumeBarWrap)-5.5)/35;e.player.volume(i)}),this.player.template.volumeBarWrapWrap.addEventListener(r.default.nameMap.dragStart,function(){document.addEventListener(r.default.nameMap.dragMove,t),document.addEventListener(r.default.nameMap.dragEnd,n),e.player.template.volumeButton.classList.add("dplayer-volume-active")}),this.player.template.volumeIcon.addEventListener("click",function(){e.player.video.muted?(e.player.video.muted=!1,e.player.switchVolumeIcon(),e.player.bar.set("volume",e.player.volume(),"width")):(e.player.video.muted=!0,e.player.template.volumeIcon.innerHTML=e.player.icons.get("volume-off"),e.player.bar.set("volume",0,"width"))})}},{key:"initQualityButton",value:function(){var e=this;this.player.options.video.quality&&this.player.template.qualityList.addEventListener("click",function(t){t.target.classList.contains("dplayer-quality-item")&&e.player.switchQuality(t.target.dataset.index)})}},{key:"initScreenshotButton",value:function(){var e=this;this.player.options.screenshot&&this.player.template.camareButton.addEventListener("click",function(){var t=document.createElement("canvas");t.width=e.player.video.videoWidth,t.height=e.player.video.videoHeight,t.getContext("2d").drawImage(e.player.video,0,0,t.width,t.height);var n=t.toDataURL();e.player.template.camareButton.href=n,e.player.template.camareButton.download="DPlayer.png",e.player.events.trigger("screenshot",n)})}},{key:"initSubtitleButton",value:function(){var e=this;this.player.options.subtitle&&(this.player.events.on("subtitle_show",function(){e.player.template.subtitleButton.dataset.balloon=e.player.tran("Hide subtitle"),e.player.template.subtitleButtonInner.style.opacity="",e.player.user.set("subtitle",1)}),this.player.events.on("subtitle_hide",function(){e.player.template.subtitleButton.dataset.balloon=e.player.tran("Show subtitle"),e.player.template.subtitleButtonInner.style.opacity="0.4",e.player.user.set("subtitle",0)}),this.player.template.subtitleButton.addEventListener("click",function(){e.player.subtitle.toggle()}))}},{key:"setAutoHide",value:function(){var e=this;this.show(),clearTimeout(this.autoHideTimer),this.autoHideTimer=setTimeout(function(){!e.player.video.played.length||e.player.paused||e.disableAutoHide||e.hide()},3e3)}},{key:"show",value:function(){this.player.container.classList.remove("dplayer-hide-controller")}},{key:"hide",value:function(){this.player.container.classList.add("dplayer-hide-controller"),this.player.setting.hide(),this.player.comment&&this.player.comment.hide()}},{key:"isShow",value:function(){return!this.player.container.classList.contains("dplayer-hide-controller")}},{key:"toggle",value:function(){this.isShow()?this.hide():this.show()}},{key:"destroy",value:function(){clearTimeout(this.autoHideTimer)}}]),e}();t.default=u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.container=t.container,this.barWidth=t.barWidth,this.container.style.backgroundImage="url('"+t.url+"')",this.events=t.events}return a(e,[{key:"resize",value:function(e,t){this.container.style.width=e+"px",this.container.style.height=t+"px",this.container.style.top=2-t+"px"}},{key:"show",value:function(){this.container.style.display="block",this.events&&this.events.trigger("thumbnails_show")}},{key:"move",value:function(e){this.container.style.backgroundPosition="-"+160*(Math.ceil(e/this.barWidth*100)-1)+"px 0",this.container.style.left=e-this.container.offsetWidth/2+"px"}},{key:"hide",value:function(){this.container.style.display="none",this.events&&this.events.trigger("thumbnails_hide")}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(){function e(t){var n=this;i(this,e),this.player=t,this.player.template.mask.addEventListener("click",function(){n.hide()}),this.player.template.settingButton.addEventListener("click",function(){n.show()}),this.loop=this.player.options.loop,this.player.template.loopToggle.checked=this.loop,this.player.template.loop.addEventListener("click",function(){n.player.template.loopToggle.checked=!n.player.template.loopToggle.checked,n.player.template.loopToggle.checked?n.loop=!0:n.loop=!1,n.hide()}),this.showDanmaku=this.player.user.get("danmaku"),this.showDanmaku||this.player.danmaku&&this.player.danmaku.hide(),this.player.template.showDanmakuToggle.checked=this.showDanmaku,this.player.template.showDanmaku.addEventListener("click",function(){n.player.template.showDanmakuToggle.checked=!n.player.template.showDanmakuToggle.checked,n.player.template.showDanmakuToggle.checked?(n.showDanmaku=!0,n.player.danmaku.show()):(n.showDanmaku=!1,n.player.danmaku.hide()),n.player.user.set("danmaku",n.showDanmaku?1:0),n.hide()}),this.unlimitDanmaku=this.player.user.get("unlimited"),this.player.template.unlimitDanmakuToggle.checked=this.unlimitDanmaku,this.player.template.unlimitDanmaku.addEventListener("click",function(){n.player.template.unlimitDanmakuToggle.checked=!n.player.template.unlimitDanmakuToggle.checked,n.player.template.unlimitDanmakuToggle.checked?(n.unlimitDanmaku=!0,n.player.danmaku.unlimit(!0)):(n.unlimitDanmaku=!1,n.player.danmaku.unlimit(!1)),n.player.user.set("unlimited",n.unlimitDanmaku?1:0),n.hide()}),this.player.template.speed.addEventListener("click",function(){n.player.template.settingBox.classList.add("dplayer-setting-box-narrow"),n.player.template.settingBox.classList.add("dplayer-setting-box-speed")});for(var a=0;a<this.player.template.speedItem.length;a++)!function(e){n.player.template.speedItem[e].addEventListener("click",function(){n.player.speed(n.player.template.speedItem[e].dataset.speed),n.hide()})}(a);if(this.player.danmaku){this.player.on("danmaku_opacity",function(e){n.player.bar.set("danmaku",e,"width"),n.player.user.set("opacity",e)}),this.player.danmaku.opacity(this.player.user.get("opacity"));var o=function(e){var t=e||window.event,i=((t.clientX||t.changedTouches[0].clientX)-s.default.getElementViewLeft(n.player.template.danmakuOpacityBarWrap))/130;i=Math.max(i,0),i=Math.min(i,1),n.player.danmaku.opacity(i)},r=function e(){document.removeEventListener(s.default.nameMap.dragEnd,e),document.removeEventListener(s.default.nameMap.dragMove,o),n.player.template.danmakuOpacityBox.classList.remove("dplayer-setting-danmaku-active")};this.player.template.danmakuOpacityBarWrapWrap.addEventListener("click",function(e){var t=e||window.event,i=((t.clientX||t.changedTouches[0].clientX)-s.default.getElementViewLeft(n.player.template.danmakuOpacityBarWrap))/130;i=Math.max(i,0),i=Math.min(i,1),n.player.danmaku.opacity(i)}),this.player.template.danmakuOpacityBarWrapWrap.addEventListener(s.default.nameMap.dragStart,function(){document.addEventListener(s.default.nameMap.dragMove,o),document.addEventListener(s.default.nameMap.dragEnd,r),n.player.template.danmakuOpacityBox.classList.add("dplayer-setting-danmaku-active")})}}return a(e,[{key:"hide",value:function(){var e=this;this.player.template.settingBox.classList.remove("dplayer-setting-box-open"),this.player.template.mask.classList.remove("dplayer-mask-show"),setTimeout(function(){e.player.template.settingBox.classList.remove("dplayer-setting-box-narrow"),e.player.template.settingBox.classList.remove("dplayer-setting-box-speed")},300),this.player.controller.disableAutoHide=!1}},{key:"show",value:function(){this.player.template.settingBox.classList.add("dplayer-setting-box-open"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.controller.disableAutoHide=!0}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){var n=this;i(this,e),this.player=t,this.player.template.mask.addEventListener("click",function(){n.hide()}),this.player.template.commentButton.addEventListener("click",function(){n.show()}),this.player.template.commentSettingButton.addEventListener("click",function(){n.toggleSetting()}),this.player.template.commentColorSettingBox.addEventListener("click",function(){if(n.player.template.commentColorSettingBox.querySelector("input:checked+span")){var e=n.player.template.commentColorSettingBox.querySelector("input:checked").value;n.player.template.commentSettingFill.style.fill=e,n.player.template.commentInput.style.color=e,n.player.template.commentSendFill.style.fill=e}}),this.player.template.commentInput.addEventListener("click",function(){n.hideSetting()}),this.player.template.commentInput.addEventListener("keydown",function(e){13===(e||window.event).keyCode&&n.send()}),this.player.template.commentSendButton.addEventListener("click",function(){n.send()})}return a(e,[{key:"show",value:function(){this.player.controller.disableAutoHide=!0,this.player.template.controller.classList.add("dplayer-controller-comment"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.container.classList.add("dplayer-show-controller"),this.player.template.commentInput.focus()}},{key:"hide",value:function(){this.player.template.controller.classList.remove("dplayer-controller-comment"),this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.container.classList.remove("dplayer-show-controller"),this.player.controller.disableAutoHide=!1,this.hideSetting()}},{key:"showSetting",value:function(){this.player.template.commentSettingBox.classList.add("dplayer-comment-setting-open")}},{key:"hideSetting",value:function(){this.player.template.commentSettingBox.classList.remove("dplayer-comment-setting-open")}},{key:"toggleSetting",value:function(){this.player.template.commentSettingBox.classList.contains("dplayer-comment-setting-open")?this.hideSetting():this.showSetting()}},{key:"send",value:function(){var e=this;if(this.player.template.commentInput.blur(),!this.player.template.commentInput.value.replace(/^\s+|\s+$/g,""))return void this.player.notice(this.player.tran("Please input danmaku content!"));this.player.danmaku.send({text:this.player.template.commentInput.value,color:this.player.container.querySelector(".dplayer-comment-setting-color input:checked").value,type:this.player.container.querySelector(".dplayer-comment-setting-type input:checked").value},function(){e.player.template.commentInput.value="",e.hide()})}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function e(t){i(this,e),t.options.hotkey&&document.addEventListener("keydown",function(e){if(t.focus){var n=document.activeElement.tagName.toUpperCase(),i=document.activeElement.getAttribute("contenteditable");if("INPUT"!==n&&"TEXTAREA"!==n&&""!==i&&"true"!==i){var a=e||window.event,o=void 0;switch(a.keyCode){case 32:a.preventDefault(),t.toggle();break;case 37:a.preventDefault(),t.seek(t.video.currentTime-5),t.controller.setAutoHide();break;case 39:a.preventDefault(),t.seek(t.video.currentTime+5),t.controller.setAutoHide();break;case 38:a.preventDefault(),o=t.volume()+.1,t.volume(o);break;case 40:a.preventDefault(),o=t.volume()-.1,t.volume(o)}}}}),document.addEventListener("keydown",function(e){switch((e||window.event).keyCode){case 27:t.fullScreen.isFullScreen("web")&&t.fullScreen.cancel("web")}})};t.default=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){var n=this;i(this,e),this.player=t,this.player.container.addEventListener("contextmenu",function(e){var t=e||window.event;t.preventDefault();var i=n.player.container.getBoundingClientRect();n.show(t.clientX-i.left,t.clientY-i.top),n.player.template.mask.addEventListener("click",function(){n.hide()})})}return a(e,[{key:"show",value:function(e,t){this.player.template.menu.classList.add("dplayer-menu-show");var n=this.player.container.getBoundingClientRect();e+this.player.template.menu.offsetWidth>=n.width?(this.player.template.menu.style.right=n.width-e+"px",this.player.template.menu.style.left="initial"):(this.player.template.menu.style.left=e+"px",this.player.template.menu.style.right="initial"),t+this.player.template.menu.offsetHeight>=n.height?(this.player.template.menu.style.bottom=n.height-t+"px",this.player.template.menu.style.top="initial"):(this.player.template.menu.style.top=t+"px",this.player.template.menu.style.bottom="initial"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.events.trigger("contextmenu_show")}},{key:"hide",value:function(){this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.template.menu.classList.remove("dplayer-menu-show"),this.player.events.trigger("contextmenu_hide")}}]),e}();t.default=o}]).default});

},{}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var c = console.log,
    d = document,
    n = navigator,
    w = window;

var categories = exports.categories = function categories() {

  var readyState = setInterval(function () {

    if (d.readyState === 'complete') {

      //Kategoriak ekarri
      var fetchAllCategories = function fetchAllCategories(data, requestFromBGSync) {
        //Beharrezko sekzioak ezkutatu
        d.querySelectorAll('.section').forEach(function (section) {
          section.classList.add('u-hide');
        });
        d.querySelector('.categories').classList.remove('u-hide');
        d.querySelector('.tv').classList.remove('u-hide');

        fetch(data).then(function (response) {
          return response.json();
        }).then(function (json) {

          if (!requestFromBGSync) {
            localStorage.removeItem('category-list');
          }

          localStorage.setItem('localJsonCategories', JSON.stringify(json));

          json.member.forEach(function (jsonCat) {
            tpl += '\n              <li>\n                <a href="#" class="category-id" data-category="' + jsonCat["@id"] + '">\n                \t' + jsonCat.title + '\n                </a>\n              </li>\n              ';
          });

          d.querySelector('.categories__list').innerHTML = tpl;
        }).catch(function (err) {
          return localStorage.setItem('category-list', data);
        });
      };

      //Aplikaziora sartzen denean egin beharrekoa


      clearInterval(readyState);

      var tpl = '';

      //Nabigazio botoia
      d.getElementById("categories-btn").addEventListener('click', function (e) {
        d.querySelector('.off-canvas-menu').classList.toggle('is-open');

        //Kategorian ikonoa (menu off-canvas)
        if (d.querySelector('.nav-icon').classList.contains("is-active")) {
          d.querySelector('.nav-icon').classList.remove('is-active');
        } else {
          d.querySelector('.nav-icon').classList.add('is-active');
        }
      });
      //scape tekla bidez itxi menua
      d.addEventListener('keyup', function (e) {
        if (e.keyCode == 27) {
          d.querySelector('.off-canvas-menu').classList.remove('is-open');
          d.querySelector('.nav-icon').classList.remove('is-active');
        }
      });var data = '//still-castle-99749.herokuapp.com/program-type-list';

      localStorage.setItem('category-list', data);

      fetchAllCategories(data, false);

      //Background Sync (programak)
      if ('serviceWorker' in n && 'SyncManager' in w) {
        var registerBGSync = function registerBGSync() {
          n.serviceWorker.ready.then(function (registration) {
            return registration.sync.register('nahieran-tv-categories').then(function () {
              return c('Atzeko sinkronizazioa erregistratua');
            }).catch(function (err) {
              return c('Errorea atzeko sinkronizazioa erregistratzean', err);
            });
          });
        };

        registerBGSync();
      }
      //Background Sync (programak)
      n.serviceWorker.addEventListener('message', function (e) {
        c('Atzeko sinkronizazioa message bidez: ', e.data);
        if (e.data === 'online nahieran-tv-categories') fetchAllCategories(localStorage.getItem('category-list'), true);
      });
    } //readyState
  }, 100); //interval

  return '\n    <div class="categories off-canvas-menu">\n      <div class="loader"></div>\n      <ul class="categories__list"></ul>\n    </div>\n    ';
};

},{}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var c = console.log,
    d = document,
    n = navigator,
    w = window;

var categoriesSingle = exports.categoriesSingle = function categoriesSingle() {

  var readyState = setInterval(function () {

    if (d.readyState === 'complete') {

      //Kategoria zerrenda ekarri
      var fetchCategory = function fetchCategory(jsonData, requestFromBGSync, catName) {

        var data = jsonData.slice(5),
            tpl = '';

        d.querySelector('.off-canvas-menu').classList.remove('is-open');
        d.querySelector('.nav-icon').classList.remove('is-active');
        //Loader erakutsi
        d.querySelector('.loader-cat').classList.add('loader-show');
        d.querySelector('.loader-template-cat').classList.add('loader-show');
        //Beharrezko sekzioak ezkutatu
        d.querySelectorAll('.section').forEach(function (section) {
          section.classList.add('u-hide');
        });

        //Bideoa martxan badago ere, geratu
        if (d.querySelector(".dplayer-video")) {
          d.querySelector(".dplayer-video").pause();
        }

        fetch(data).then(function (response) {
          return response.json();
        }).then(function (json) {

          if (!requestFromBGSync) {
            localStorage.removeItem('category');
          }

          //Loader ezkutatu
          d.querySelector('.loader-cat').classList.remove('loader-show');
          d.querySelector('.loader-template-cat').classList.remove('loader-show');

          d.querySelector('.single-cat').classList.remove('u-hide');

          json.member.forEach(function (jsonCat) {
            tpl += '\n                <li>\n                  <a href="#" class="program-id" data-program="' + jsonCat["@id"] + '">\n                    ' + jsonCat.title + '\n                    </a>\n                  </li>\n                  ';
          });

          d.querySelector('.single-cat__list').innerHTML = tpl;
          d.querySelector('.single-cat__header').innerHTML = '\n              <div class="tv__title">' + catName + '</div>\n              <span class="tv__number">(' + json.member.length + ')</span> saio erakusten\n              ';
        }).catch(function (err) {
          return console.log(err);
        });
      }; //fetchCategory

      clearInterval(readyState);d.querySelector('.categories__list').addEventListener('click', function (e) {

        e.preventDefault();

        if (e.target.classList.contains('category-id')) {
          var catName = e.target.innerHTML;
          var data = e.target.getAttribute('data-category');

          localStorage.setItem('category', data);
          localStorage.setItem('category-name', catName);

          fetchCategory(data, false, catName);

          //Background Sync (kategoria)
          if ('serviceWorker' in n && 'SyncManager' in w) {
            var registerBGSync = function registerBGSync() {
              n.serviceWorker.ready.then(function (registration) {
                return registration.sync.register('nahieran-category').then(function () {
                  return c('Atzeko sinkronizazioa erregistratua');
                }).catch(function (err) {
                  return c('Errorea atzeko sinkronizazioa erregistratzean', err);
                });
              });
            };

            registerBGSync();
          }
        }
      });
      //Background Sync (kategoria)
      n.serviceWorker.addEventListener('message', function (e) {
        console.log('Atzeko sinkronizazioa message bidez aktibatua: ', e.data);
        if (e.data === 'online nahieran-category') fetchCategory(localStorage.getItem('category'), true, localStorage.getItem('category-name'));
      });
    } //readyState
  }, 100); //interval

  return '\n    <div class="loader-template loader-template-cat">\n    \t<div class="loader loader-cat"></div>\n    </div>\n    <div class="single-cat section u-hide">\n      <header class="section-header tv__header single-cat__header"></header>\n      <ul class="tv__list single-cat__list"></ul>\n    </div>\n    ';
};

},{}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.init = exports.isOnline = exports.pwa = undefined;

var _tv = require('./tv');

var c = console.log,
    d = document,
    n = navigator,
    w = window;

var pwa = exports.pwa = function pwa() {
  //Service Workerra erregistratu
  if ('serviceWorker' in n) {
    n.serviceWorker.register('./sw.js').then(function (registration) {
      c('Service Worker erregistratua', registration.scope);
    }).catch(function (err) {
      return c('Registro de Service Worker fallido', err);
    });
  }
};

var isOnline = exports.isOnline = function isOnline() {
  //Konexioaren egoera (online/offline)
  var metaTagTheme = d.querySelector('meta[name=theme-color]');

  function networkStatus(e) {

    if (n.onLine) {
      metaTagTheme.setAttribute('content', '#ffffff');
      d.querySelector(".main-footer__status").classList.remove("offline");
      d.querySelector(".offline").innerHTML = "";
    } else {
      metaTagTheme.setAttribute('content', '#c9c9c9');
      d.querySelector(".main-footer__status").classList.add("offline");
      d.querySelector(".offline").innerHTML = "<div class='text'>Sarea berreskuratzen...</div>";
    }
  }

  w.addEventListener('online', networkStatus);
  w.addEventListener('offline', networkStatus);
};

var init = exports.init = function init() {

  var readyState = setInterval(function () {
    //Aplikazioa/leihoa eguneratu
    if (d.readyState === 'complete') {
      clearInterval(readyState);
      d.getElementById("reload-app").addEventListener('click', function (e) {
        location.reload();
      });
    }
  }, 100);

  return '\n  <header class="main-header">\n    <div class="main-header__cols">\n      <img src="./assets/eitb-logo-blue.svg" alt="Nahieran" class="main-header__logo" id="reload-app">\n      <span class="main-header__slogan">nahieran</span>\n    </div>\n    <div class="main-header__cols right">\n      <div class="nav-icon" id="categories-btn">\n      \t<div class="nav-icon__bar"></div>\n      \t<div class="nav-icon__bar"></div>\n      \t<div class="nav-icon__bar"></div>\n      </div>\n    </div>\n  </header>\n\n  ' + (0, _tv.tv)() + '\n\n  <footer class="main-footer">\n    <div class="main-footer__status"></div>\n    <div class="main-footer__row">\n      <div class="main-footer__col-logo">\n      \t<img src="./assets/eitb-logo-white.svg" alt="eitb nahieran" class="main-footer__logo">\n      \t<div class="main-footer__text">Azken eguneraketa:\n      \t\t<span class="saved-date">' + localStorage.getItem("jsonDate") + '</span>\n      \t</div>\n      </div>\n      <div class="main-footer__col-btn deleteStorage">\n      \t<img src="./assets/reload.svg" alt="Datuak eguneratu" class="main-footer__reload">\n      </div>\n    </div>\n\n    <div class="main-footer__row">\n      <div class="main-footer__powered-by">\n      \tPWA garapena <a onclick="window.location=\'https://twitter.com/asiermusa\'" href="#">@asiermusa</a> |\n      \teitb APIa <a onclick="window.location=\'https://twitter.com/erralin\'" href="#">@erralin</a>\n      </div>\n    </div>\n  </footer>\n  ';
};

},{"./tv":5}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.tv = undefined;

var _categories = require('./categories');

var _tvProgram = require('./tvProgram');

var _tvProgramEpisode = require('./tvProgramEpisode');

var _categoriesSingle = require('./categoriesSingle');

var c = console.log,
    d = document,
    n = navigator,
    w = window;

var filtering = function filtering(ul) {

  d.getElementById('find-programs').addEventListener('keyup', function (e) {

    var json = JSON.parse(localStorage.getItem('localJson')),
        lista = null,
        tpl = '';

    lista = json.member.filter(function (list) {
      return list.title.toLowerCase().includes(e.target.value.toLowerCase());
    });

    lista.forEach(function (json) {
      tpl += '\n      <li>\n        <a href="#" class="program-id" data-program="' + json["@id"] + '">\n        ' + json.title + '\n        </a>\n      </li>\n      ';
    });

    d.querySelector(ul).innerHTML = tpl;
    d.querySelector('.tv__header').innerHTML = '<span class="tv__number">' + lista.length + '</span> saio erakusten';
  });
};

var tv = exports.tv = function tv() {

  var readyState = setInterval(function () {

    if (d.readyState === 'complete') {

      //Programa erakutsi (buklea)
      var getPrograms = function getPrograms(json) {

        var tpl = '';

        JSON.parse(json).member.forEach(function (json) {

          tpl += '\n            <li>\n              <a href="#" class="program-id" data-program="' + json["@id"] + '">\n                ' + json.title + '\n              </a>\n            </li>\n            ';
        });

        d.querySelector('.tv__list').innerHTML = tpl;
        d.querySelector('.tv__header').innerHTML = 'Saio guztiak erakusten <span class="tv__number">(' + JSON.parse(json).member.length + ')</span>';
        //Loader ezkutatu
        d.querySelector('.loader-tv').classList.remove('loader-show');
        d.querySelector('.loader-template-tv').classList.remove('loader-show');
        //Footerrean APIaren eguneraketa data bistaratu
        d.querySelector('.main-footer__text').classList.add('is-cache');
      };

      //Programak ekarri


      var fetchAllPrograms = function fetchAllPrograms(data, requestFromBGSync, reset) {

        var tpl = '';

        //Loader erakutsi
        d.querySelector('.loader-template-tv').classList.add('loader-show');
        d.querySelector('.loader-tv').classList.add('loader-show');
        //Beharrezko sekzioak ezkutatu
        d.querySelectorAll('.section').forEach(function (section) {
          section.classList.add('u-hide');
        });
        d.querySelector('.categories').classList.remove('u-hide');
        d.querySelector('.tv').classList.remove('u-hide');

        //Bideoa martxan badago ere, geratu
        if (d.querySelector(".dplayer-video")) {
          d.querySelector(".dplayer-video").pause();
        }

        //APIa deitu behar bada...
        if (reset) {

          fetch(data).then(function (response) {
            return response.json();
          }).then(function (json) {

            if (!requestFromBGSync) {
              localStorage.removeItem('tv');
            }

            localStorage.setItem('localJson', JSON.stringify(json));

            var savedDate = new Date(),
                date = savedDate.getFullYear() + '/' + ('0' + (savedDate.getMonth() + 1)).slice(-2) + '/' + ('0' + savedDate.getDate()).slice(-2) + ' - ',
                time = ('0' + savedDate.getHours()).slice(-2) + ":" + ('0' + savedDate.getMinutes()).slice(-2),
                dateTime = date + ' ' + time;

            localStorage.setItem("jsonDate", dateTime);
            d.querySelector('.saved-date').innerHTML = localStorage.getItem("jsonDate");

            getPrograms(localStorage.getItem('localJson'));

            //Notifikazio bidez ohartarazi
            if (w.Notification && Notification.permission !== 'denied') {
              Notification.requestPermission(function (status) {
                console.log(status);
                var n = new Notification('Nahieran', {
                  body: 'Programa zerrenda eguneratu da :)',
                  icon: './assets/favicon.png'
                });
              });
            }
          }).catch(function (err) {
            localStorage.setItem('tv', data);
          });

          //Programak local-ean gordeta badago
        } else {
          getPrograms(data);
        }
      }; //fetchAllPrograms

      //Filtroa egin


      clearInterval(readyState);filtering('.tv__list');

      //Gordetako APIa ezabatu eta berria ekartzeko - EZABATU
      d.querySelector('.deleteStorage').addEventListener('click', function (e) {

        e.preventDefault();
        if (confirm('Programa zerrenda eguneratu nahi al duzu?') == true) {
          localStorage.removeItem('localJson');
          localStorage.removeItem('jsonDate');

          var reset = true,
              data = '//still-castle-99749.herokuapp.com/playlist';

          localStorage.setItem('tv', data);

          fetchAllPrograms(data, false, reset);

          //Background Sync (programak)
          if ('serviceWorker' in n && 'SyncManager' in w) {
            var registerBGSync = function registerBGSync() {
              n.serviceWorker.ready.then(function (registration) {
                return registration.sync.register('nahieran-tv').then(function () {
                  return c('Atzeko sinkronizazioa erregistratua');
                }).catch(function (err) {
                  return c('Errorea atzeko sinkronizazioa erregistratzean', err);
                });
              });
            };

            registerBGSync();
          }
        }
      });

      //Aplikaziora sartzen denean egin beharrekoa (APIa deitu edo ez)
      if (localStorage.getItem('localJson')) {
        fetchAllPrograms(localStorage.getItem('localJson'), false, false);
      } else {
        var reset = true,
            data = '//still-castle-99749.herokuapp.com/playlist';

        localStorage.setItem('tv', data);

        fetchAllPrograms(data, false, reset);

        //Background Sync (programak)
        if ('serviceWorker' in n && 'SyncManager' in w) {
          var registerBGSync = function registerBGSync() {
            n.serviceWorker.ready.then(function (registration) {
              return registration.sync.register('nahieran-tv').then(function () {
                return c('Atzeko sinkronizazioa erregistratua');
              }).catch(function (err) {
                return c('Errorea atzeko sinkronizazioa erregistratzean', err);
              });
            });
          };

          registerBGSync();
        }
      }
      //Background Sync (programak)
      n.serviceWorker.addEventListener('message', function (e) {
        c('Atzeko sinkronizazioa message bidez: ', e.data);
        if (e.data === 'online nahieran-tv') fetchAllPrograms(localStorage.getItem('tv'), true, false);
      });
    } //readyState
  }, 100); //interval

  return '\n    ' + (0, _categories.categories)() + '\n    <div class="tv section">\n      <div class="tv__form">\n        <input type="text" id="find-programs" class="tv__input" placeholder="eitbko saioen artean bilatu..." title="Saioak bilatu">\n      </div>\n      <header class="section-header tv__header"></header>\n      <ul class="tv__list"></ul>\n      <div class="loader-template loader-template-tv">\n        <div class="loader loader-tv"></div>\n      </div>\n    </div>\n    ' + (0, _tvProgram.selectProgram)() + '\n    ' + (0, _tvProgramEpisode.selectEpisode)() + '\n    ' + (0, _categoriesSingle.categoriesSingle)() + '\n    ';
};

},{"./categories":2,"./categoriesSingle":3,"./tvProgram":6,"./tvProgramEpisode":7}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var c = console.log,
    d = document,
    n = navigator,
    w = window;

var selectProgram = exports.selectProgram = function selectProgram() {

  var readyState = setInterval(function () {

    if (d.readyState === 'complete') {

      //Programa ekarri (zerrenda)
      var fetchProgram = function fetchProgram(jsonData, requestFromBGSync) {

        var data = jsonData.slice(5),
            tpl = '',
            date = '';

        //Beharrezko sekzioak ezkutatu
        d.querySelectorAll('.section').forEach(function (section) {
          section.classList.add('u-hide');
        });

        //Loader erakutsi
        d.querySelector('.loader-program').classList.add('loader-show');
        d.querySelector('.loader-template-program').classList.add('loader-show');

        //Bideoa martxan badago ere, geratu
        if (d.querySelector(".dplayer-video")) {
          d.querySelector(".dplayer-video").pause();
        }

        fetch(data).then(function (response) {
          return response.json();
        }).then(function (json) {

          if (!requestFromBGSync) {
            localStorage.removeItem('tv-program');
          }

          d.querySelector('.program').classList.remove('u-hide');
          //Loader ezkutatu
          d.querySelector('.loader-program').classList.remove('loader-show');
          d.querySelector('.loader-template-program').classList.remove('loader-show');

          json.member.forEach(function (json) {
            if (json.broadcast_date) {
              date = json.broadcast_date.slice(0, 10);
            }
            tpl += '\n                <li class="custom-episode" data-episode="' + json["@id"] + '">\n      \t\t\t\t\t  <div class="program__image">\n                    <img src="' + json.episode_image.slice(5) + '" class="program__img custom-episode" data-episode="' + json["@id"] + '">\n                  </div>\n\n                  <div class="program__content custom-episode" data-episode="' + json["@id"] + '">\n                    ' + json.title + '\n                  <div class="program__date">' + date + '</div>\n                  </div>\n                </li>\n                ';
          });

          d.querySelector('.program__list').innerHTML = tpl;
          d.querySelector('.program__header').innerHTML = '\n          \t\t<div class="program__title">' + json.name + '</div>\n              <div class="program__desc">' + json.desc_group + '</div>\n              ';
        }).catch(function (err) {
          return console.log(err);
        });
      };

      //Programa ekarri (click ebentua)


      clearInterval(readyState);d.getElementById("app").addEventListener('click', function (e) {

        e.preventDefault();
        if (e.target.classList.contains('program-id')) {

          var data = e.target.getAttribute('data-program');

          localStorage.setItem('tv-program', data);

          fetchProgram(data, false);

          //Background Sync (programak)
          if ('serviceWorker' in n && 'SyncManager' in w) {
            var registerBGSync = function registerBGSync() {
              n.serviceWorker.ready.then(function (registration) {
                return registration.sync.register('nahieran-tv-program').then(function () {
                  return c('Atzeko sinkronizazioa erregistratua');
                }).catch(function (err) {
                  return c('Errorea atzeko sinkronizazioa erregistratzean', err);
                });
              });
            };

            registerBGSync();
          }
        }
      });
      //Background Sync (programak)
      n.serviceWorker.addEventListener('message', function (e) {
        console.log('Atzeko sinkronizazioa message bidez aktibatua: ', e.data);
        if (e.data === 'online nahieran-tv-program') fetchProgram(localStorage.getItem('tv-program'), true);
      });
    } //readyState
  }, 100); //interval

  return '\n    <div class="loader-template loader-template-program">\n  \t  <div class="loader loader-program"></div>\n    </div>\n    <div class="program section u-hide">\n  \t  <header class="section-header program__header"></header>\n      <ul class="program__list"></ul>\n    </div>\n    ';
};

},{}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.selectEpisode = undefined;

var _DPlayer = require('DPlayer');

var _DPlayer2 = _interopRequireDefault(_DPlayer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var c = console.log,
    d = document,
    n = navigator,
    w = window;

var selectEpisode = exports.selectEpisode = function selectEpisode() {

  var readyState = setInterval(function () {

    if (d.readyState === 'complete') {

      //episode kargatu
      var fetchEpisode = function fetchEpisode(jsonData, requestFromBGSync) {

        var data = jsonData.slice(5),
            tpl = '';

        //Loader erakutsi
        d.querySelector('.loader-episode').classList.add('loader-show');
        d.querySelector('.loader-template-episode').classList.add('loader-show');

        //Beharrezko sekzioak ezkutatu
        d.querySelectorAll('.section').forEach(function (section) {
          section.classList.add('u-hide');
        });

        //APIa deitu (episode)
        fetch(data).then(function (response) {
          return response.json();
        }).then(function (json) {

          d.querySelector('.episode').classList.remove('u-hide');

          if (!requestFromBGSync) {
            localStorage.removeItem('tv-program-episode');
          }

          //Loader ezkutatu
          d.querySelector('.loader-episode').classList.remove('loader-show');
          d.querySelector('.loader-template-episode').classList.remove('loader-show');

          var urlEnd = json.url.slice(-3);

          if (urlEnd === 'mp4') {
            urlEnd = json.url;
          } else {
            urlEnd = json.formats[7].url;
          }

          if (d.getElementById('dplayer')) {
            var dp = new _DPlayer2.default({
              container: d.getElementById('dplayer'),
              autoplay: false,
              theme: '#008cd0',
              video: {
                url: urlEnd
              }
            });
          }

          d.querySelector('.episode__header').innerHTML = '\n              <div class="episode__title">' + json.title + '</div>\n              <div class="episode__desc">' + json.description + '</div>\n              ';
        }).catch(function (err) {
          localStorage.setItem('tv-program-episode', jsonData);
          d.querySelector('.episode__play').innerHTML = '<div class="error">Konexioak huts egin du</div>';
        });
      }; //fetchEpisode

      //Programa zerrendatik episode ekarri (click)


      clearInterval(readyState);

      //Atzera joan (programetara)
      d.getElementById('episode__back').addEventListener('click', function (e) {
        //Beharrezko sekzioak ezkutatu
        d.querySelectorAll('.section').forEach(function (section) {
          section.classList.add('u-hide');
        });
        d.querySelector('.program').classList.remove('u-hide');

        //Bideoa martxan badago ere, geratu
        if (d.querySelector(".dplayer-video")) {
          d.querySelector(".dplayer-video").pause();
        }
      });d.querySelector('.program__list').addEventListener('click', function (e) {
        e.preventDefault();

        if (e.target.classList.contains('custom-episode')) {

          var data = e.target.getAttribute('data-episode');

          localStorage.setItem('tv-program-episode', data);
          fetchEpisode(data, false);

          //Background Sync (episode)
          if ('serviceWorker' in n && 'SyncManager' in w) {
            var registerBGSync = function registerBGSync() {
              n.serviceWorker.ready.then(function (registration) {
                return registration.sync.register('nahieran-tv-program-episode').then(function () {
                  return c('Atzeko sinkronizazioa erregistratua');
                }).catch(function (err) {
                  return c('Errorea atzeko sinkronizazioa erregistratzean', err);
                });
              });
            };

            registerBGSync();
          }
        }
      });
      //Background Sync (episode)
      n.serviceWorker.addEventListener('message', function (e) {
        c('Atzeko sinkronizazioa message bidez: ', e.data);
        if (e.data === 'online nahieran-tv-program-episode') fetchEpisode(localStorage.getItem('tv-program-episode'), true);
      });
    } //readyState
  }, 100); //interval

  return '\n    <div class="loader-template loader-template-episode">\n      <div class="loader loader-episode"></div>\n    </div>\n\n    <div class="episode section u-hide">\n      <header class="section-header episode__header"></header>\n      <div class="episode__play">\n        <div id="dplayer"></div>\n      </div>\n      <div class="episode__nav"><a href="#" id="episode__back">< Atzera</a></div>\n    </div>\n    ';
};

},{"DPlayer":1}],8:[function(require,module,exports){
'use strict';

var _init = require('./components/init');

document.getElementById('app').innerHTML = (0, _init.init)();

//Aplikzioa web progresiboa erregistratu
(0, _init.pwa)();
//Online/ffline gauden zehaztu
(0, _init.isOnline)();

},{"./components/init":4}]},{},[8])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvRFBsYXllci9kaXN0L0RQbGF5ZXIubWluLmpzIiwic3JjL2pzL2NvbXBvbmVudHMvY2F0ZWdvcmllcy5qcyIsInNyYy9qcy9jb21wb25lbnRzL2NhdGVnb3JpZXNTaW5nbGUuanMiLCJzcmMvanMvY29tcG9uZW50cy9pbml0LmpzIiwic3JjL2pzL2NvbXBvbmVudHMvdHYuanMiLCJzcmMvanMvY29tcG9uZW50cy90dlByb2dyYW0uanMiLCJzcmMvanMvY29tcG9uZW50cy90dlByb2dyYW1FcGlzb2RlLmpzIiwic3JjL2pzL3NjcmlwdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7Ozs7Ozs7QUNEQSxJQUFNLElBQUksUUFBUSxHQUFsQjtBQUFBLElBQ0UsSUFBSSxRQUROO0FBQUEsSUFFRSxJQUFJLFNBRk47QUFBQSxJQUdFLElBQUksTUFITjs7QUFLTyxJQUFNLGtDQUFhLFNBQWIsVUFBYSxHQUFNOztBQUU5QixNQUFNLGFBQWEsWUFBWSxZQUFNOztBQUVuQyxRQUFLLEVBQUUsVUFBRixLQUFrQixVQUF2QixFQUFvQzs7QUF5QmxDO0FBekJrQyxVQTBCekIsa0JBMUJ5QixHQTBCbEMsU0FBUyxrQkFBVCxDQUE0QixJQUE1QixFQUFrQyxpQkFBbEMsRUFBcUQ7QUFDbkQ7QUFDQSxVQUFFLGdCQUFGLENBQW1CLFVBQW5CLEVBQStCLE9BQS9CLENBQXdDLG1CQUFXO0FBQ2pELGtCQUFRLFNBQVIsQ0FBa0IsR0FBbEIsQ0FBc0IsUUFBdEI7QUFDRCxTQUZEO0FBR0EsVUFBRSxhQUFGLENBQWdCLGFBQWhCLEVBQStCLFNBQS9CLENBQXlDLE1BQXpDLENBQWdELFFBQWhEO0FBQ0EsVUFBRSxhQUFGLENBQWdCLEtBQWhCLEVBQXVCLFNBQXZCLENBQWlDLE1BQWpDLENBQXdDLFFBQXhDOztBQUVBLGNBQU0sSUFBTixFQUNHLElBREgsQ0FD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RztBQUFBLHlCQUFPLEVBQUUsK0NBQUYsRUFBbUQsR0FBbkQsQ0FBUDtBQUFBLGlCQUZILENBQVA7QUFHRCxlQUxEO0FBTUQsYUFSK0M7O0FBU2hEO0FBQ0Q7QUFDRjtBQUNGLE9BdkJEO0FBd0JBO0FBQ0EsUUFBRSxhQUFGLENBQWdCLGdCQUFoQixDQUFpQyxTQUFqQyxFQUE0QyxhQUFLO0FBQy9DLFVBQUUsdUNBQUYsRUFBMkMsRUFBRSxJQUE3QztBQUNBLFlBQUksRUFBRSxJQUFGLEtBQVcsb0NBQWYsRUFDRSxhQUFhLGFBQWEsT0FBYixDQUFxQixvQkFBckIsQ0FBYixFQUF5RCxJQUF6RDtBQUNILE9BSkQ7QUFNRCxLQWxIa0MsQ0FrSGpDO0FBQ0gsR0FuSGtCLEVBbUhoQixHQW5IZ0IsQ0FBbkIsQ0FGaUMsQ0FxSHpCOztBQUVSO0FBYUQsQ0FwSU07Ozs7O0FDUFA7O0FBRUEsU0FBUyxjQUFULENBQXdCLEtBQXhCLEVBQStCLFNBQS9CLEdBQTJDLGlCQUEzQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcIkRQbGF5ZXJcIixbXSx0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLkRQbGF5ZXI9dCgpOmUuRFBsYXllcj10KCl9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGkpe2lmKG5baV0pcmV0dXJuIG5baV0uZXhwb3J0czt2YXIgYT1uW2ldPXtpOmksbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtpXS5jYWxsKGEuZXhwb3J0cyxhLGEuZXhwb3J0cyx0KSxhLmw9ITAsYS5leHBvcnRzfXZhciBuPXt9O3JldHVybiB0Lm09ZSx0LmM9bix0LmQ9ZnVuY3Rpb24oZSxuLGkpe3QubyhlLG4pfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6aX0pfSx0Lm49ZnVuY3Rpb24oZSl7dmFyIG49ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIHQuZChuLFwiYVwiLG4pLG59LHQubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sdC5wPVwiL1wiLHQodC5zPTEpfShbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPS9tb2JpbGUvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSxhPXtzZWNvbmRUb1RpbWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU8MTA/XCIwXCIrZTpcIlwiK2V9LG49cGFyc2VJbnQoZS82MCksaT1wYXJzZUludChlLTYwKm4pO3JldHVybiB0KG4pK1wiOlwiK3QoaSl9LGdldEVsZW1lbnRWaWV3TGVmdDpmdW5jdGlvbihlKXt2YXIgdD1lLm9mZnNldExlZnQsbj1lLm9mZnNldFBhcmVudCxpPWRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdDtpZihkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudHx8ZG9jdW1lbnQubW96RnVsbFNjcmVlbkVsZW1lbnR8fGRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50KWZvcig7bnVsbCE9PW4mJm4hPT1lOyl0Kz1uLm9mZnNldExlZnQsbj1uLm9mZnNldFBhcmVudDtlbHNlIGZvcig7bnVsbCE9PW47KXQrPW4ub2Zmc2V0TGVmdCxuPW4ub2Zmc2V0UGFyZW50O3JldHVybiB0LWl9LGdldFNjcm9sbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJue2xlZnQ6d2luZG93LnBhZ2VYT2Zmc2V0fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0fHwwLHRvcDp3aW5kb3cucGFnZVlPZmZzZXR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wfHwwfX0sc2V0U2Nyb2xsUG9zaXRpb246ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZWZ0LG49dm9pZCAwPT09dD8wOnQsaT1lLnRvcCxhPXZvaWQgMD09PWk/MDppO3RoaXMuaXNGaXJlZm94Pyhkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdD1uLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A9YSk6d2luZG93LnNjcm9sbFRvKG4sYSl9LGlzTW9iaWxlOmksaXNGaXJlZm94Oi9maXJlZm94L2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCksaXNDaHJvbWU6L2Nocm9tZS9pLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpLHN0b3JhZ2U6e3NldDpmdW5jdGlvbihlLHQpe2xvY2FsU3RvcmFnZS5zZXRJdGVtKGUsdCl9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZSl9fSxjdW11bGF0aXZlT2Zmc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PTAsbj0wO2Rve3QrPWUub2Zmc2V0VG9wfHwwLG4rPWUub2Zmc2V0TGVmdHx8MCxlPWUub2Zmc2V0UGFyZW50fXdoaWxlKGUpO3JldHVybnt0b3A6dCxsZWZ0Om59fSxuYW1lTWFwOntkcmFnU3RhcnQ6aT9cInRvdWNoc3RhcnRcIjpcIm1vdXNlZG93blwiLGRyYWdNb3ZlOmk/XCJ0b3VjaG1vdmVcIjpcIm1vdXNlbW92ZVwiLGRyYWdFbmQ6aT9cInRvdWNoZW5kXCI6XCJtb3VzZXVwXCJ9fTt0LmRlZmF1bHQ9YX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4oMik7dmFyIGk9bigzKSxhPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0oaSk7Y29uc29sZS5sb2coXCJcXG4gJWMgRFBsYXllciAxLjIxLjAgOGU2OWFkYSAlYyBodHRwOi8vZHBsYXllci5qcy5vcmcgXFxuXFxuXCIsXCJjb2xvcjogI2ZhZGZhMzsgYmFja2dyb3VuZDogIzAzMDMwNzsgcGFkZGluZzo1cHggMDtcIixcImJhY2tncm91bmQ6ICNmYWRmYTM7IHBhZGRpbmc6NXB4IDA7XCIpLHQuZGVmYXVsdD1hLmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCl7fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gYShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxzPW4oNCkscj1pKHMpLGw9bigwKSxjPWkobCksdT1uKDkpLGQ9aSh1KSxwPW4oMTIpLGg9aShwKSx5PW4oMTMpLG09aSh5KSxmPW4oMTQpLHY9aShmKSxnPW4oMTUpLGI9aShnKSxrPW4oMTYpLHc9aShrKSxTPW4oMTcpLFQ9aShTKSxMPW4oMTgpLHg9aShMKSxNPW4oMTkpLF89aShNKSxFPW4oMjApLHE9aShFKSxCPW4oMjEpLFA9aShCKSxPPW4oMjIpLGo9aShPKSxDPW4oMjMpLHo9aShDKSxGPW4oMjUpLEk9aShGKSxXPW4oMjYpLEQ9aShXKSxIPW4oMjcpLEE9aShIKSxSPW4oMjgpLFY9aShSKSxOPTAsWD1bXSxRPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgbj10aGlzO2EodGhpcyxlKSx0aGlzLm9wdGlvbnM9KDAsZC5kZWZhdWx0KSh0KSx0aGlzLm9wdGlvbnMudmlkZW8ucXVhbGl0eSYmKHRoaXMucXVhbGl0eUluZGV4PXRoaXMub3B0aW9ucy52aWRlby5kZWZhdWx0UXVhbGl0eSx0aGlzLnF1YWxpdHk9dGhpcy5vcHRpb25zLnZpZGVvLnF1YWxpdHlbdGhpcy5vcHRpb25zLnZpZGVvLmRlZmF1bHRRdWFsaXR5XSksdGhpcy50cmFuPW5ldyBoLmRlZmF1bHQodGhpcy5vcHRpb25zLmxhbmcpLnRyYW4sdGhpcy5pY29ucz1uZXcgdi5kZWZhdWx0KHRoaXMub3B0aW9ucyksdGhpcy5ldmVudHM9bmV3IHcuZGVmYXVsdCx0aGlzLnVzZXI9bmV3IHguZGVmYXVsdCh0aGlzKSx0aGlzLmNvbnRhaW5lcj10aGlzLm9wdGlvbnMuY29udGFpbmVyLHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyXCIpLHRoaXMub3B0aW9ucy5kYW5tYWt1fHx0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1uby1kYW5tYWt1XCIpLHRoaXMub3B0aW9ucy5saXZlJiZ0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1saXZlXCIpLGMuZGVmYXVsdC5pc01vYmlsZSYmdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItbW9iaWxlXCIpLHRoaXMuYXJyb3c9dGhpcy5jb250YWluZXIub2Zmc2V0V2lkdGg8PTUwMCx0aGlzLmFycm93JiZ0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1hcnJvd1wiKSx0aGlzLnRlbXBsYXRlPW5ldyBtLmRlZmF1bHQoe2NvbnRhaW5lcjp0aGlzLmNvbnRhaW5lcixvcHRpb25zOnRoaXMub3B0aW9ucyxpbmRleDpOLHRyYW46dGhpcy50cmFuLGljb25zOnRoaXMuaWNvbnN9KSx0aGlzLnZpZGVvPXRoaXMudGVtcGxhdGUudmlkZW8sdGhpcy5iYXI9bmV3IHEuZGVmYXVsdCh0aGlzLnRlbXBsYXRlKSx0aGlzLmJlemVsPW5ldyBqLmRlZmF1bHQodGhpcy50ZW1wbGF0ZS5iZXplbCksdGhpcy5mdWxsU2NyZWVuPW5ldyBULmRlZmF1bHQodGhpcyksdGhpcy5jb250cm9sbGVyPW5ldyB6LmRlZmF1bHQodGhpcyksdGhpcy5vcHRpb25zLmRhbm1ha3UmJih0aGlzLmRhbm1ha3U9bmV3IGIuZGVmYXVsdCh7Y29udGFpbmVyOnRoaXMudGVtcGxhdGUuZGFubWFrdSxvcGFjaXR5OnRoaXMudXNlci5nZXQoXCJvcGFjaXR5XCIpLGNhbGxiYWNrOmZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe24udGVtcGxhdGUuZGFubWFrdUxvYWRpbmcuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixuLm9wdGlvbnMuYXV0b3BsYXk/bi5wbGF5KCk6Yy5kZWZhdWx0LmlzTW9iaWxlJiZuLnBhdXNlKCl9LDApfSxlcnJvcjpmdW5jdGlvbihlKXtuLm5vdGljZShlKX0sYXBpQmFja2VuZDp0aGlzLm9wdGlvbnMuYXBpQmFja2VuZCxib3JkZXJDb2xvcjp0aGlzLm9wdGlvbnMudGhlbWUsaGVpZ2h0OnRoaXMuYXJyb3c/MjQ6MzAsdGltZTpmdW5jdGlvbigpe3JldHVybiBuLnZpZGVvLmN1cnJlbnRUaW1lfSx1bmxpbWl0ZWQ6dGhpcy51c2VyLmdldChcInVubGltaXRlZFwiKSxhcGk6e2lkOnRoaXMub3B0aW9ucy5kYW5tYWt1LmlkLGFkZHJlc3M6dGhpcy5vcHRpb25zLmRhbm1ha3UuYXBpLHRva2VuOnRoaXMub3B0aW9ucy5kYW5tYWt1LnRva2VuLG1heGltdW06dGhpcy5vcHRpb25zLmRhbm1ha3UubWF4aW11bSxhZGRpdGlvbjp0aGlzLm9wdGlvbnMuZGFubWFrdS5hZGRpdGlvbix1c2VyOnRoaXMub3B0aW9ucy5kYW5tYWt1LnVzZXJ9LGV2ZW50czp0aGlzLmV2ZW50c30pLHRoaXMuY29tbWVudD1uZXcgRC5kZWZhdWx0KHRoaXMpKSx0aGlzLnNldHRpbmc9bmV3IEkuZGVmYXVsdCh0aGlzKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe24uZm9jdXM9ITF9LCEwKSx0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe24uZm9jdXM9ITB9LCEwKSx0aGlzLnBhdXNlZD0hMCx0aGlzLnRpbWU9bmV3IFAuZGVmYXVsdCh0aGlzKSx0aGlzLmhvdGtleT1uZXcgQS5kZWZhdWx0KHRoaXMpLHRoaXMuY29udGV4dG1lbnU9bmV3IFYuZGVmYXVsdCh0aGlzKSx0aGlzLmluaXRWaWRlbyh0aGlzLnZpZGVvLHRoaXMucXVhbGl0eSYmdGhpcy5xdWFsaXR5LnR5cGV8fHRoaXMub3B0aW9ucy52aWRlby50eXBlKSwhdGhpcy5kYW5tYWt1JiZ0aGlzLm9wdGlvbnMuYXV0b3BsYXkmJnRoaXMucGxheSgpLE4rKyxYLnB1c2godGhpcyl9cmV0dXJuIG8oZSxbe2tleTpcInNlZWtcIix2YWx1ZTpmdW5jdGlvbihlKXtlPU1hdGgubWF4KGUsMCksdGhpcy52aWRlby5kdXJhdGlvbiYmKGU9TWF0aC5taW4oZSx0aGlzLnZpZGVvLmR1cmF0aW9uKSksdGhpcy52aWRlby5jdXJyZW50VGltZTxlP3RoaXMubm90aWNlKHRoaXMudHJhbihcIkZGXCIpK1wiIFwiKyhlLXRoaXMudmlkZW8uY3VycmVudFRpbWUpLnRvRml4ZWQoMCkrXCIgXCIrdGhpcy50cmFuKFwic1wiKSk6dGhpcy52aWRlby5jdXJyZW50VGltZT5lJiZ0aGlzLm5vdGljZSh0aGlzLnRyYW4oXCJSRVdcIikrXCIgXCIrKHRoaXMudmlkZW8uY3VycmVudFRpbWUtZSkudG9GaXhlZCgwKStcIiBcIit0aGlzLnRyYW4oXCJzXCIpKSx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWUsdGhpcy5kYW5tYWt1JiZ0aGlzLmRhbm1ha3Uuc2VlaygpLHRoaXMuYmFyLnNldChcInBsYXllZFwiLGUvdGhpcy52aWRlby5kdXJhdGlvbixcIndpZHRoXCIpfX0se2tleTpcInBsYXlcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy5wYXVzZWQ9ITEsdGhpcy52aWRlby5wYXVzZWQmJnRoaXMuYmV6ZWwuc3dpdGNoKHRoaXMuaWNvbnMuZ2V0KFwicGxheVwiKSksdGhpcy50ZW1wbGF0ZS5wbGF5QnV0dG9uLmlubmVySFRNTD10aGlzLmljb25zLmdldChcInBhdXNlXCIpLHIuZGVmYXVsdC5yZXNvbHZlKHRoaXMudmlkZW8ucGxheSgpKS5jYXRjaChmdW5jdGlvbigpe2UucGF1c2UoKX0pLnRoZW4oZnVuY3Rpb24oKXt9KSx0aGlzLnRpbWUuZW5hYmxlKCksdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItcGxheWluZ1wiKSx0aGlzLmRhbm1ha3UmJnRoaXMuZGFubWFrdS5wbGF5KCksdGhpcy5vcHRpb25zLm11dGV4KWZvcih2YXIgdD0wO3Q8WC5sZW5ndGg7dCsrKXRoaXMhPT1YW3RdJiZYW3RdLnBhdXNlKCl9fSx7a2V5OlwicGF1c2VcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGF1c2VkPSEwLHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJkcGxheWVyLWxvYWRpbmdcIiksdGhpcy52aWRlby5wYXVzZWR8fHRoaXMuYmV6ZWwuc3dpdGNoKHRoaXMuaWNvbnMuZ2V0KFwicGF1c2VcIikpLHRoaXMuZW5kZWQ9ITEsdGhpcy50ZW1wbGF0ZS5wbGF5QnV0dG9uLmlubmVySFRNTD10aGlzLmljb25zLmdldChcInBsYXlcIiksdGhpcy52aWRlby5wYXVzZSgpLHRoaXMudGltZS5kaXNhYmxlKCksdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcImRwbGF5ZXItcGxheWluZ1wiKSx0aGlzLmRhbm1ha3UmJnRoaXMuZGFubWFrdS5wYXVzZSgpfX0se2tleTpcInN3aXRjaFZvbHVtZUljb25cIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudm9sdW1lKCk+PS45NT90aGlzLnRlbXBsYXRlLnZvbHVtZUljb24uaW5uZXJIVE1MPXRoaXMuaWNvbnMuZ2V0KFwidm9sdW1lLXVwXCIpOnRoaXMudm9sdW1lKCk+MD90aGlzLnRlbXBsYXRlLnZvbHVtZUljb24uaW5uZXJIVE1MPXRoaXMuaWNvbnMuZ2V0KFwidm9sdW1lLWRvd25cIik6dGhpcy50ZW1wbGF0ZS52b2x1bWVJY29uLmlubmVySFRNTD10aGlzLmljb25zLmdldChcInZvbHVtZS1vZmZcIil9fSx7a2V5Olwidm9sdW1lXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe2lmKGU9cGFyc2VGbG9hdChlKSwhaXNOYU4oZSkpe2U9TWF0aC5tYXgoZSwwKSxlPU1hdGgubWluKGUsMSksdGhpcy5iYXIuc2V0KFwidm9sdW1lXCIsZSxcIndpZHRoXCIpO3ZhciBpPSgxMDAqZSkudG9GaXhlZCgwKStcIiVcIjt0aGlzLnRlbXBsYXRlLnZvbHVtZUJhcldyYXBXcmFwLmRhdGFzZXQuYmFsbG9vbj1pLHR8fHRoaXMudXNlci5zZXQoXCJ2b2x1bWVcIixlKSxufHx0aGlzLm5vdGljZSh0aGlzLnRyYW4oXCJWb2x1bWVcIikrXCIgXCIrKDEwMCplKS50b0ZpeGVkKDApK1wiJVwiKSx0aGlzLnZpZGVvLnZvbHVtZT1lLHRoaXMudmlkZW8ubXV0ZWQmJih0aGlzLnZpZGVvLm11dGVkPSExKSx0aGlzLnN3aXRjaFZvbHVtZUljb24oKX1yZXR1cm4gdGhpcy52aWRlby52b2x1bWV9fSx7a2V5OlwidG9nZ2xlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnZpZGVvLnBhdXNlZD90aGlzLnBsYXkoKTp0aGlzLnBhdXNlKCl9fSx7a2V5Olwib25cIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuZXZlbnRzLm9uKGUsdCl9fSx7a2V5Olwic3dpdGNoVmlkZW9cIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMucGF1c2UoKSx0aGlzLnZpZGVvLnBvc3Rlcj1lLnBpYz9lLnBpYzpcIlwiLHRoaXMudmlkZW8uc3JjPWUudXJsLHRoaXMuaW5pdE1TRSh0aGlzLnZpZGVvLGUudHlwZXx8XCJhdXRvXCIpLHQmJih0aGlzLnRlbXBsYXRlLmRhbm1ha3VMb2FkaW5nLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHRoaXMuYmFyLnNldChcInBsYXllZFwiLDAsXCJ3aWR0aFwiKSx0aGlzLmJhci5zZXQoXCJsb2FkZWRcIiwwLFwid2lkdGhcIiksdGhpcy50ZW1wbGF0ZS5wdGltZS5pbm5lckhUTUw9XCIwMDowMFwiLHRoaXMudGVtcGxhdGUuZGFubWFrdS5pbm5lckhUTUw9XCJcIix0aGlzLmRhbm1ha3UmJnRoaXMuZGFubWFrdS5yZWxvYWQoe2lkOnQuaWQsYWRkcmVzczp0LmFwaSx0b2tlbjp0LnRva2VuLG1heGltdW06dC5tYXhpbXVtLGFkZGl0aW9uOnQuYWRkaXRpb24sdXNlcjp0LnVzZXJ9KSl9fSx7a2V5OlwiaW5pdE1TRVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztpZih0aGlzLnR5cGU9dCx0aGlzLm9wdGlvbnMudmlkZW8uY3VzdG9tVHlwZSYmdGhpcy5vcHRpb25zLnZpZGVvLmN1c3RvbVR5cGVbdF0pXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRoaXMub3B0aW9ucy52aWRlby5jdXN0b21UeXBlW3RdKT90aGlzLm9wdGlvbnMudmlkZW8uY3VzdG9tVHlwZVt0XSh0aGlzLnZpZGVvLHRoaXMpOmNvbnNvbGUuZXJyb3IoXCJJbGxlZ2FsIGN1c3RvbVR5cGU6IFwiK3QpO2Vsc2Ugc3dpdGNoKFwiYXV0b1wiPT09dGhpcy50eXBlJiYoL20zdTgoI3xcXD98JCkvaS5leGVjKGUuc3JjKT90aGlzLnR5cGU9XCJobHNcIjovLmZsdigjfFxcP3wkKS9pLmV4ZWMoZS5zcmMpP3RoaXMudHlwZT1cImZsdlwiOi8ubXBkKCN8XFw/fCQpL2kuZXhlYyhlLnNyYyk/dGhpcy50eXBlPVwiZGFzaFwiOnRoaXMudHlwZT1cIm5vcm1hbFwiKSx0aGlzLnR5cGUpe2Nhc2VcImhsc1wiOmlmKEhscylpZihIbHMuaXNTdXBwb3J0ZWQoKSl7dmFyIGk9bmV3IEhscztpLmxvYWRTb3VyY2UoZS5zcmMpLGkuYXR0YWNoTWVkaWEoZSl9ZWxzZSB0aGlzLm5vdGljZShcIkVycm9yOiBIbHMgaXMgbm90IHN1cHBvcnRlZC5cIik7ZWxzZSB0aGlzLm5vdGljZShcIkVycm9yOiBDYW4ndCBmaW5kIEhscy5cIik7YnJlYWs7Y2FzZVwiZmx2XCI6aWYoZmx2anMmJmZsdmpzLmlzU3VwcG9ydGVkKCkpaWYoZmx2anMuaXNTdXBwb3J0ZWQoKSl7dmFyIGE9Zmx2anMuY3JlYXRlUGxheWVyKHt0eXBlOlwiZmx2XCIsdXJsOmUuc3JjfSk7YS5hdHRhY2hNZWRpYUVsZW1lbnQoZSksYS5sb2FkKCl9ZWxzZSB0aGlzLm5vdGljZShcIkVycm9yOiBmbHZqcyBpcyBub3Qgc3VwcG9ydGVkLlwiKTtlbHNlIHRoaXMubm90aWNlKFwiRXJyb3I6IENhbid0IGZpbmQgZmx2anMuXCIpO2JyZWFrO2Nhc2VcImRhc2hcIjpkYXNoanM/ZGFzaGpzLk1lZGlhUGxheWVyKCkuY3JlYXRlKCkuaW5pdGlhbGl6ZShlLGUuc3JjLCExKTp0aGlzLm5vdGljZShcIkVycm9yOiBDYW4ndCBmaW5kIGRhc2hqcy5cIik7YnJlYWs7Y2FzZVwid2VidG9ycmVudFwiOmlmKFdlYlRvcnJlbnQpaWYoV2ViVG9ycmVudC5XRUJSVENfU1VQUE9SVCl7dGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItbG9hZGluZ1wiKTt2YXIgbz1uZXcgV2ViVG9ycmVudCxzPWUuc3JjO28uYWRkKHMsZnVuY3Rpb24oZSl7ZS5maWxlcy5maW5kKGZ1bmN0aW9uKGUpe3JldHVybiBlLm5hbWUuZW5kc1dpdGgoXCIubXA0XCIpfSkucmVuZGVyVG8obi52aWRlbyx7YXV0b3BsYXk6bi5vcHRpb25zLmF1dG9wbGF5fSxmdW5jdGlvbigpe24uY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJkcGxheWVyLWxvYWRpbmdcIil9KX0pfWVsc2UgdGhpcy5ub3RpY2UoXCJFcnJvcjogV2VidG9ycmVudCBpcyBub3Qgc3VwcG9ydGVkLlwiKTtlbHNlIHRoaXMubm90aWNlKFwiRXJyb3I6IENhbid0IGZpbmQgV2VidG9ycmVudC5cIil9fX0se2tleTpcImluaXRWaWRlb1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpczt0aGlzLmluaXRNU0UoZSx0KSx0aGlzLm9uKFwiZHVyYXRpb25jaGFuZ2VcIixmdW5jdGlvbigpezEhPT1lLmR1cmF0aW9uJiYobi50ZW1wbGF0ZS5kdGltZS5pbm5lckhUTUw9Yy5kZWZhdWx0LnNlY29uZFRvVGltZShlLmR1cmF0aW9uKSl9KSx0aGlzLm9uKFwicHJvZ3Jlc3NcIixmdW5jdGlvbigpe3ZhciB0PWUuYnVmZmVyZWQubGVuZ3RoP2UuYnVmZmVyZWQuZW5kKGUuYnVmZmVyZWQubGVuZ3RoLTEpL2UuZHVyYXRpb246MDtuLmJhci5zZXQoXCJsb2FkZWRcIix0LFwid2lkdGhcIil9KSx0aGlzLm9uKFwiZXJyb3JcIixmdW5jdGlvbigpe24udHJhbiYmbi5ub3RpY2UmJihuLnR5cGUsbi5ub3RpY2Uobi50cmFuKFwiVGhpcyB2aWRlbyBmYWlscyB0byBsb2FkXCIpLC0xKSl9KSx0aGlzLmVuZGVkPSExLHRoaXMub24oXCJlbmRlZFwiLGZ1bmN0aW9uKCl7bi5iYXIuc2V0KFwicGxheWVkXCIsMSxcIndpZHRoXCIpLG4uc2V0dGluZy5sb29wPyhuLnNlZWsoMCksZS5wbGF5KCkpOihuLmVuZGVkPSEwLG4ucGF1c2UoKSksbi5kYW5tYWt1JiYobi5kYW5tYWt1LmRhbkluZGV4PTApfSksdGhpcy5vbihcInBsYXlcIixmdW5jdGlvbigpe24ucGF1c2VkJiZuLnBsYXkoKX0pLHRoaXMub24oXCJwYXVzZVwiLGZ1bmN0aW9uKCl7bi5wYXVzZWR8fG4ucGF1c2UoKX0pO2Zvcih2YXIgaT0wO2k8dGhpcy5ldmVudHMudmlkZW9FdmVudHMubGVuZ3RoO2krKykhZnVuY3Rpb24odCl7ZS5hZGRFdmVudExpc3RlbmVyKG4uZXZlbnRzLnZpZGVvRXZlbnRzW3RdLGZ1bmN0aW9uKCl7bi5ldmVudHMudHJpZ2dlcihuLmV2ZW50cy52aWRlb0V2ZW50c1t0XSl9KX0oaSk7dGhpcy52b2x1bWUodGhpcy51c2VyLmdldChcInZvbHVtZVwiKSwhMCwhMCksdGhpcy5vcHRpb25zLnN1YnRpdGxlJiYodGhpcy5zdWJ0aXRsZT1uZXcgXy5kZWZhdWx0KHRoaXMudGVtcGxhdGUuc3VidGl0bGUsdGhpcy52aWRlbyx0aGlzLm9wdGlvbnMuc3VidGl0bGUsdGhpcy5ldmVudHMpLHRoaXMudXNlci5nZXQoXCJzdWJ0aXRsZVwiKXx8dGhpcy5zdWJ0aXRsZS5oaWRlKCkpfX0se2tleTpcInN3aXRjaFF1YWxpdHlcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMucXVhbGl0eUluZGV4IT09ZSYmIXRoaXMuc3dpdGNoaW5nUXVhbGl0eSl7dGhpcy5xdWFsaXR5SW5kZXg9ZSx0aGlzLnN3aXRjaGluZ1F1YWxpdHk9ITAsdGhpcy5xdWFsaXR5PXRoaXMub3B0aW9ucy52aWRlby5xdWFsaXR5W2VdLHRoaXMudGVtcGxhdGUucXVhbGl0eUJ1dHRvbi5pbm5lckhUTUw9dGhpcy5xdWFsaXR5Lm5hbWU7dmFyIG49dGhpcy52aWRlby5wYXVzZWQ7dGhpcy52aWRlby5wYXVzZSgpO3ZhciBpPXRoaXMudGVtcGxhdGUudHBsVmlkZW8oITEsbnVsbCx0aGlzLm9wdGlvbnMuc2NyZWVuc2hvdCxcImF1dG9cIix0aGlzLnF1YWxpdHkudXJsLHRoaXMub3B0aW9ucy5zdWJ0aXRsZSksYT0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGksXCJ0ZXh0L2h0bWxcIikuYm9keS5maXJzdENoaWxkO3RoaXMudGVtcGxhdGUudmlkZW9XcmFwLmluc2VydEJlZm9yZShhLHRoaXMudGVtcGxhdGUudmlkZW9XcmFwLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZGl2XCIpWzBdKSx0aGlzLnByZXZWaWRlbz10aGlzLnZpZGVvLHRoaXMudmlkZW89YSx0aGlzLmluaXRWaWRlbyh0aGlzLnZpZGVvLHRoaXMucXVhbGl0eS50eXBlfHx0aGlzLm9wdGlvbnMudmlkZW8udHlwZSksdGhpcy5zZWVrKHRoaXMucHJldlZpZGVvLmN1cnJlbnRUaW1lKSx0aGlzLm5vdGljZSh0aGlzLnRyYW4oXCJTd2l0Y2hpbmcgdG9cIikrXCIgXCIrdGhpcy5xdWFsaXR5Lm5hbWUrXCIgXCIrdGhpcy50cmFuKFwicXVhbGl0eVwiKSwtMSksdGhpcy5ldmVudHMudHJpZ2dlcihcInF1YWxpdHlfc3RhcnRcIix0aGlzLnF1YWxpdHkpLHRoaXMub24oXCJjYW5wbGF5XCIsZnVuY3Rpb24oKXtpZih0LnByZXZWaWRlbyl7aWYodC52aWRlby5jdXJyZW50VGltZSE9PXQucHJldlZpZGVvLmN1cnJlbnRUaW1lKXJldHVybiB2b2lkIHQuc2Vlayh0LnByZXZWaWRlby5jdXJyZW50VGltZSk7dC50ZW1wbGF0ZS52aWRlb1dyYXAucmVtb3ZlQ2hpbGQodC5wcmV2VmlkZW8pLHQudmlkZW8uY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItdmlkZW8tY3VycmVudFwiKSxufHx0LnZpZGVvLnBsYXkoKSx0LnByZXZWaWRlbz1udWxsLHQubm90aWNlKHQudHJhbihcIlN3aXRjaGVkIHRvXCIpK1wiIFwiK3QucXVhbGl0eS5uYW1lK1wiIFwiK3QudHJhbihcInF1YWxpdHlcIikpLHQuc3dpdGNoaW5nUXVhbGl0eT0hMSx0LmV2ZW50cy50cmlnZ2VyKFwicXVhbGl0eV9lbmRcIil9fSl9fX0se2tleTpcIm5vdGljZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MmUzLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOi44O3RoaXMudGVtcGxhdGUubm90aWNlLmlubmVySFRNTD1lLHRoaXMudGVtcGxhdGUubm90aWNlLnN0eWxlLm9wYWNpdHk9aSx0aGlzLm5vdGljZVRpbWUmJmNsZWFyVGltZW91dCh0aGlzLm5vdGljZVRpbWUpLHRoaXMuZXZlbnRzLnRyaWdnZXIoXCJub3RpY2Vfc2hvd1wiLGUpLHRoaXMubm90aWNlVGltZT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC50ZW1wbGF0ZS5ub3RpY2Uuc3R5bGUub3BhY2l0eT0wLHQuZXZlbnRzLnRyaWdnZXIoXCJub3RpY2VfaGlkZVwiKX0sbil9fSx7a2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmRhbm1ha3UmJnRoaXMuZGFubWFrdS5yZXNpemUoKSx0aGlzLmV2ZW50cy50cmlnZ2VyKFwicmVzaXplXCIpfX0se2tleTpcInNwZWVkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy52aWRlby5wbGF5YmFja1JhdGU9ZX19LHtrZXk6XCJkZXN0cm95XCIsdmFsdWU6ZnVuY3Rpb24oKXtYLnNwbGljZShYLmluZGV4T2YodGhpcyksMSksdGhpcy5wYXVzZSgpLHRoaXMuY29udHJvbGxlci5kZXN0cm95KCksdGhpcy50aW1lLmRlc3Ryb3koKSx0aGlzLnZpZGVvLnNyYz1cIlwiLHRoaXMuY29udGFpbmVyLmlubmVySFRNTD1cIlwiLHRoaXMuZXZlbnRzLnRyaWdnZXIoXCJkZXN0cm95XCIpO2Zvcih2YXIgZSBpbiB0aGlzKXRoaXMuaGFzT3duUHJvcGVydHkoZSkmJlwicGF1c2VkXCIhPT1lJiZkZWxldGUgdGhpc1tlXX19XSksZX0oKTt0LmRlZmF1bHQ9UX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXtmdW5jdGlvbiBuKCl7fWZ1bmN0aW9uIGkoZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtlLmFwcGx5KHQsYXJndW1lbnRzKX19ZnVuY3Rpb24gYShlLHQpe2Zvcig7Mz09PWUuX3N0YXRlOyllPWUuX3ZhbHVlO2lmKDA9PT1lLl9zdGF0ZSlyZXR1cm4gdm9pZCBlLl9kZWZlcnJlZHMucHVzaCh0KTtlLl9oYW5kbGVkPSEwLHUuX2ltbWVkaWF0ZUZuKGZ1bmN0aW9uKCl7dmFyIG49MT09PWUuX3N0YXRlP3Qub25GdWxmaWxsZWQ6dC5vblJlamVjdGVkO2lmKG51bGw9PT1uKXJldHVybiB2b2lkKDE9PT1lLl9zdGF0ZT9vOnMpKHQucHJvbWlzZSxlLl92YWx1ZSk7dmFyIGk7dHJ5e2k9bihlLl92YWx1ZSl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgcyh0LnByb21pc2UsZSl9byh0LnByb21pc2UsaSl9KX1mdW5jdGlvbiBvKGUsdCl7dHJ5e2lmKHQ9PT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBIHByb21pc2UgY2Fubm90IGJlIHJlc29sdmVkIHdpdGggaXRzZWxmLlwiKTtpZih0JiYoXCJvYmplY3RcIj09PSh2b2lkIDA9PT10P1widW5kZWZpbmVkXCI6ZCh0KSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpKXt2YXIgbj10LnRoZW47aWYodCBpbnN0YW5jZW9mIHUpcmV0dXJuIGUuX3N0YXRlPTMsZS5fdmFsdWU9dCx2b2lkIHIoZSk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgbilyZXR1cm4gdm9pZCBjKGkobix0KSxlKX1lLl9zdGF0ZT0xLGUuX3ZhbHVlPXQscihlKX1jYXRjaCh0KXtzKGUsdCl9fWZ1bmN0aW9uIHMoZSx0KXtlLl9zdGF0ZT0yLGUuX3ZhbHVlPXQscihlKX1mdW5jdGlvbiByKGUpezI9PT1lLl9zdGF0ZSYmMD09PWUuX2RlZmVycmVkcy5sZW5ndGgmJnUuX2ltbWVkaWF0ZUZuKGZ1bmN0aW9uKCl7ZS5faGFuZGxlZHx8dS5fdW5oYW5kbGVkUmVqZWN0aW9uRm4oZS5fdmFsdWUpfSk7Zm9yKHZhciB0PTAsbj1lLl9kZWZlcnJlZHMubGVuZ3RoO3Q8bjt0KyspYShlLGUuX2RlZmVycmVkc1t0XSk7ZS5fZGVmZXJyZWRzPW51bGx9ZnVuY3Rpb24gbChlLHQsbil7dGhpcy5vbkZ1bGZpbGxlZD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2U6bnVsbCx0aGlzLm9uUmVqZWN0ZWQ9XCJmdW5jdGlvblwiPT10eXBlb2YgdD90Om51bGwsdGhpcy5wcm9taXNlPW59ZnVuY3Rpb24gYyhlLHQpe3ZhciBuPSExO3RyeXtlKGZ1bmN0aW9uKGUpe258fChuPSEwLG8odCxlKSl9LGZ1bmN0aW9uKGUpe258fChuPSEwLHModCxlKSl9KX1jYXRjaChlKXtpZihuKXJldHVybjtuPSEwLHModCxlKX19ZnVuY3Rpb24gdShlKXtpZighKHRoaXMgaW5zdGFuY2VvZiB1KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJvbWlzZXMgbXVzdCBiZSBjb25zdHJ1Y3RlZCB2aWEgbmV3XCIpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm5vdCBhIGZ1bmN0aW9uXCIpO3RoaXMuX3N0YXRlPTAsdGhpcy5faGFuZGxlZD0hMSx0aGlzLl92YWx1ZT12b2lkIDAsdGhpcy5fZGVmZXJyZWRzPVtdLGMoZSx0aGlzKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgZD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxwPXNldFRpbWVvdXQsaD11LnByb3RvdHlwZTtoLmNhdGNoPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4obnVsbCxlKX0saC50aGVuPWZ1bmN0aW9uKGUsdCl7dmFyIGk9bmV3IHRoaXMuY29uc3RydWN0b3Iobik7cmV0dXJuIGEodGhpcyxuZXcgbChlLHQsaSkpLGl9LHUuYWxsPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdShmdW5jdGlvbih0LG4pe2Z1bmN0aW9uIGkoZSxzKXt0cnl7aWYocyYmKFwib2JqZWN0XCI9PT0odm9pZCAwPT09cz9cInVuZGVmaW5lZFwiOmQocykpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBzKSl7dmFyIHI9cy50aGVuO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHIpcmV0dXJuIHZvaWQgci5jYWxsKHMsZnVuY3Rpb24odCl7aShlLHQpfSxuKX1hW2VdPXMsMD09LS1vJiZ0KGEpfWNhdGNoKGUpe24oZSl9fWlmKCFlfHx2b2lkIDA9PT1lLmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJvbWlzZS5hbGwgYWNjZXB0cyBhbiBhcnJheVwiKTt2YXIgYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKTtpZigwPT09YS5sZW5ndGgpcmV0dXJuIHQoW10pO2Zvcih2YXIgbz1hLmxlbmd0aCxzPTA7czxhLmxlbmd0aDtzKyspaShzLGFbc10pfSl9LHUucmVzb2x2ZT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJvYmplY3RcIj09PSh2b2lkIDA9PT1lP1widW5kZWZpbmVkXCI6ZChlKSkmJmUuY29uc3RydWN0b3I9PT11P2U6bmV3IHUoZnVuY3Rpb24odCl7dChlKX0pfSx1LnJlamVjdD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHUoZnVuY3Rpb24odCxuKXtuKGUpfSl9LHUucmFjZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHUoZnVuY3Rpb24odCxuKXtmb3IodmFyIGk9MCxhPWUubGVuZ3RoO2k8YTtpKyspZVtpXS50aGVuKHQsbil9KX0sdS5faW1tZWRpYXRlRm49XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZnVuY3Rpb24odCl7ZSh0KX18fGZ1bmN0aW9uKGUpe3AoZSwwKX0sdS5fdW5oYW5kbGVkUmVqZWN0aW9uRm49ZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUmJmNvbnNvbGUud2FybihcIlBvc3NpYmxlIFVuaGFuZGxlZCBQcm9taXNlIFJlamVjdGlvbjpcIixlKX0sdC5kZWZhdWx0PXV9KS5jYWxsKHQsbig1KS5zZXRJbW1lZGlhdGUpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQpe3RoaXMuX2lkPWUsdGhpcy5fY2xlYXJGbj10fXZhciBhPUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTt0LnNldFRpbWVvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoYS5jYWxsKHNldFRpbWVvdXQsd2luZG93LGFyZ3VtZW50cyksY2xlYXJUaW1lb3V0KX0sdC5zZXRJbnRlcnZhbD1mdW5jdGlvbigpe3JldHVybiBuZXcgaShhLmNhbGwoc2V0SW50ZXJ2YWwsd2luZG93LGFyZ3VtZW50cyksY2xlYXJJbnRlcnZhbCl9LHQuY2xlYXJUaW1lb3V0PXQuY2xlYXJJbnRlcnZhbD1mdW5jdGlvbihlKXtlJiZlLmNsb3NlKCl9LGkucHJvdG90eXBlLnVucmVmPWkucHJvdG90eXBlLnJlZj1mdW5jdGlvbigpe30saS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LHRoaXMuX2lkKX0sdC5lbnJvbGw9ZnVuY3Rpb24oZSx0KXtjbGVhclRpbWVvdXQoZS5faWRsZVRpbWVvdXRJZCksZS5faWRsZVRpbWVvdXQ9dH0sdC51bmVucm9sbD1mdW5jdGlvbihlKXtjbGVhclRpbWVvdXQoZS5faWRsZVRpbWVvdXRJZCksZS5faWRsZVRpbWVvdXQ9LTF9LHQuX3VucmVmQWN0aXZlPXQuYWN0aXZlPWZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChlLl9pZGxlVGltZW91dElkKTt2YXIgdD1lLl9pZGxlVGltZW91dDt0Pj0wJiYoZS5faWRsZVRpbWVvdXRJZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5fb25UaW1lb3V0JiZlLl9vblRpbWVvdXQoKX0sdCkpfSxuKDYpLHQuc2V0SW1tZWRpYXRlPXNldEltbWVkaWF0ZSx0LmNsZWFySW1tZWRpYXRlPWNsZWFySW1tZWRpYXRlfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUsdCl7IWZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gaShlKXtcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiYoZT1uZXcgRnVuY3Rpb24oXCJcIitlKSk7Zm9yKHZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpLG49MDtuPHQubGVuZ3RoO24rKyl0W25dPWFyZ3VtZW50c1tuKzFdO3ZhciBpPXtjYWxsYmFjazplLGFyZ3M6dH07cmV0dXJuIGNbbF09aSxyKGwpLGwrK31mdW5jdGlvbiBhKGUpe2RlbGV0ZSBjW2VdfWZ1bmN0aW9uIG8oZSl7dmFyIHQ9ZS5jYWxsYmFjayxpPWUuYXJncztzd2l0Y2goaS5sZW5ndGgpe2Nhc2UgMDp0KCk7YnJlYWs7Y2FzZSAxOnQoaVswXSk7YnJlYWs7Y2FzZSAyOnQoaVswXSxpWzFdKTticmVhaztjYXNlIDM6dChpWzBdLGlbMV0saVsyXSk7YnJlYWs7ZGVmYXVsdDp0LmFwcGx5KG4saSl9fWZ1bmN0aW9uIHMoZSl7aWYodSlzZXRUaW1lb3V0KHMsMCxlKTtlbHNle3ZhciB0PWNbZV07aWYodCl7dT0hMDt0cnl7byh0KX1maW5hbGx5e2EoZSksdT0hMX19fX1pZighZS5zZXRJbW1lZGlhdGUpe3ZhciByLGw9MSxjPXt9LHU9ITEsZD1lLmRvY3VtZW50LHA9T2JqZWN0LmdldFByb3RvdHlwZU9mJiZPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7cD1wJiZwLnNldFRpbWVvdXQ/cDplLFwiW29iamVjdCBwcm9jZXNzXVwiPT09e30udG9TdHJpbmcuY2FsbChlLnByb2Nlc3MpP2Z1bmN0aW9uKCl7cj1mdW5jdGlvbihlKXt0Lm5leHRUaWNrKGZ1bmN0aW9uKCl7cyhlKX0pfX0oKTpmdW5jdGlvbigpe2lmKGUucG9zdE1lc3NhZ2UmJiFlLmltcG9ydFNjcmlwdHMpe3ZhciB0PSEwLG49ZS5vbm1lc3NhZ2U7cmV0dXJuIGUub25tZXNzYWdlPWZ1bmN0aW9uKCl7dD0hMX0sZS5wb3N0TWVzc2FnZShcIlwiLFwiKlwiKSxlLm9ubWVzc2FnZT1uLHR9fSgpP2Z1bmN0aW9uKCl7dmFyIHQ9XCJzZXRJbW1lZGlhdGUkXCIrTWF0aC5yYW5kb20oKStcIiRcIixuPWZ1bmN0aW9uKG4pe24uc291cmNlPT09ZSYmXCJzdHJpbmdcIj09dHlwZW9mIG4uZGF0YSYmMD09PW4uZGF0YS5pbmRleE9mKHQpJiZzKCtuLmRhdGEuc2xpY2UodC5sZW5ndGgpKX07ZS5hZGRFdmVudExpc3RlbmVyP2UuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixuLCExKTplLmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIsbikscj1mdW5jdGlvbihuKXtlLnBvc3RNZXNzYWdlKHQrbixcIipcIil9fSgpOmUuTWVzc2FnZUNoYW5uZWw/ZnVuY3Rpb24oKXt2YXIgZT1uZXcgTWVzc2FnZUNoYW5uZWw7ZS5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7cyhlLmRhdGEpfSxyPWZ1bmN0aW9uKHQpe2UucG9ydDIucG9zdE1lc3NhZ2UodCl9fSgpOmQmJlwib25yZWFkeXN0YXRlY2hhbmdlXCJpbiBkLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik/ZnVuY3Rpb24oKXt2YXIgZT1kLmRvY3VtZW50RWxlbWVudDtyPWZ1bmN0aW9uKHQpe3ZhciBuPWQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtuLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe3ModCksbi5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxlLnJlbW92ZUNoaWxkKG4pLG49bnVsbH0sZS5hcHBlbmRDaGlsZChuKX19KCk6ZnVuY3Rpb24oKXtyPWZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocywwLGUpfX0oKSxwLnNldEltbWVkaWF0ZT1pLHAuY2xlYXJJbW1lZGlhdGU9YX19KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzZWxmP3ZvaWQgMD09PWU/dm9pZCAwOmU6c2VsZil9KS5jYWxsKHQsbig3KSxuKDgpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpLGE9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX07aT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtpPWl8fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKXx8KDAsZXZhbCkoXCJ0aGlzXCIpfWNhdGNoKGUpe1wib2JqZWN0XCI9PT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdz9cInVuZGVmaW5lZFwiOmEod2luZG93KSkmJihpPXdpbmRvdyl9ZS5leHBvcnRzPWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKCl7dGhyb3cgbmV3IEVycm9yKFwic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBhKCl7dGhyb3cgbmV3IEVycm9yKFwiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIG8oZSl7aWYoZD09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQoZSwwKTtpZigoZD09PWl8fCFkKSYmc2V0VGltZW91dClyZXR1cm4gZD1zZXRUaW1lb3V0LHNldFRpbWVvdXQoZSwwKTt0cnl7cmV0dXJuIGQoZSwwKX1jYXRjaCh0KXt0cnl7cmV0dXJuIGQuY2FsbChudWxsLGUsMCl9Y2F0Y2godCl7cmV0dXJuIGQuY2FsbCh0aGlzLGUsMCl9fX1mdW5jdGlvbiBzKGUpe2lmKHA9PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dChlKTtpZigocD09PWF8fCFwKSYmY2xlYXJUaW1lb3V0KXJldHVybiBwPWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQoZSk7dHJ5e3JldHVybiBwKGUpfWNhdGNoKHQpe3RyeXtyZXR1cm4gcC5jYWxsKG51bGwsZSl9Y2F0Y2godCl7cmV0dXJuIHAuY2FsbCh0aGlzLGUpfX19ZnVuY3Rpb24gcigpe2YmJnkmJihmPSExLHkubGVuZ3RoP209eS5jb25jYXQobSk6dj0tMSxtLmxlbmd0aCYmbCgpKX1mdW5jdGlvbiBsKCl7aWYoIWYpe3ZhciBlPW8ocik7Zj0hMDtmb3IodmFyIHQ9bS5sZW5ndGg7dDspe2Zvcih5PW0sbT1bXTsrK3Y8dDspeSYmeVt2XS5ydW4oKTt2PS0xLHQ9bS5sZW5ndGh9eT1udWxsLGY9ITEscyhlKX19ZnVuY3Rpb24gYyhlLHQpe3RoaXMuZnVuPWUsdGhpcy5hcnJheT10fWZ1bmN0aW9uIHUoKXt9dmFyIGQscCxoPWUuZXhwb3J0cz17fTshZnVuY3Rpb24oKXt0cnl7ZD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBzZXRUaW1lb3V0P3NldFRpbWVvdXQ6aX1jYXRjaChlKXtkPWl9dHJ5e3A9XCJmdW5jdGlvblwiPT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDphfWNhdGNoKGUpe3A9YX19KCk7dmFyIHksbT1bXSxmPSExLHY9LTE7aC5uZXh0VGljaz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO20ucHVzaChuZXcgYyhlLHQpKSwxIT09bS5sZW5ndGh8fGZ8fG8obCl9LGMucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LGgudGl0bGU9XCJicm93c2VyXCIsaC5icm93c2VyPSEwLGguZW52PXt9LGguYXJndj1bXSxoLnZlcnNpb249XCJcIixoLnZlcnNpb25zPXt9LGgub249dSxoLmFkZExpc3RlbmVyPXUsaC5vbmNlPXUsaC5vZmY9dSxoLnJlbW92ZUxpc3RlbmVyPXUsaC5yZW1vdmVBbGxMaXN0ZW5lcnM9dSxoLmVtaXQ9dSxoLnByZXBlbmRMaXN0ZW5lcj11LGgucHJlcGVuZE9uY2VMaXN0ZW5lcj11LGgubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybltdfSxoLmJpbmRpbmc9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LGguY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9LGguY2hkaXI9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfSxoLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0sbz1uKDEwKSxzPWkobykscj1uKDExKSxsPWkocik7dC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciB0PXtjb250YWluZXI6ZS5lbGVtZW50fHxkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZHBsYXllclwiKVswXSxsaXZlOiExLGF1dG9wbGF5OiExLHRoZW1lOlwiI2I3ZGFmZlwiLGxvb3A6ITEsbGFuZzoobmF2aWdhdG9yLmxhbmd1YWdlfHxuYXZpZ2F0b3IuYnJvd3Nlckxhbmd1YWdlKS50b0xvd2VyQ2FzZSgpLHNjcmVlbnNob3Q6ITEsaG90a2V5OiEwLHByZWxvYWQ6XCJhdXRvXCIsdm9sdW1lOi43LGFwaUJhY2tlbmQ6bC5kZWZhdWx0LHZpZGVvOnt9LGljb25zOntwbGF5OltcIjAgMCAxNiAzMlwiLFwiTTE1LjU1MiAxNS4xNjhxMC40NDggMC4zMiAwLjQ0OCAwLjgzMiAwIDAuNDQ4LTAuNDQ4IDAuNzY4bC0xMy42OTYgOC41MTJxLTAuNzY4IDAuNTEyLTEuMzEyIDAuMTkydC0wLjU0NC0xLjI4di0xNi40NDhxMC0wLjk2IDAuNTQ0LTEuMjh0MS4zMTIgMC4xOTJ6XCJdLHBhdXNlOltcIjAgMCAxNyAzMlwiLFwiTTE0LjA4MCA0LjhxMi44OCAwIDIuODggMi4wNDh2MTguMjRxMCAyLjExMi0yLjg4IDIuMTEydC0yLjg4LTIuMTEydi0xOC4yNHEwLTIuMDQ4IDIuODgtMi4wNDh6TTIuODggNC44cTIuODggMCAyLjg4IDIuMDQ4djE4LjI0cTAgMi4xMTItMi44OCAyLjExMnQtMi44OC0yLjExMnYtMTguMjRxMC0yLjA0OCAyLjg4LTIuMDQ4elwiXSxcInZvbHVtZS11cFwiOltcIjAgMCAyMSAzMlwiLFwiTTEzLjcyOCA2LjI3MnYxOS40NTZxMCAwLjQ0OC0wLjM1MiAwLjh0LTAuOCAwLjMyLTAuOC0wLjMybC01Ljk1Mi01Ljk1MmgtNC42NzJxLTAuNDggMC0wLjgtMC4zNTJ0LTAuMzUyLTAuOHYtNi44NDhxMC0wLjQ4IDAuMzUyLTAuOHQwLjgtMC4zNTJoNC42NzJsNS45NTItNS45NTJxMC4zMi0wLjMyIDAuOC0wLjMydDAuOCAwLjMyIDAuMzUyIDAuOHpNMjAuNTc2IDE2cTAgMS4zNDQtMC43NjggMi41Mjh0LTIuMDE2IDEuNjY0cS0wLjE2IDAuMDk2LTAuNDQ4IDAuMDk2LTAuNDQ4IDAtMC44LTAuMzJ0LTAuMzItMC44MzJxMC0wLjM4NCAwLjE5Mi0wLjY0dDAuNTQ0LTAuNDQ4IDAuNjA4LTAuMzg0IDAuNTEyLTAuNjQgMC4xOTItMS4wMjQtMC4xOTItMS4wMjQtMC41MTItMC42NC0wLjYwOC0wLjM4NC0wLjU0NC0wLjQ0OC0wLjE5Mi0wLjY0cTAtMC40OCAwLjMyLTAuODMydDAuOC0wLjMycTAuMjg4IDAgMC40NDggMC4wOTYgMS4yNDggMC40OCAyLjAxNiAxLjY2NHQwLjc2OCAyLjUyOHpNMjUuMTUyIDE2cTAgMi43Mi0xLjUzNiA1LjA1NnQtNCAzLjM2cS0wLjI1NiAwLjA5Ni0wLjQ0OCAwLjA5Ni0wLjQ4IDAtMC44MzItMC4zNTJ0LTAuMzItMC44cTAtMC43MDQgMC42NzItMS4wNTYgMS4wMjQtMC41MTIgMS4zNzYtMC44IDEuMzEyLTAuOTYgMi4wNDgtMi40dDAuNzM2LTMuMTA0LTAuNzM2LTMuMTA0LTIuMDQ4LTIuNHEtMC4zNTItMC4yODgtMS4zNzYtMC44LTAuNjcyLTAuMzUyLTAuNjcyLTEuMDU2IDAtMC40NDggMC4zMi0wLjh0MC44LTAuMzUycTAuMjI0IDAgMC40OCAwLjA5NiAyLjQ5NiAxLjA1NiA0IDMuMzZ0MS41MzYgNS4wNTZ6XCJdLFwidm9sdW1lLWRvd25cIjpbXCIwIDAgMjEgMzJcIixcIk0xMy43MjggNi4yNzJ2MTkuNDU2cTAgMC40NDgtMC4zNTIgMC44dC0wLjggMC4zMi0wLjgtMC4zMmwtNS45NTItNS45NTJoLTQuNjcycS0wLjQ4IDAtMC44LTAuMzUydC0wLjM1Mi0wLjh2LTYuODQ4cTAtMC40OCAwLjM1Mi0wLjh0MC44LTAuMzUyaDQuNjcybDUuOTUyLTUuOTUycTAuMzItMC4zMiAwLjgtMC4zMnQwLjggMC4zMiAwLjM1MiAwLjh6TTIwLjU3NiAxNnEwIDEuMzQ0LTAuNzY4IDIuNTI4dC0yLjAxNiAxLjY2NHEtMC4xNiAwLjA5Ni0wLjQ0OCAwLjA5Ni0wLjQ0OCAwLTAuOC0wLjMydC0wLjMyLTAuODMycTAtMC4zODQgMC4xOTItMC42NHQwLjU0NC0wLjQ0OCAwLjYwOC0wLjM4NCAwLjUxMi0wLjY0IDAuMTkyLTEuMDI0LTAuMTkyLTEuMDI0LTAuNTEyLTAuNjQtMC42MDgtMC4zODQtMC41NDQtMC40NDgtMC4xOTItMC42NHEwLTAuNDggMC4zMi0wLjgzMnQwLjgtMC4zMnEwLjI4OCAwIDAuNDQ4IDAuMDk2IDEuMjQ4IDAuNDggMi4wMTYgMS42NjR0MC43NjggMi41Mjh6XCJdLFwidm9sdW1lLW9mZlwiOltcIjAgMCAyMSAzMlwiLFwiTTEzLjcyOCA2LjI3MnYxOS40NTZxMCAwLjQ0OC0wLjM1MiAwLjh0LTAuOCAwLjMyLTAuOC0wLjMybC01Ljk1Mi01Ljk1MmgtNC42NzJxLTAuNDggMC0wLjgtMC4zNTJ0LTAuMzUyLTAuOHYtNi44NDhxMC0wLjQ4IDAuMzUyLTAuOHQwLjgtMC4zNTJoNC42NzJsNS45NTItNS45NTJxMC4zMi0wLjMyIDAuOC0wLjMydDAuOCAwLjMyIDAuMzUyIDAuOHpcIl0sbG9vcDpbXCIwIDAgMzIgMzJcIixcIk0xLjg4MiAxNi45NDFjMCA0LjE1MiAzLjIyMSA3LjUyOSA3LjE3NyA3LjUyOXYxLjg4MmMtNC45OTYgMC05LjA2MC00LjIyMi05LjA2MC05LjQxMnM0LjA2NC05LjQxMiA5LjA2MC05LjQxMmg3Ljk2bC0zLjA5OC0zLjA5OCAxLjMzMS0xLjMzMSA1LjM3MiA1LjM3LTUuMzcgNS4zNzItMS4zMzMtMS4zMzMgMy4xLTMuMDk4aC03Ljk2MmMtMy45NTcgMC03LjE3NyAzLjM3Ny03LjE3NyA3LjUyOXpNMjIuOTQgNy41Mjl2MS44ODJjMy45NTcgMCA3LjE3NyAzLjM3NyA3LjE3NyA3LjUyOXMtMy4yMjEgNy41MjktNy4xNzcgNy41MjloLTcuOTYybDMuMDk4LTMuMDk4LTEuMzMxLTEuMzMxLTUuMzcgNS4zNyA1LjM3MiA1LjM3MiAxLjMzMS0xLjMzMS0zLjEtMy4xaDcuOTZjNC45OTggMCA5LjA2Mi00LjIyMiA5LjA2Mi05LjQxMnMtNC4wNjQtOS40MTItOS4wNjAtOS40MTJ6XCJdLGZ1bGw6W1wiMCAwIDMyIDMzXCIsXCJNNi42NjcgMjhoLTUuMzMzYy0wLjggMC0xLjMzMy0wLjUzMy0xLjMzMy0xLjMzM3YtNS4zMzNjMC0wLjggMC41MzMtMS4zMzMgMS4zMzMtMS4zMzNzMS4zMzMgMC41MzMgMS4zMzMgMS4zMzN2NGg0YzAuOCAwIDEuMzMzIDAuNTMzIDEuMzMzIDEuMzMzcy0wLjUzMyAxLjMzMy0xLjMzMyAxLjMzM3pNMzAuNjY3IDI4aC01LjMzM2MtMC44IDAtMS4zMzMtMC41MzMtMS4zMzMtMS4zMzNzMC41MzMtMS4zMzMgMS4zMzMtMS4zMzNoNHYtNGMwLTAuOCAwLjUzMy0xLjMzMyAxLjMzMy0xLjMzM3MxLjMzMyAwLjUzMyAxLjMzMyAxLjMzM3Y1LjMzM2MwIDAuOC0wLjUzMyAxLjMzMy0xLjMzMyAxLjMzM3pNMzAuNjY3IDEyYy0wLjggMC0xLjMzMy0wLjUzMy0xLjMzMy0xLjMzM3YtNGgtNGMtMC44IDAtMS4zMzMtMC41MzMtMS4zMzMtMS4zMzNzMC41MzMtMS4zMzMgMS4zMzMtMS4zMzNoNS4zMzNjMC44IDAgMS4zMzMgMC41MzMgMS4zMzMgMS4zMzN2NS4zMzNjMCAwLjgtMC41MzMgMS4zMzMtMS4zMzMgMS4zMzN6TTEuMzMzIDEyYy0wLjggMC0xLjMzMy0wLjUzMy0xLjMzMy0xLjMzM3YtNS4zMzNjMC0wLjggMC41MzMtMS4zMzMgMS4zMzMtMS4zMzNoNS4zMzNjMC44IDAgMS4zMzMgMC41MzMgMS4zMzMgMS4zMzNzLTAuNTMzIDEuMzMzLTEuMzMzIDEuMzMzaC00djRjMCAwLjgtMC41MzMgMS4zMzMtMS4zMzMgMS4zMzN6XCJdLFwiZnVsbC1pblwiOltcIjAgMCAzMiAzM1wiLFwiTTI0Ljk2NSAyNC4zOGgtMTguMTMyYy0xLjM2NiAwLTIuNDc4LTEuMTEzLTIuNDc4LTIuNDc4di0xMS44MDZjMC0xLjM2NCAxLjExMS0yLjQ3OCAyLjQ3OC0yLjQ3OGgxOC4xMzJjMS4zNjYgMCAyLjQ3OCAxLjExMyAyLjQ3OCAyLjQ3OHYxMS44MDZjMCAxLjM2NC0xLjExIDIuNDc4LTIuNDc4IDIuNDc4ek02LjgzMyAxMC4wOTd2MTEuODA2aDE4LjEzNGwtMC4wMDItMTEuODA2aC0xOC4xMzJ6TTIuNDc4IDI4LjkyOGg1Ljk1MmMwLjY4NCAwIDEuMjM4LTAuNTU0IDEuMjM4LTEuMjM5IDAtMC42ODQtMC41NTQtMS4yMzgtMS4yMzgtMS4yMzhoLTUuOTUydi01LjgwMmMwLTAuNjg0LTAuNTU0LTEuMjM5LTEuMjM4LTEuMjM5cy0xLjIzOSAwLjU1Ni0xLjIzOSAxLjIzOXY1LjgwMmMwIDEuMzY1IDEuMTExIDIuNDc4IDIuNDc4IDIuNDc4ek0zMC43NjEgMTkuNDEyYy0wLjY4NCAwLTEuMjM4IDAuNTU0LTEuMjM4IDEuMjM4djUuODAxaC01Ljk1MWMtMC42ODYgMC0xLjIzOSAwLjU1NC0xLjIzOSAxLjIzOCAwIDAuNjg2IDAuNTU0IDEuMjM5IDEuMjM5IDEuMjM5aDUuOTUxYzEuMzY2IDAgMi40NzgtMS4xMTEgMi40NzgtMi40Nzh2LTUuODAxYzAtMC42ODMtMC41NTQtMS4yMzgtMS4yMzktMS4yMzh6TTAgNS41NXY1LjgwMmMwIDAuNjgzIDAuNTU0IDEuMjM4IDEuMjM4IDEuMjM4czEuMjM4LTAuNTU1IDEuMjM4LTEuMjM4di01LjgwMmg1Ljk1MmMwLjY4NCAwIDEuMjM4LTAuNTU0IDEuMjM4LTEuMjM4cy0wLjU1NC0xLjIzOC0xLjIzOC0xLjIzOGgtNS45NTFjLTEuMzY2LTAuMDAxLTIuNDc4IDEuMTExLTIuNDc4IDIuNDc2ek0zMiAxMS4zNXYtNS44MDFjMC0xLjM2NS0xLjExLTIuNDc4LTIuNDc4LTIuNDc4aC01Ljk1MWMtMC42ODYgMC0xLjIzOSAwLjU1NC0xLjIzOSAxLjIzOHMwLjU1NCAxLjIzOCAxLjIzOSAxLjIzOGg1Ljk1MXY1LjgwMWMwIDAuNjgzIDAuNTU0IDEuMjM3IDEuMjM4IDEuMjM3IDAuNjg2IDAuMDAyIDEuMjM5LTAuNTUzIDEuMjM5LTEuMjM2elwiXSxzZXR0aW5nOltcIjAgMCAzMiAyOFwiLFwiTTI4LjYzMyAxNy4xMDRjMC4wMzUgMC4yMSAwLjAyNiAwLjQ2My0wLjAyNiAwLjc2cy0wLjE0IDAuNTk4LTAuMjYyIDAuOTA0Yy0wLjEyMiAwLjMwNi0wLjI3MSAwLjU4MS0wLjQ0NSAwLjgyNXMtMC4zNjcgMC40MTktMC41NzYgMC41MjRjLTAuMjA5IDAuMTA1LTAuMzkzIDAuMTU3LTAuNTUgMC4xNTdzLTAuMzMyLTAuMDM1LTAuNTI0LTAuMTA1Yy0wLjE3NS0wLjA1Mi0wLjM5My0wLjEtMC42NTUtMC4xNDRzLTAuNTI4LTAuMDUyLTAuNzk5LTAuMDI2Yy0wLjI3MSAwLjAyNi0wLjU0MSAwLjA4My0wLjgxMiAwLjE3cy0wLjUwMiAwLjIzNi0wLjY5NCAwLjQ0NWMtMC40MTkgMC40MzctMC42NjQgMC45MzQtMC43MzQgMS40OTNzMC4wMDkgMS4wOTIgMC4yMzYgMS41OThjMC4xNzUgMC4zNDkgMC4xNDggMC42OTktMC4wNzkgMS4wNDgtMC4xMDUgMC4xNC0wLjI3MSAwLjI4NC0wLjQ5OCAwLjQzMnMtMC40NzYgMC4yODQtMC43NDcgMC40MDYtMC41NTUgMC4yMTgtMC44NTEgMC4yODhjLTAuMjk3IDAuMDcwLTAuNTU5IDAuMTA1LTAuNzg2IDAuMTA1LTAuMTU3IDAtMC4zMDYtMC4wNjEtMC40NDUtMC4xODNzLTAuMjM2LTAuMjUzLTAuMjg4LTAuMzkzaC0wLjAyNmMtMC4xOTItMC41NDEtMC41Mi0xLjAwOS0wLjk4Mi0xLjQwMnMtMS0wLjU4OS0xLjYxMS0wLjU4OWMtMC41OTQgMC0xLjEzMSAwLjE5Ny0xLjYxMSAwLjU4OXMtMC44MTYgMC44NTEtMS4wMDkgMS4zNzVjLTAuMDg3IDAuMjEtMC4yMTggMC4zNjItMC4zOTMgMC40NThzLTAuMzY3IDAuMTQ0LTAuNTc2IDAuMTQ0Yy0wLjI0NCAwLTAuNTItMC4wNDQtMC44MjUtMC4xMzFzLTAuNjExLTAuMTk3LTAuOTE3LTAuMzI3Yy0wLjMwNi0wLjEzMS0wLjU4MS0wLjI4NC0wLjgyNS0wLjQ1OHMtMC40MjgtMC4zNDktMC41NS0wLjUyNGMtMC4wODctMC4xMjItMC4xMzUtMC4yNjYtMC4xNDQtMC40MzJzMC4wNTctMC4zOTcgMC4xOTctMC42OTRjMC4xOTItMC40MDIgMC4yNjYtMC44NiAwLjIyMy0xLjM3NXMtMC4yNjYtMC45OTEtMC42NjgtMS40MjhjLTAuMjQ0LTAuMjYyLTAuNTQxLTAuNDMyLTAuODkxLTAuNTExcy0wLjY4MS0wLjEwOS0wLjk5NS0wLjA5MmMtMC4zNjcgMC4wMTctMC43NDIgMC4wODctMS4xMjcgMC4yMS0wLjI0NCAwLjA3MC0wLjQ4OSAwLjA1Mi0wLjczNC0wLjA1Mi0wLjE5Mi0wLjA3MC0wLjM3MS0wLjIzMS0wLjUzNy0wLjQ4NXMtMC4zMTQtMC41MzMtMC40NDUtMC44MzhjLTAuMTMxLTAuMzA2LTAuMjMxLTAuNjItMC4zMDEtMC45NDNzLTAuMDg3LTAuNTktMC4wNTItMC43OTljMC4wNTItMC4zODQgMC4yMjctMC42MjkgMC41MjQtMC43MzQgMC41MjQtMC4yMSAwLjk5NS0wLjU1NSAxLjQxNS0xLjAzNXMwLjYyOS0xLjAxNyAwLjYyOS0xLjYxMWMwLTAuNjExLTAuMjEtMS4xNDQtMC42MjktMS41OThzLTAuODkxLTAuNzg2LTEuNDE1LTAuOTk2Yy0wLjE1Ny0wLjA1Mi0wLjI4OC0wLjE3OS0wLjM5My0wLjM4cy0wLjE1Ny0wLjQwNi0wLjE1Ny0wLjYxNmMwLTAuMjI3IDAuMDM1LTAuNDggMC4xMDUtMC43NnMwLjE2Mi0wLjU1IDAuMjc1LTAuODEyIDAuMjQ0LTAuNTAyIDAuMzkzLTAuNzJjMC4xNDgtMC4yMTggMC4zMS0wLjM4IDAuNDg1LTAuNDg1IDAuMTQtMC4wODcgMC4yNzUtMC4xMjIgMC40MDYtMC4xMDVzMC4yNzUgMC4wNTIgMC40MzIgMC4xMDVjMC41MjQgMC4yMSAxLjA3MCAwLjI3NSAxLjYzNyAwLjE5N3MxLjA3MC0wLjMyNyAxLjUwNi0wLjc0N2MwLjIxLTAuMjA5IDAuMzYyLTAuNDY3IDAuNDU4LTAuNzczczAuMTU3LTAuNjA3IDAuMTgzLTAuOTA0YzAuMDI2LTAuMjk3IDAuMDI2LTAuNTY4IDAtMC44MTJzLTAuMDQ4LTAuNDE5LTAuMDY1LTAuNTI0Yy0wLjAzNS0wLjEwNS0wLjA2Ni0wLjIyNy0wLjA5Mi0wLjM2N3MtMC4wMTMtMC4yNjIgMC4wMzktMC4zNjdjMC4xMDUtMC4yNDQgMC4yOTMtMC40NTggMC41NjMtMC42NDJzMC41NjMtMC4zMzYgMC44NzgtMC40NThjMC4zMTQtMC4xMjIgMC42Mi0wLjIxNCAwLjkxNy0wLjI3NXMwLjUzMy0wLjA5MiAwLjcwNy0wLjA5MmMwLjIyNyAwIDAuNDA2IDAuMDc0IDAuNTM3IDAuMjIzczAuMjIzIDAuMzAxIDAuMjc1IDAuNDU4YzAuMTkyIDAuNDcxIDAuNTA3IDAuODg2IDAuOTQzIDEuMjQ0czAuOTUyIDAuNTM3IDEuNTQ2IDAuNTM3YzAuNjExIDAgMS4xNTMtMC4xNyAxLjYyNC0wLjUxMXMwLjgwMy0wLjc3MyAwLjk5Ni0xLjI5N2MwLjA3MC0wLjE0IDAuMTc5LTAuMjg0IDAuMzI3LTAuNDMyczAuMzAxLTAuMjIzIDAuNDU4LTAuMjIzYzAuMjQ0IDAgMC41MTEgMC4wMzUgMC43OTkgMC4xMDVzMC41NzIgMC4xNjYgMC44NTEgMC4yODhjMC4yNzkgMC4xMjIgMC41MzcgMC4yNzkgMC43NzMgMC40NzJzMC40MjMgMC40MDIgMC41NjMgMC42MjljMC4wODcgMC4xNCAwLjExMyAwLjI5MyAwLjA3OSAwLjQ1OHMtMC4wNzAgMC4yODQtMC4xMDUgMC4zNTRjLTAuMjI3IDAuNTA2LTAuMjk3IDEuMDM5LTAuMjEgMS41OThzMC4zNDEgMS4wNDggMC43NiAxLjQ2N2MwLjQxOSAwLjQxOSAwLjkzNCAwLjY1MSAxLjU0NiAwLjY5NHMxLjE3OS0wLjA1NyAxLjcwMy0wLjMwMWMwLjE0LTAuMDg3IDAuMzEtMC4xMjIgMC41MTEtMC4xMDVzMC4zNzEgMC4wOTYgMC41MTEgMC4yMzZjMC4yNjIgMC4yNDQgMC40OTMgMC42MTYgMC42OTQgMS4xMTNzMC4zMzYgMSAwLjQwNiAxLjUwNmMwLjAzNSAwLjI5Ny0wLjAxMyAwLjUyOC0wLjE0NCAwLjY5NHMtMC4yNjYgMC4yNzUtMC40MDYgMC4zMjdjLTAuNTQyIDAuMTkyLTEuMDA0IDAuNTI4LTEuMzg4IDEuMDA5cy0wLjU3NiAxLjAyNi0wLjU3NiAxLjYzN2MwIDAuNTk0IDAuMTYyIDEuMTEzIDAuNDg1IDEuNTU5czAuNzQ3IDAuNzY0IDEuMjcgMC45NTZjMC4xMjIgMC4wNzAgMC4yMjcgMC4xNCAwLjMxNCAwLjIxIDAuMTkyIDAuMTU3IDAuMzIzIDAuMzU4IDAuMzkzIDAuNjAydjB6TTE2LjQ1MSAxOS40NjJjMC43ODYgMCAxLjUyOC0wLjE0OSAyLjIyNy0wLjQ0NXMxLjMwNS0wLjcwNyAxLjgyMS0xLjIzMWMwLjUxNS0wLjUyNCAwLjkyMS0xLjEzMSAxLjIxOC0xLjgyMXMwLjQ0NS0xLjQyOCAwLjQ0NS0yLjIxNGMwLTAuNzg2LTAuMTQ4LTEuNTI0LTAuNDQ1LTIuMjE0cy0wLjcwMy0xLjI5Mi0xLjIxOC0xLjgwOGMtMC41MTUtMC41MTUtMS4xMjItMC45MjEtMS44MjEtMS4yMThzLTEuNDQxLTAuNDQ1LTIuMjI3LTAuNDQ1Yy0wLjc4NiAwLTEuNTI0IDAuMTQ4LTIuMjE0IDAuNDQ1cy0xLjI5MiAwLjcwMy0xLjgwOCAxLjIxOGMtMC41MTUgMC41MTUtMC45MjEgMS4xMTgtMS4yMTggMS44MDhzLTAuNDQ1IDEuNDI4LTAuNDQ1IDIuMjE0YzAgMC43ODYgMC4xNDkgMS41MjQgMC40NDUgMi4yMTRzMC43MDMgMS4yOTcgMS4yMTggMS44MjFjMC41MTUgMC41MjQgMS4xMTggMC45MzQgMS44MDggMS4yMzFzMS40MjggMC40NDUgMi4yMTQgMC40NDV2MHpcIl0scmlnaHQ6W1wiMCAwIDMyIDMyXCIsXCJNMjIgMTZsLTEwLjEwNS0xMC42LTEuODk1IDEuOTg3IDguMjExIDguNjEzLTguMjExIDguNjEyIDEuODk1IDEuOTg4IDguMjExLTguNjEzelwiXSxjb21tZW50OltcIjAgMCAzMiAzMlwiLFwiTTI3LjEyOCAwLjM4aC0yMi41NTNjLTIuMzM2IDAtNC4yMjkgMS44MjUtNC4yMjkgNC4wNzZ2MTYuMjczYzAgMi4yNTEgMS44OTMgNC4wNzYgNC4yMjkgNC4wNzZoNC4yMjl2LTIuNjg1aDguNDAzbC04Ljc4NCA4LjA3MiAxLjU2NiAxLjQ0IDcuNDI5LTYuODI3aDkuNzFjMi4zMzUgMCA0LjIyOS0xLjgyNSA0LjIyOS00LjA3NnYtMTYuMjczYzAtMi4yNTItMS44OTQtNC4wNzYtNC4yMjktNC4wNzZ6TTI4LjUzOCAxOS40MDNjMCAxLjUtMS4yNjIgMi43MTctMi44MTkgMi43MTdoLTguMzZsLTAuMDc2LTAuMDcwLTAuMDc2IDAuMDcwaC0xMS4yMjNjLTEuNTU3IDAtMi44MTktMS4yMTctMi44MTktMi43MTd2LTEzLjU4OWMwLTEuNTAxIDEuMjYyLTIuNzE4IDIuODE5LTIuNzE4aDE5LjczNGMxLjU1NyAwIDIuODE5LTAuMTQxIDIuODE5IDEuMzU5djE0Ljk0N3pNOS4yMDYgMTAuNTU3Yy0xLjIyMiAwLTIuMjE1IDAuOTExLTIuMjE1IDIuMDM2czAuOTkyIDIuMDM1IDIuMjE1IDIuMDM1YzEuMjI0IDAgMi4yMTYtMC45MTEgMi4yMTYtMi4wMzVzLTAuOTkyLTIuMDM2LTIuMjE2LTIuMDM2ek0yMi40OTYgMTAuNTU3Yy0xLjIyNCAwLTIuMjE1IDAuOTExLTIuMjE1IDIuMDM2czAuOTkxIDIuMDM1IDIuMjE1IDIuMDM1YzEuMjI0IDAgMi4yMTUtMC45MTEgMi4yMTUtMi4wMzVzLTAuOTkxLTIuMDM2LTIuMjE1LTIuMDM2ek0xNS44NTIgMTAuNTU3Yy0xLjIyNCAwLTIuMjE1IDAuOTExLTIuMjE1IDIuMDM2czAuOTkxIDIuMDM1IDIuMjE1IDIuMDM1YzEuMjIyIDAgMi4yMTUtMC45MTEgMi4yMTUtMi4wMzVzLTAuOTkyLTIuMDM2LTIuMjE1LTIuMDM2elwiXSxcImNvbW1lbnQtb2ZmXCI6W1wiMCAwIDMyIDMyXCIsXCJNMjcuMDkwIDAuMTMxaC0yMi43MzFjLTIuMzU0IDAtNC4yNjIgMS44MzktNC4yNjIgNC4xMDl2MTYuNDAxYzAgMi4yNjkgMS45MDggNC4xMDkgNC4yNjIgNC4xMDloNC4yNjJ2LTIuNzA2aDguNDY5bC04Ljg1MyA4LjEzNSAxLjU3OSAxLjQ1MSA3LjQ4Ny02Ljg4aDkuNzg3YzIuMzUzIDAgNC4yNjItMS44NCA0LjI2Mi00LjEwOXYtMTYuNDAxYzAtMi4yNy0xLjkwOS00LjEwOS00LjI2Mi00LjEwOXYwek0yOC41MTEgMTkuMzA0YzAgMS41MTItMS4yNzIgMi43MzgtMi44NDEgMi43MzhoLTguNDI1bC0wLjA3Ni0wLjA3MC0wLjA3NiAwLjA3MGgtMTEuMzExYy0xLjU2OSAwLTIuODQxLTEuMjI2LTIuODQxLTIuNzM4di0xMy42OTZjMC0xLjUxMyAxLjI3Mi0yLjczOSAyLjg0MS0yLjczOWgxOS44ODljMS41NjkgMCAyLjg0MS0wLjE0MiAyLjg0MSAxLjM3djE1LjA2NHpcIl0sc2VuZDpbXCIwIDAgMzIgMzJcIixcIk0xMy43MjUgMzBsMy45LTUuMzI1LTMuOS0xLjEyNXY2LjQ1ek0wIDE3LjVsMTEuMDUwIDMuMzUgMTMuNi0xMS41NS0xMC41NSAxMi40MjUgMTEuOCAzLjY1IDYuMS0yMy4zNzUtMzIgMTUuNXpcIl0scGFsbGV0dGU6W1wiMCAwIDMyIDMyXCIsXCJNMTkuMzU3IDIuODhjMS43NDkgMCAzLjM2NiAwLjMxNiA0Ljg1MSAwLjk0NiAxLjQ4NSAwLjYzMiAyLjc2OCAxLjQ3NCAzLjg0NSAyLjUzM3MxLjkyMiAyLjI3OSAyLjUzMiAzLjY2MWMwLjYxMSAxLjM4MyAwLjkxNSAyLjgyOSAwLjkxNSA0LjMzNCAwIDEuNDI1LTAuMzA0IDIuODQ3LTAuOTE1IDQuMjcxLTAuNjExIDEuNDI1LTEuNTg3IDIuNzY3LTIuOTI4IDQuMDI4LTAuODU1IDAuODEzLTEuODExIDEuNjA3LTIuODY5IDIuMzhzLTIuMTM2IDEuNDY1LTMuMjMzIDIuMDc1Yy0xLjA5OSAwLjYxLTIuMTk4IDEuMDk4LTMuMjk2IDEuNDY1LTEuMDk4IDAuMzY2LTIuMTE1IDAuNTQ5LTMuMDUxIDAuNTQ5LTEuMzQzIDAtMi40NDEtMC40MzgtMy4yOTYtMS4zMTEtMC44NTQtMC44NzYtMS4yODEtMi40MS0xLjI4MS00LjYwOCAwLTAuMzY2IDAuMDIwLTAuNzczIDAuMDYwLTEuMjIxczAuMDYyLTAuODk1IDAuMDYyLTEuMzQzYzAtMC43NzMtMC4xODMtMS4zNTMtMC41NS0xLjczOC0wLjM2Ni0wLjM4Ny0wLjc5My0wLjU4LTEuMjgxLTAuNTgtMC42NTIgMC0xLjIxIDAuMjk1LTEuNjc4IDAuODg2cy0wLjkyNiAxLjIzLTEuMzczIDEuOTIxYy0wLjQ0NyAwLjY5My0wLjkwNSAxLjMzNC0xLjM3MiAxLjkyM3MtMS4wMjggMC44ODYtMS42NzkgMC44ODZjLTAuNTI5IDAtMS4wNDgtMC40MjctMS41NTYtMS4yODJzLTAuNzYzLTIuMjU5LTAuNzYzLTQuMjEyYzAtMi4xOTcgMC41MjktNC4yNDEgMS41ODctNi4xMzNzMi40NjItMy41MjkgNC4yMS00LjkxMmMxLjc1LTEuMzgzIDMuNzYyLTIuNDcxIDYuMDQxLTMuMjY0IDIuMjc3LTAuNzk2IDQuNjE3LTEuMjEyIDcuMDE4LTEuMjUzek03LjMzNCAxNS44MTdjMC41NjkgMCAxLjA0Ny0wLjIwNCAxLjQzNC0wLjYxMXMwLjU3OS0wLjg3NSAwLjU3OS0xLjQwNGMwLTAuNTY5LTAuMTkzLTEuMDQ3LTAuNTc5LTEuNDM0cy0wLjg2NC0wLjU3OS0xLjQzNC0wLjU3OWMtMC41MjkgMC0wLjk4NyAwLjE5My0xLjM3MyAwLjU3OXMtMC41OCAwLjg2NC0wLjU4IDEuNDM0YzAgMC41MyAwLjE5NCAwLjk5OCAwLjU4IDEuNDA0IDAuMzg4IDAuNDA3IDAuODQ1IDAuNjExIDEuMzczIDAuNjExek0xMi4yMTYgMTEuNzljMC42OTEgMCAxLjI5Mi0wLjI1NCAxLjgtMC43NjNzMC43NjItMS4xMDcgMC43NjItMS44YzAtMC43MzItMC4yNTUtMS4zNDMtMC43NjItMS44MzEtMC41MDktMC40ODktMS4xMDktMC43MzItMS44LTAuNzMyLTAuNzMyIDAtMS4zNDIgMC4yNDQtMS44MzEgMC43MzItMC40ODggMC40ODgtMC43MzIgMS4wOTgtMC43MzIgMS44MzEgMCAwLjY5MyAwLjI0NCAxLjI5MiAwLjczMiAxLjhzMS4wOTkgMC43NjMgMS44MzEgMC43NjN6TTE2LjM2NiAyNS45NDdjMC42OTIgMCAxLjI4Mi0wLjIxNCAxLjc3LTAuNjRzMC43MzItMC45ODcgMC43MzItMS42NzgtMC4yNDQtMS4yNjEtMC43MzItMS43MDljLTAuNDg5LTAuNDQ4LTEuMDc4LTAuNjcxLTEuNzctMC42NzEtMC42NSAwLTEuMjEgMC4yMjMtMS42NzggMC42NzFzLTAuNzAyIDEuMDE4LTAuNzAyIDEuNzA5YzAgMC42OTIgMC4yMzQgMS4yNSAwLjcwMiAxLjY3OHMxLjAyNyAwLjY0IDEuNjc4IDAuNjR6TTE5LjExMyA5LjU5MmMwLjY1MSAwIDEuMTI5LTAuMjAzIDEuNDMzLTAuNjExIDAuMzA1LTAuNDA2IDAuNDU5LTAuODc0IDAuNDU5LTEuNDA0IDAtMC40ODgtMC4xNTQtMC45NDctMC40NTktMS4zNzMtMC4zMDQtMC40MjctMC43ODItMC42NDEtMS40MzMtMC42NDEtMC41MjkgMC0xLjAwOCAwLjE5My0xLjQzNCAwLjU4cy0wLjY0IDAuODY1LTAuNjQgMS40MzRjMCAwLjU3MSAwLjIxMyAxLjA0OSAwLjY0IDEuNDM0IDAuNDI3IDAuMzg5IDAuOTA1IDAuNTgxIDEuNDM0IDAuNTgxek0yNC44NDggMTIuODI2YzAuNTcgMCAxLjA2Ny0wLjIxMyAxLjQ5NS0wLjY0IDAuNDI3LTAuNDI3IDAuNjQtMC45NDcgMC42NC0xLjU1NiAwLTAuNTctMC4yMTQtMS4wNjgtMC42NC0xLjQ5NS0wLjQyOC0wLjQyNy0wLjkyNy0wLjY0LTEuNDk1LTAuNjQtMC42MTEgMC0xLjEyOSAwLjIxMy0xLjU1NSAwLjY0LTAuNDI4IDAuNDI3LTAuNjQyIDAuOTI2LTAuNjQyIDEuNDk1IDAgMC42MTEgMC4yMTMgMS4xMjkgMC42NDIgMS41NTZzMC45NDcgMC42NCAxLjU1NSAwLjY0elwiXSxjYW1lcmE6W1wiMCAwIDMyIDMyXCIsXCJNMTYgMjNjLTMuMzA5IDAtNi0yLjY5MS02LTZzMi42OTEtNiA2LTYgNiAyLjY5MSA2IDYtMi42OTEgNi02IDZ6TTE2IDEzYy0yLjIwNiAwLTQgMS43OTQtNCA0czEuNzk0IDQgNCA0YzIuMjA2IDAgNC0xLjc5NCA0LTRzLTEuNzk0LTQtNC00ek0yNyAyOGgtMjJjLTEuNjU0IDAtMy0xLjM0Ni0zLTN2LTE2YzAtMS42NTQgMS4zNDYtMyAzLTNoM2MwLjU1MiAwIDEgMC40NDggMSAxcy0wLjQ0OCAxLTEgMWgtM2MtMC41NTEgMC0xIDAuNDQ5LTEgMXYxNmMwIDAuNTUyIDAuNDQ5IDEgMSAxaDIyYzAuNTUyIDAgMS0wLjQ0OCAxLTF2LTE2YzAtMC41NTEtMC40NDgtMS0xLTFoLTExYy0wLjU1MiAwLTEtMC40NDgtMS0xczAuNDQ4LTEgMS0xaDExYzEuNjU0IDAgMyAxLjM0NiAzIDN2MTZjMCAxLjY1NC0xLjM0NiAzLTMgM3pNMjQgMTAuNWMwIDAuODI4IDAuNjcyIDEuNSAxLjUgMS41czEuNS0wLjY3MiAxLjUtMS41YzAtMC44MjgtMC42NzItMS41LTEuNS0xLjVzLTEuNSAwLjY3Mi0xLjUgMS41ek0xNSA0YzAgMC41NTItMC40NDggMS0xIDFoLTRjLTAuNTUyIDAtMS0wLjQ0OC0xLTF2MGMwLTAuNTUyIDAuNDQ4LTEgMS0xaDRjMC41NTIgMCAxIDAuNDQ4IDEgMXYwelwiXSxzdWJ0aXRsZTpbXCIwIDAgMzIgMzJcIixcIk0yNi42NjcgNS4zMzNoLTIxLjMzM2MtMCAwLTAuMDAxIDAtMC4wMDEgMC0xLjQ3MiAwLTIuNjY2IDEuMTk0LTIuNjY2IDIuNjY2IDAgMCAwIDAuMDAxIDAgMC4wMDF2LTAgMTZjMCAwIDAgMC4wMDEgMCAwLjAwMSAwIDEuNDcyIDEuMTk0IDIuNjY2IDIuNjY2IDIuNjY2IDAgMCAwLjAwMSAwIDAuMDAxIDBoMjEuMzMzYzAgMCAwLjAwMSAwIDAuMDAxIDAgMS40NzIgMCAyLjY2Ni0xLjE5NCAyLjY2Ni0yLjY2NiAwLTAgMC0wLjAwMSAwLTAuMDAxdjAtMTZjMC0wIDAtMC4wMDEgMC0wLjAwMSAwLTEuNDcyLTEuMTk0LTIuNjY2LTIuNjY2LTIuNjY2LTAgMC0wLjAwMSAwLTAuMDAxIDBoMHpNNS4zMzMgMTZoNS4zMzN2Mi42NjdoLTUuMzMzdi0yLjY2N3pNMTguNjY3IDI0aC0xMy4zMzN2LTIuNjY3aDEzLjMzM3YyLjY2N3pNMjYuNjY3IDI0aC01LjMzM3YtMi42NjdoNS4zMzN2Mi42Njd6TTI2LjY2NyAxOC42NjdoLTEzLjMzM3YtMi42NjdoMTMuMzMzdjIuNjY3elwiXX0saWNvbnNDb2xvcjpcIiNmZmZmZmZcIixjb250ZXh0bWVudTpbXSxtdXRleDohMH07Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmIWUuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pO3JldHVybiBlLnZpZGVvJiYhZS52aWRlby50eXBlJiYoZS52aWRlby50eXBlPVwiYXV0b1wiKSxcIm9iamVjdFwiPT09YShlLmRhbm1ha3UpJiZlLmRhbm1ha3UmJiFlLmRhbm1ha3UudXNlciYmKGUuZGFubWFrdS51c2VyPVwiRElZZ29kXCIpLGUuc3VidGl0bGUmJighZS5zdWJ0aXRsZS50eXBlJiYoZS5zdWJ0aXRsZS50eXBlPVwid2VidnR0XCIpLCFlLnN1YnRpdGxlLmZvbnRTaXplJiYoZS5zdWJ0aXRsZS5mb250U2l6ZT1cIjIwcHhcIiksIWUuc3VidGl0bGUuYm90dG9tJiYoZS5zdWJ0aXRsZS5ib3R0b209XCI0MHB4XCIpLCFlLnN1YnRpdGxlLmNvbG9yJiYoZS5zdWJ0aXRsZS5jb2xvcj1cIiNmZmZcIikpLGUudmlkZW8ucXVhbGl0eSYmKGUudmlkZW8udXJsPVtlLnZpZGVvLnF1YWxpdHlbZS52aWRlby5kZWZhdWx0UXVhbGl0eV0udXJsXSksZS5sYW5nJiYoZS5sYW5nPWUubGFuZy50b0xvd2VyQ2FzZSgpKSxlLmljb25zJiYoZS5pY29ucz0oMCxzLmRlZmF1bHQpKHt9LHQuaWNvbnMsZS5pY29ucykpLGUuY29udGV4dG1lbnU9ZS5jb250ZXh0bWVudS5jb25jYXQoW3t0ZXh0OlwiQWJvdXQgYXV0aG9yXCIsbGluazpcImh0dHBzOi8vZGl5Z29kLm1lXCJ9LHt0ZXh0OlwiQWJvdXQgRFBsYXllclwiLGxpbms6XCJodHRwczovL2dpdGh1Yi5jb20vTW9lUGxheWVyL0RQbGF5ZXJcIn0se3RleHQ6XCJEUGxheWVyIGZlZWRiYWNrXCIsbGluazpcImh0dHBzOi8vZ2l0aHViLmNvbS9ESVlnb2QvRFBsYXllci9pc3N1ZXNcIn0se3RleHQ6XCJEUGxheWVyIDEuMjEuMCA4ZTY5YWRhXCIsbGluazpcImh0dHBzOi8vZ2l0aHViLmNvbS9Nb2VQbGF5ZXIvRFBsYXllci9yZWxlYXNlc1wifV0pLGV9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlKXtpZihudWxsPT09ZXx8dm9pZCAwPT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWRcIik7cmV0dXJuIE9iamVjdChlKX12YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLG89T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxzPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dHJ5e2lmKCFPYmplY3QuYXNzaWduKXJldHVybiExO3ZhciBlPW5ldyBTdHJpbmcoXCJhYmNcIik7aWYoZVs1XT1cImRlXCIsXCI1XCI9PT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKVswXSlyZXR1cm4hMTtmb3IodmFyIHQ9e30sbj0wO248MTA7bisrKXRbXCJfXCIrU3RyaW5nLmZyb21DaGFyQ29kZShuKV09bjtpZihcIjAxMjM0NTY3ODlcIiE9PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0pLmpvaW4oXCJcIikpcmV0dXJuITE7dmFyIGk9e307cmV0dXJuXCJhYmNkZWZnaGlqa2xtbm9wcXJzdFwiLnNwbGl0KFwiXCIpLmZvckVhY2goZnVuY3Rpb24oZSl7aVtlXT1lfSksXCJhYmNkZWZnaGlqa2xtbm9wcXJzdFwiPT09T2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSxpKSkuam9pbihcIlwiKX1jYXRjaChlKXtyZXR1cm4hMX19KCk/T2JqZWN0LmFzc2lnbjpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyLGw9aShlKSxjPTE7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKyl7bj1PYmplY3QoYXJndW1lbnRzW2NdKTtmb3IodmFyIHUgaW4gbilvLmNhbGwobix1KSYmKGxbdV09blt1XSk7aWYoYSl7cj1hKG4pO2Zvcih2YXIgZD0wO2Q8ci5sZW5ndGg7ZCsrKXMuY2FsbChuLHJbZF0pJiYobFtyW2RdXT1uW3JbZF1dKX19cmV0dXJuIGx9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oZSx0LG4saSxhKXt2YXIgbz1uZXcgWE1MSHR0cFJlcXVlc3Q7by5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZig0PT09by5yZWFkeVN0YXRlKXtpZihvLnN0YXR1cz49MjAwJiZvLnN0YXR1czwzMDB8fDMwND09PW8uc3RhdHVzKXt2YXIgZT1KU09OLnBhcnNlKG8ucmVzcG9uc2VUZXh0KTtyZXR1cm4gMCE9PWUuY29kZT9pKG8sZSk6bihvLGUpfWEobyl9fSxvLm9wZW4obnVsbCE9PXQ/XCJQT1NUXCI6XCJHRVRcIixlLCEwKSxvLnNlbmQobnVsbCE9PXQ/SlNPTi5zdHJpbmdpZnkodCk6bnVsbCl9O3QuZGVmYXVsdD17c2VuZDpmdW5jdGlvbihlLHQsbil7aShlLHQsZnVuY3Rpb24oZSx0KXtjb25zb2xlLmxvZyhcIlBvc3QgZGFubWFrdTogXCIsdCksbiYmbigpfSxmdW5jdGlvbihlLHQpe2FsZXJ0KHQubXNnKX0sZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coXCJSZXF1ZXN0IHdhcyB1bnN1Y2Nlc3NmdWw6IFwiK2Uuc3RhdHVzKX0pfSxyZWFkOmZ1bmN0aW9uKGUsdCl7aShlLG51bGwsZnVuY3Rpb24oZSxuKXt0KG51bGwsbi5kYW5tYWt1KX0sZnVuY3Rpb24oZSxuKXt0KHtzdGF0dXM6ZS5zdGF0dXMscmVzcG9uc2U6bn0pfSxmdW5jdGlvbihlKXt0KHtzdGF0dXM6ZS5zdGF0dXMscmVzcG9uc2U6bnVsbH0pfSl9fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSl7dmFyIHQ9dGhpczt0aGlzLmxhbmc9ZSx0aGlzLnRyYW49ZnVuY3Rpb24oZSl7cmV0dXJuIGFbdC5sYW5nXSYmYVt0LmxhbmddW2VdP2FbdC5sYW5nXVtlXTplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT17XCJ6aC1jblwiOntcIkRhbm1ha3UgaXMgbG9hZGluZ1wiOlwiXFx1NWYzOVxcdTVlNTVcXHU1MmEwXFx1OGY3ZFxcdTRlMmRcIixUb3A6XCJcXHU5ODc2XFx1OTBlOFwiLEJvdHRvbTpcIlxcdTVlOTVcXHU5MGU4XCIsUm9sbGluZzpcIlxcdTZlZGFcXHU1MmE4XCIsXCJJbnB1dCBkYW5tYWt1LCBoaXQgRW50ZXJcIjpcIlxcdThmOTNcXHU1MTY1XFx1NWYzOVxcdTVlNTVcXHVmZjBjXFx1NTZkZVxcdThmNjZcXHU1M2QxXFx1OTAwMVwiLFwiQWJvdXQgYXV0aG9yXCI6XCJcXHU1MTczXFx1NGU4ZVxcdTRmNWNcXHU4MDA1XCIsXCJEUGxheWVyIGZlZWRiYWNrXCI6XCJcXHU2NGFkXFx1NjUzZVxcdTU2NjhcXHU2MTBmXFx1ODljMVxcdTUzY2RcXHU5OTg4XCIsXCJBYm91dCBEUGxheWVyXCI6XCJcXHU1MTczXFx1NGU4ZSBEUGxheWVyIFxcdTY0YWRcXHU2NTNlXFx1NTY2OFwiLExvb3A6XCJcXHU2ZDE3XFx1ODExMVxcdTVmYWFcXHU3M2FmXCIsU3BlZWQ6XCJcXHU5MDFmXFx1NWVhNlwiLFwiT3BhY2l0eSBmb3IgZGFubWFrdVwiOlwiXFx1NWYzOVxcdTVlNTVcXHU5MDBmXFx1NjYwZVxcdTVlYTZcIixOb3JtYWw6XCJcXHU2YjYzXFx1NWUzOFwiLFwiUGxlYXNlIGlucHV0IGRhbm1ha3UgY29udGVudCFcIjpcIlxcdTg5ODFcXHU4ZjkzXFx1NTE2NVxcdTVmMzlcXHU1ZTU1XFx1NTE4NVxcdTViYjlcXHU1NTRhXFx1NTU4MlxcdWZmMDFcIixcIlNldCBkYW5tYWt1IGNvbG9yXCI6XCJcXHU4YmJlXFx1N2Y2ZVxcdTVmMzlcXHU1ZTU1XFx1OTg5Y1xcdTgyNzJcIixcIlNldCBkYW5tYWt1IHR5cGVcIjpcIlxcdThiYmVcXHU3ZjZlXFx1NWYzOVxcdTVlNTVcXHU3YzdiXFx1NTc4YlwiLFwiU2hvdyBkYW5tYWt1XCI6XCJcXHU2NjNlXFx1NzkzYVxcdTVmMzlcXHU1ZTU1XCIsXCJUaGlzIHZpZGVvIGZhaWxzIHRvIGxvYWRcIjpcIlxcdTg5YzZcXHU5ODkxXFx1NTJhMFxcdThmN2RcXHU1OTMxXFx1OGQyNVwiLFwiU3dpdGNoaW5nIHRvXCI6XCJcXHU2YjYzXFx1NTcyOFxcdTUyMDdcXHU2MzYyXFx1ODFmM1wiLFwiU3dpdGNoZWQgdG9cIjpcIlxcdTVkZjJcXHU3ZWNmXFx1NTIwN1xcdTYzNjJcXHU4MWYzXCIscXVhbGl0eTpcIlxcdTc1M2JcXHU4ZDI4XCIsRkY6XCJcXHU1ZmViXFx1OGZkYlwiLFJFVzpcIlxcdTVmZWJcXHU5MDAwXCIsXCJVbmxpbWl0ZWQgZGFubWFrdVwiOlwiXFx1NmQ3N1xcdTkxY2ZcXHU1ZjM5XFx1NWU1NVwiLFwiU2VuZCBkYW5tYWt1XCI6XCJcXHU1M2QxXFx1OTAwMVxcdTVmMzlcXHU1ZTU1XCIsU2V0dGluZzpcIlxcdThiYmVcXHU3ZjZlXCIsXCJGdWxsIHNjcmVlblwiOlwiXFx1NTE2OFxcdTVjNGZcIixcIldlYiBmdWxsIHNjcmVlblwiOlwiXFx1OTg3NVxcdTk3NjJcXHU1MTY4XFx1NWM0ZlwiLFNlbmQ6XCJcXHU1M2QxXFx1OTAwMVwiLFNjcmVlbnNob3Q6XCJcXHU2MjJhXFx1NTZmZVwiLHM6XCJcXHU3OWQyXCIsXCJTaG93IHN1YnRpdGxlXCI6XCJcXHU2NjNlXFx1NzkzYVxcdTViNTdcXHU1ZTU1XCIsXCJIaWRlIHN1YnRpdGxlXCI6XCJcXHU5NjkwXFx1ODVjZlxcdTViNTdcXHU1ZTU1XCIsVm9sdW1lOlwiXFx1OTdmM1xcdTkxY2ZcIixMaXZlOlwiXFx1NzZmNFxcdTY0YWRcIn0sXCJ6aC10d1wiOntcIkRhbm1ha3UgaXMgbG9hZGluZ1wiOlwiXFx1NWY0OFxcdTVlNTVcXHU1MmEwXFx1OGYwOVxcdTRlMmRcIixUb3A6XCJcXHU5ODAyXFx1OTBlOFwiLEJvdHRvbTpcIlxcdTVlOTVcXHU5MGU4XCIsUm9sbGluZzpcIlxcdTZlZmVcXHU1MmQ1XCIsXCJJbnB1dCBkYW5tYWt1LCBoaXQgRW50ZXJcIjpcIlxcdThmMzhcXHU1MTY1XFx1NWY0OFxcdTVlNTVcXHVmZjBjRW50ZXIgXFx1NzY3Y1xcdTkwMDFcIixcIkFib3V0IGF1dGhvclwiOlwiXFx1OTVkY1xcdTY1YmNcXHU0ZjVjXFx1ODAwNVwiLFwiRFBsYXllciBmZWVkYmFja1wiOlwiXFx1NjRhZFxcdTY1M2VcXHU1NjY4XFx1NjEwZlxcdTg5OGJcXHU1M2NkXFx1OTk0YlwiLFwiQWJvdXQgRFBsYXllclwiOlwiXFx1OTVkY1xcdTY1YmMgRFBsYXllciBcXHU2NGFkXFx1NjUzZVxcdTU2NjhcIixMb29wOlwiXFx1NWZhYVxcdTc0YjBcXHU2NGFkXFx1NjUzZVwiLFNwZWVkOlwiXFx1OTAxZlxcdTVlYTZcIixcIk9wYWNpdHkgZm9yIGRhbm1ha3VcIjpcIlxcdTVmNDhcXHU1ZTU1XFx1OTAwZlxcdTY2MGVcXHU1ZWE2XCIsTm9ybWFsOlwiXFx1NmI2M1xcdTVlMzhcIixcIlBsZWFzZSBpbnB1dCBkYW5tYWt1IGNvbnRlbnQhXCI6XCJcXHU4YWNiXFx1OGYzOFxcdTUxNjVcXHU1ZjQ4XFx1NWU1NVxcdTUxODVcXHU1YmI5XFx1NTU0YVxcdWZmMDFcIixcIlNldCBkYW5tYWt1IGNvbG9yXCI6XCJcXHU4YTJkXFx1N2Y2ZVxcdTVmNDhcXHU1ZTU1XFx1OTg0ZlxcdTgyNzJcIixcIlNldCBkYW5tYWt1IHR5cGVcIjpcIlxcdThhMmRcXHU3ZjZlXFx1NWY0OFxcdTVlNTVcXHU5ODVlXFx1NTc4YlwiLFwiU2hvdyBkYW5tYWt1XCI6XCJcXHU5ODZmXFx1NzkzYVxcdTVmNDhcXHU1ZTU1XCIsXCJUaGlzIHZpZGVvIGZhaWxzIHRvIGxvYWRcIjpcIlxcdTg5OTZcXHU5ODNiXFx1NTJhMFxcdThmMDlcXHU1OTMxXFx1NjU1N1wiLFwiU3dpdGNoaW5nIHRvXCI6XCJcXHU2YjYzXFx1NTcyOFxcdTUyMDdcXHU2M2RiXFx1ODFmM1wiLFwiU3dpdGNoZWQgdG9cIjpcIlxcdTVkZjJcXHU3ZDkzXFx1NTIwN1xcdTYzZGJcXHU4MWYzXCIscXVhbGl0eTpcIlxcdTc1NmJcXHU4Y2VhXCIsRkY6XCJcXHU1ZmViXFx1OTAzMlwiLFJFVzpcIlxcdTVmZWJcXHU5MDAwXCIsXCJVbmxpbWl0ZWQgZGFubWFrdVwiOlwiXFx1NmQ3N1xcdTkxY2ZcXHU1ZjQ4XFx1NWU1NVwiLFwiU2VuZCBkYW5tYWt1XCI6XCJcXHU3NjdjXFx1OTAwMVxcdTVmNDhcXHU1ZTU1XCIsU2V0dGluZzpcIlxcdThhMmRcXHU3ZjZlXCIsXCJGdWxsIHNjcmVlblwiOlwiXFx1NTE2OFxcdTVjNGZcIixcIldlYiBmdWxsIHNjcmVlblwiOlwiXFx1OTgwMVxcdTk3NjJcXHU1MTY4XFx1NWM0ZlwiLFNlbmQ6XCJcXHU3NjdjXFx1OTAwMVwiLFNjcmVlbnNob3Q6XCJcXHU2MjJhXFx1NTcxNlwiLHM6XCJcXHU3OWQyXCIsXCJTaG93IHN1YnRpdGxlXCI6XCJcXHU5ODZmXFx1NzkzYVxcdTViNTdcXHU1ZTU1XCIsXCJIaWRlIHN1YnRpdGxlXCI6XCJcXHU5NmIxXFx1ODVjZlxcdTViNTdcXHU1ZTU1XCIsVm9sdW1lOlwiXFx1OTdmM1xcdTkxY2ZcIixMaXZlOlwiXFx1NzZmNFxcdTY0YWRcIn19O3QuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtpKHRoaXMsZSksdGhpcy5jb250YWluZXI9dC5jb250YWluZXIsdGhpcy5vcHRpb25zPXQub3B0aW9ucyx0aGlzLmluZGV4PXQuaW5kZXgsdGhpcy50cmFuPXQudHJhbix0aGlzLmljb25zPXQuaWNvbnMsdGhpcy5pbml0KCl9cmV0dXJuIGEoZSxbe2tleTpcImluaXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY29udGFpbmVyLmlubmVySFRNTD10aGlzLnRwbCh0aGlzLm9wdGlvbnMsdGhpcy5pbmRleCx0aGlzLnRyYW4sdGhpcy5pY29ucyksdGhpcy52b2x1bWVCYXI9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXZvbHVtZS1iYXItaW5uZXJcIiksdGhpcy52b2x1bWVCYXJXcmFwPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci12b2x1bWUtYmFyXCIpLHRoaXMudm9sdW1lQmFyV3JhcFdyYXA9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXZvbHVtZS1iYXItd3JhcFwiKSx0aGlzLnZvbHVtZUJ1dHRvbj10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItdm9sdW1lXCIpLHRoaXMudm9sdW1lSWNvbj10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItdm9sdW1lLWljb24gLmRwbGF5ZXItaWNvbi1jb250ZW50XCIpLHRoaXMucGxheWVkQmFyPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1wbGF5ZWRcIiksdGhpcy5sb2FkZWRCYXI9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWxvYWRlZFwiKSx0aGlzLnBsYXllZEJhcldyYXA9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWJhci13cmFwXCIpLHRoaXMucGxheWVkQmFyVGltZT10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItYmFyLXRpbWVcIiksdGhpcy5kYW5tYWt1PXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1kYW5tYWt1XCIpLHRoaXMuZGFubWFrdUxvYWRpbmc9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWRhbmxvYWRpbmdcIiksdGhpcy52aWRlbz10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItdmlkZW8tY3VycmVudFwiKSx0aGlzLmJlemVsPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1iZXplbC1pY29uXCIpLHRoaXMucGxheUJ1dHRvbj10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItcGxheS1pY29uXCIpLHRoaXMudmlkZW9XcmFwPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci12aWRlby13cmFwXCIpLHRoaXMuY29udHJvbGxlck1hc2s9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWNvbnRyb2xsZXItbWFza1wiKSx0aGlzLnB0aW1lPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1wdGltZVwiKSx0aGlzLnNldHRpbmdCdXR0b249dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXNldHRpbmctaWNvblwiKSx0aGlzLnNldHRpbmdCb3g9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXNldHRpbmctYm94XCIpLHRoaXMubWFzaz10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItbWFza1wiKSx0aGlzLmxvb3A9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXNldHRpbmctbG9vcFwiKSx0aGlzLmxvb3BUb2dnbGU9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXNldHRpbmctbG9vcCAuZHBsYXllci10b2dnbGUtc2V0dGluZy1pbnB1dFwiKSx0aGlzLnNob3dEYW5tYWt1PXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1zZXR0aW5nLXNob3dkYW5cIiksdGhpcy5zaG93RGFubWFrdVRvZ2dsZT10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItc2hvd2Rhbi1zZXR0aW5nLWlucHV0XCIpLHRoaXMudW5saW1pdERhbm1ha3U9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXNldHRpbmctZGFudW5saW1pdFwiKSx0aGlzLnVubGltaXREYW5tYWt1VG9nZ2xlPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1kYW51bmxpbWl0LXNldHRpbmctaW5wdXRcIiksdGhpcy5zcGVlZD10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItc2V0dGluZy1zcGVlZFwiKSx0aGlzLnNwZWVkSXRlbT10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKFwiLmRwbGF5ZXItc2V0dGluZy1zcGVlZC1pdGVtXCIpLHRoaXMuZGFubWFrdU9wYWNpdHlCYXI9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWRhbm1ha3UtYmFyLWlubmVyXCIpLHRoaXMuZGFubWFrdU9wYWNpdHlCYXJXcmFwPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1kYW5tYWt1LWJhclwiKSx0aGlzLmRhbm1ha3VPcGFjaXR5QmFyV3JhcFdyYXA9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWRhbm1ha3UtYmFyLXdyYXBcIiksdGhpcy5kYW5tYWt1T3BhY2l0eUJveD10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItc2V0dGluZy1kYW5tYWt1XCIpLHRoaXMuZHRpbWU9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWR0aW1lXCIpLHRoaXMuY29udHJvbGxlcj10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItY29udHJvbGxlclwiKSx0aGlzLmNvbW1lbnRJbnB1dD10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItY29tbWVudC1pbnB1dFwiKSx0aGlzLmNvbW1lbnRCdXR0b249dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWNvbW1lbnQtaWNvblwiKSx0aGlzLmNvbW1lbnRTZXR0aW5nQm94PXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1jb21tZW50LXNldHRpbmctYm94XCIpLHRoaXMuY29tbWVudFNldHRpbmdCdXR0b249dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWNvbW1lbnQtc2V0dGluZy1pY29uXCIpLHRoaXMuY29tbWVudFNldHRpbmdGaWxsPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1jb21tZW50LXNldHRpbmctaWNvbiAuZHBsYXllci1maWxsXCIpLHRoaXMuY29tbWVudFNlbmRCdXR0b249dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXNlbmQtaWNvblwiKSx0aGlzLmNvbW1lbnRTZW5kRmlsbD10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItc2VuZC1pY29uIC5kcGxheWVyLWZpbGxcIiksdGhpcy5jb21tZW50Q29sb3JTZXR0aW5nQm94PXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1jb21tZW50LXNldHRpbmctY29sb3JcIiksdGhpcy5icm93c2VyRnVsbEJ1dHRvbj10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItZnVsbC1pY29uXCIpLHRoaXMud2ViRnVsbEJ1dHRvbj10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItZnVsbC1pbi1pY29uXCIpLHRoaXMubWVudT10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItbWVudVwiKSx0aGlzLnF1YWxpdHlMaXN0PXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1xdWFsaXR5LWxpc3RcIiksdGhpcy5jYW1hcmVCdXR0b249dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWNhbWVyYS1pY29uXCIpLHRoaXMuc3VidGl0bGVCdXR0b249dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXN1YnRpdGxlLWljb25cIiksdGhpcy5zdWJ0aXRsZUJ1dHRvbklubmVyPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1zdWJ0aXRsZS1pY29uIC5kcGxheWVyLWljb24tY29udGVudFwiKSx0aGlzLnN1YnRpdGxlPXRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci1zdWJ0aXRsZVwiKSx0aGlzLnF1YWxpdHlCdXR0b249dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXF1YWxpdHktaWNvblwiKSx0aGlzLmJhclByZXZpZXc9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWJhci1wcmV2aWV3XCIpLHRoaXMuYmFyV3JhcD10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItYmFyLXdyYXBcIiksdGhpcy5ub3RpY2U9dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLW5vdGljZVwiKX19LHtrZXk6XCJ0cGxcIix2YWx1ZTpmdW5jdGlvbihlLHQsbixpKXtyZXR1cm4nPGRpdiBjbGFzcz1cImRwbGF5ZXItbWFza1wiPjwvZGl2PjxkaXYgY2xhc3M9XCJkcGxheWVyLXZpZGVvLXdyYXBcIj4nK3RoaXMudHBsVmlkZW8oITAsZS52aWRlby5waWMsZS5zY3JlZW5zaG90LGUucHJlbG9hZCxlLnZpZGVvLnVybCxlLnN1YnRpdGxlKSsoZS5sb2dvPyc8ZGl2IGNsYXNzPVwiZHBsYXllci1sb2dvXCI+PGltZyBzcmM9XCInK2UubG9nbysnXCI+PC9kaXY+JzpcIlwiKSsnPGRpdiBjbGFzcz1cImRwbGF5ZXItZGFubWFrdVwiIHN0eWxlPVwiJysoZS5kYW5tYWt1P3RoaXMudHBsRGFubWFrdW1hcmdpbihlLmRhbm1ha3UubWFyZ2luKTpcIlwiKSsnXCI+PGRpdiBjbGFzcz1cImRwbGF5ZXItZGFubWFrdS1pdGVtIGRwbGF5ZXItZGFubWFrdS1pdGVtLS1kZW1vXCI+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cImRwbGF5ZXItc3VidGl0bGVcIj48L2Rpdj48ZGl2IGNsYXNzPVwiZHBsYXllci1iZXplbFwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci1iZXplbC1pY29uXCI+PC9zcGFuPicrKGUuZGFubWFrdT8nPHNwYW4gY2xhc3M9XCJkcGxheWVyLWRhbmxvYWRpbmdcIj4nK24oXCJEYW5tYWt1IGlzIGxvYWRpbmdcIikrXCI8L3NwYW4+XCI6XCJcIikrJzxzcGFuIGNsYXNzPVwiZGlwbGF5ZXItbG9hZGluZy1pY29uXCI+PHN2ZyBoZWlnaHQ9XCIxMDAlXCIgdmVyc2lvbj1cIjEuMVwiIHZpZXdCb3g9XCIwIDAgMjIgMjJcIiB3aWR0aD1cIjEwMCVcIj48c3ZnIHg9XCI3XCIgeT1cIjFcIj48Y2lyY2xlIGNsYXNzPVwiZGlwbGF5ZXItbG9hZGluZy1kb3QgZGlwbGF5ZXItbG9hZGluZy1kb3QtMFwiIGN4PVwiNFwiIGN5PVwiNFwiIHI9XCIyXCI+PC9jaXJjbGU+PC9zdmc+PHN2ZyB4PVwiMTFcIiB5PVwiM1wiPjxjaXJjbGUgY2xhc3M9XCJkaXBsYXllci1sb2FkaW5nLWRvdCBkaXBsYXllci1sb2FkaW5nLWRvdC0xXCIgY3g9XCI0XCIgY3k9XCI0XCIgcj1cIjJcIj48L2NpcmNsZT48L3N2Zz48c3ZnIHg9XCIxM1wiIHk9XCI3XCI+PGNpcmNsZSBjbGFzcz1cImRpcGxheWVyLWxvYWRpbmctZG90IGRpcGxheWVyLWxvYWRpbmctZG90LTJcIiBjeD1cIjRcIiBjeT1cIjRcIiByPVwiMlwiPjwvY2lyY2xlPjwvc3ZnPjxzdmcgeD1cIjExXCIgeT1cIjExXCI+PGNpcmNsZSBjbGFzcz1cImRpcGxheWVyLWxvYWRpbmctZG90IGRpcGxheWVyLWxvYWRpbmctZG90LTNcIiBjeD1cIjRcIiBjeT1cIjRcIiByPVwiMlwiPjwvY2lyY2xlPjwvc3ZnPjxzdmcgeD1cIjdcIiB5PVwiMTNcIj48Y2lyY2xlIGNsYXNzPVwiZGlwbGF5ZXItbG9hZGluZy1kb3QgZGlwbGF5ZXItbG9hZGluZy1kb3QtNFwiIGN4PVwiNFwiIGN5PVwiNFwiIHI9XCIyXCI+PC9jaXJjbGU+PC9zdmc+PHN2ZyB4PVwiM1wiIHk9XCIxMVwiPjxjaXJjbGUgY2xhc3M9XCJkaXBsYXllci1sb2FkaW5nLWRvdCBkaXBsYXllci1sb2FkaW5nLWRvdC01XCIgY3g9XCI0XCIgY3k9XCI0XCIgcj1cIjJcIj48L2NpcmNsZT48L3N2Zz48c3ZnIHg9XCIxXCIgeT1cIjdcIj48Y2lyY2xlIGNsYXNzPVwiZGlwbGF5ZXItbG9hZGluZy1kb3QgZGlwbGF5ZXItbG9hZGluZy1kb3QtNlwiIGN4PVwiNFwiIGN5PVwiNFwiIHI9XCIyXCI+PC9jaXJjbGU+PC9zdmc+PHN2ZyB4PVwiM1wiIHk9XCIzXCI+PGNpcmNsZSBjbGFzcz1cImRpcGxheWVyLWxvYWRpbmctZG90IGRpcGxheWVyLWxvYWRpbmctZG90LTdcIiBjeD1cIjRcIiBjeT1cIjRcIiByPVwiMlwiPjwvY2lyY2xlPjwvc3ZnPjwvc3ZnPjwvc3Bhbj48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwiZHBsYXllci1jb250cm9sbGVyLW1hc2tcIj48L2Rpdj48ZGl2IGNsYXNzPVwiZHBsYXllci1jb250cm9sbGVyXCI+PGRpdiBjbGFzcz1cImRwbGF5ZXItaWNvbnMgZHBsYXllci1jb21tZW50LWJveFwiPjxidXR0b24gY2xhc3M9XCJkcGxheWVyLWljb24gZHBsYXllci1jb21tZW50LXNldHRpbmctaWNvblwiIGRhdGEtYmFsbG9vbj1cIicrbihcIlNldHRpbmdcIikrJ1wiIGRhdGEtYmFsbG9vbi1wb3M9XCJ1cFwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci1pY29uLWNvbnRlbnRcIj4nK2kuZ2V0KFwicGFsbGV0dGVcIikrJzwvc3Bhbj48L2J1dHRvbj48ZGl2IGNsYXNzPVwiZHBsYXllci1jb21tZW50LXNldHRpbmctYm94XCI+PGRpdiBjbGFzcz1cImRwbGF5ZXItY29tbWVudC1zZXR0aW5nLWNvbG9yXCI+PGRpdiBjbGFzcz1cImRwbGF5ZXItY29tbWVudC1zZXR0aW5nLXRpdGxlXCI+JytuKFwiU2V0IGRhbm1ha3UgY29sb3JcIikrJzwvZGl2PjxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImRwbGF5ZXItZGFubWFrdS1jb2xvci0nK3QrJ1wiIHZhbHVlPVwiI2ZmZlwiIGNoZWNrZWQ+PHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kOiAjZmZmO1wiPjwvc3Bhbj48L2xhYmVsPjxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImRwbGF5ZXItZGFubWFrdS1jb2xvci0nK3QrJ1wiIHZhbHVlPVwiI2U1NDI1NlwiPjxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZDogI2U1NDI1NlwiPjwvc3Bhbj48L2xhYmVsPjxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImRwbGF5ZXItZGFubWFrdS1jb2xvci0nK3QrJ1wiIHZhbHVlPVwiI2ZmZTEzM1wiPjxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZDogI2ZmZTEzM1wiPjwvc3Bhbj48L2xhYmVsPjxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImRwbGF5ZXItZGFubWFrdS1jb2xvci0nK3QrJ1wiIHZhbHVlPVwiIzY0REQxN1wiPjxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZDogIzY0REQxN1wiPjwvc3Bhbj48L2xhYmVsPjxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImRwbGF5ZXItZGFubWFrdS1jb2xvci0nK3QrJ1wiIHZhbHVlPVwiIzM5Y2NmZlwiPjxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZDogIzM5Y2NmZlwiPjwvc3Bhbj48L2xhYmVsPjxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImRwbGF5ZXItZGFubWFrdS1jb2xvci0nK3QrJ1wiIHZhbHVlPVwiI0Q1MDBGOVwiPjxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZDogI0Q1MDBGOVwiPjwvc3Bhbj48L2xhYmVsPjwvZGl2PjxkaXYgY2xhc3M9XCJkcGxheWVyLWNvbW1lbnQtc2V0dGluZy10eXBlXCI+PGRpdiBjbGFzcz1cImRwbGF5ZXItY29tbWVudC1zZXR0aW5nLXRpdGxlXCI+JytuKFwiU2V0IGRhbm1ha3UgdHlwZVwiKSsnPC9kaXY+PGxhYmVsPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiZHBsYXllci1kYW5tYWt1LXR5cGUtJyt0KydcIiB2YWx1ZT1cInRvcFwiPjxzcGFuPicrbihcIlRvcFwiKSsnPC9zcGFuPjwvbGFiZWw+PGxhYmVsPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiZHBsYXllci1kYW5tYWt1LXR5cGUtJyt0KydcIiB2YWx1ZT1cInJpZ2h0XCIgY2hlY2tlZD48c3Bhbj4nK24oXCJSb2xsaW5nXCIpKyc8L3NwYW4+PC9sYWJlbD48bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJkcGxheWVyLWRhbm1ha3UtdHlwZS0nK3QrJ1wiIHZhbHVlPVwiYm90dG9tXCI+PHNwYW4+JytuKFwiQm90dG9tXCIpKyc8L3NwYW4+PC9sYWJlbD48L2Rpdj48L2Rpdj48aW5wdXQgY2xhc3M9XCJkcGxheWVyLWNvbW1lbnQtaW5wdXRcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiJytuKFwiSW5wdXQgZGFubWFrdSwgaGl0IEVudGVyXCIpKydcIiBtYXhsZW5ndGg9XCIzMFwiPjxidXR0b24gY2xhc3M9XCJkcGxheWVyLWljb24gZHBsYXllci1zZW5kLWljb25cIiBkYXRhLWJhbGxvb249XCInK24oXCJTZW5kXCIpKydcIiBkYXRhLWJhbGxvb24tcG9zPVwidXBcIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItaWNvbi1jb250ZW50XCI+JytpLmdldChcInNlbmRcIikrJzwvc3Bhbj48L2J1dHRvbj48L2Rpdj48ZGl2IGNsYXNzPVwiZHBsYXllci1pY29ucyBkcGxheWVyLWljb25zLWxlZnRcIj48YnV0dG9uIGNsYXNzPVwiZHBsYXllci1pY29uIGRwbGF5ZXItcGxheS1pY29uXCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLWljb24tY29udGVudFwiPicraS5nZXQoXCJwbGF5XCIpKyc8L3NwYW4+PC9idXR0b24+PGRpdiBjbGFzcz1cImRwbGF5ZXItdm9sdW1lXCI+PGJ1dHRvbiBjbGFzcz1cImRwbGF5ZXItaWNvbiBkcGxheWVyLXZvbHVtZS1pY29uXCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLWljb24tY29udGVudFwiPicraS5nZXQoXCJ2b2x1bWUtZG93blwiKSsnPC9zcGFuPjwvYnV0dG9uPjxkaXYgY2xhc3M9XCJkcGxheWVyLXZvbHVtZS1iYXItd3JhcFwiIGRhdGEtYmFsbG9vbi1wb3M9XCJ1cFwiPjxkaXYgY2xhc3M9XCJkcGxheWVyLXZvbHVtZS1iYXJcIj48ZGl2IGNsYXNzPVwiZHBsYXllci12b2x1bWUtYmFyLWlubmVyXCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiAnK2UudGhlbWUrJztcIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItdGh1bWJcIiBzdHlsZT1cImJhY2tncm91bmQ6ICcrZS50aGVtZSsnXCI+PC9zcGFuPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjxzcGFuIGNsYXNzPVwiZHBsYXllci10aW1lXCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLXB0aW1lXCI+MDowMDwvc3Bhbj4gLyA8c3BhbiBjbGFzcz1cImRwbGF5ZXItZHRpbWVcIj4wOjAwPC9zcGFuPjwvc3Bhbj4nKyhlLmxpdmU/JzxzcGFuIGNsYXNzPVwiZHBsYXllci1saXZlLWJhZGdlXCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLWxpdmUtZG90XCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiAnK2UudGhlbWUrJztcIj48L3NwYW4+JytuKFwiTGl2ZVwiKStcIjwvc3Bhbj5cIjpcIlwiKSsnPC9kaXY+PGRpdiBjbGFzcz1cImRwbGF5ZXItaWNvbnMgZHBsYXllci1pY29ucy1yaWdodFwiPicrKGUudmlkZW8ucXVhbGl0eT8nPGRpdiBjbGFzcz1cImRwbGF5ZXItcXVhbGl0eVwiPjxidXR0b24gY2xhc3M9XCJkcGxheWVyLWljb24gZHBsYXllci1xdWFsaXR5LWljb25cIj4nK2UudmlkZW8ucXVhbGl0eVtlLnZpZGVvLmRlZmF1bHRRdWFsaXR5XS5uYW1lKyc8L2J1dHRvbj48ZGl2IGNsYXNzPVwiZHBsYXllci1xdWFsaXR5LW1hc2tcIj4nK3RoaXMudHBsUXVhbGl0eUxpc3QoZS52aWRlby5xdWFsaXR5KStcIjwvZGl2PjwvZGl2PlwiOlwiXCIpKyhlLnNjcmVlbnNob3Q/JzxhIGhyZWY9XCIjXCIgY2xhc3M9XCJkcGxheWVyLWljb24gZHBsYXllci1jYW1lcmEtaWNvblwiIGRhdGEtYmFsbG9vbj1cIicrbihcIlNjcmVlbnNob3RcIikrJ1wiIGRhdGEtYmFsbG9vbi1wb3M9XCJ1cFwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci1pY29uLWNvbnRlbnRcIj4nK2kuZ2V0KFwiY2FtZXJhXCIpK1wiPC9zcGFuPjwvYT5cIjpcIlwiKSsnPGRpdiBjbGFzcz1cImRwbGF5ZXItY29tbWVudFwiPjxidXR0b24gY2xhc3M9XCJkcGxheWVyLWljb24gZHBsYXllci1jb21tZW50LWljb25cIiBkYXRhLWJhbGxvb249XCInK24oXCJTZW5kIGRhbm1ha3VcIikrJ1wiIGRhdGEtYmFsbG9vbi1wb3M9XCJ1cFwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci1pY29uLWNvbnRlbnRcIj4nK2kuZ2V0KFwiY29tbWVudFwiKStcIjwvc3Bhbj48L2J1dHRvbj48L2Rpdj5cIisoZS5zdWJ0aXRsZT8nPGRpdiBjbGFzcz1cImRwbGF5ZXItc3VidGl0bGUtYnRuXCI+PGJ1dHRvbiBjbGFzcz1cImRwbGF5ZXItaWNvbiBkcGxheWVyLXN1YnRpdGxlLWljb25cIiBkYXRhLWJhbGxvb249XCInK24oXCJIaWRlIHN1YnRpdGxlXCIpKydcIiBkYXRhLWJhbGxvb24tcG9zPVwidXBcIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItaWNvbi1jb250ZW50XCI+JytpLmdldChcInN1YnRpdGxlXCIpK1wiPC9zcGFuPjwvYnV0dG9uPjwvZGl2PlwiOlwiXCIpKyc8ZGl2IGNsYXNzPVwiZHBsYXllci1zZXR0aW5nXCI+PGJ1dHRvbiBjbGFzcz1cImRwbGF5ZXItaWNvbiBkcGxheWVyLXNldHRpbmctaWNvblwiIGRhdGEtYmFsbG9vbj1cIicrbihcIlNldHRpbmdcIikrJ1wiIGRhdGEtYmFsbG9vbi1wb3M9XCJ1cFwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci1pY29uLWNvbnRlbnRcIj4nK2kuZ2V0KFwic2V0dGluZ1wiKSsnPC9zcGFuPjwvYnV0dG9uPjxkaXYgY2xhc3M9XCJkcGxheWVyLXNldHRpbmctYm94XCI+PGRpdiBjbGFzcz1cImRwbGF5ZXItc2V0dGluZy1vcmlnaW4tcGFuZWxcIj48ZGl2IGNsYXNzPVwiZHBsYXllci1zZXR0aW5nLWl0ZW0gZHBsYXllci1zZXR0aW5nLXNwZWVkXCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLWxhYmVsXCI+JytuKFwiU3BlZWRcIikrJzwvc3Bhbj48ZGl2IGNsYXNzPVwiZHBsYXllci10b2dnbGVcIj4nK2kuZ2V0KFwicmlnaHRcIikrJzwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJkcGxheWVyLXNldHRpbmctaXRlbSBkcGxheWVyLXNldHRpbmctbG9vcFwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci1sYWJlbFwiPicrbihcIkxvb3BcIikrJzwvc3Bhbj48ZGl2IGNsYXNzPVwiZHBsYXllci10b2dnbGVcIj48aW5wdXQgY2xhc3M9XCJkcGxheWVyLXRvZ2dsZS1zZXR0aW5nLWlucHV0XCIgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cImRwbGF5ZXItdG9nZ2xlXCI+PGxhYmVsIGZvcj1cImRwbGF5ZXItdG9nZ2xlXCI+PC9sYWJlbD48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwiZHBsYXllci1zZXR0aW5nLWl0ZW0gZHBsYXllci1zZXR0aW5nLXNob3dkYW5cIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItbGFiZWxcIj4nK24oXCJTaG93IGRhbm1ha3VcIikrJzwvc3Bhbj48ZGl2IGNsYXNzPVwiZHBsYXllci10b2dnbGVcIj48aW5wdXQgY2xhc3M9XCJkcGxheWVyLXNob3dkYW4tc2V0dGluZy1pbnB1dFwiIHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJkcGxheWVyLXRvZ2dsZS1kYW5cIj48bGFiZWwgZm9yPVwiZHBsYXllci10b2dnbGUtZGFuXCI+PC9sYWJlbD48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwiZHBsYXllci1zZXR0aW5nLWl0ZW0gZHBsYXllci1zZXR0aW5nLWRhbnVubGltaXRcIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItbGFiZWxcIj4nK24oXCJVbmxpbWl0ZWQgZGFubWFrdVwiKSsnPC9zcGFuPjxkaXYgY2xhc3M9XCJkcGxheWVyLXRvZ2dsZVwiPjxpbnB1dCBjbGFzcz1cImRwbGF5ZXItZGFudW5saW1pdC1zZXR0aW5nLWlucHV0XCIgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cImRwbGF5ZXItdG9nZ2xlLWRhbnVubGltaXRcIj48bGFiZWwgZm9yPVwiZHBsYXllci10b2dnbGUtZGFudW5saW1pdFwiPjwvbGFiZWw+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cImRwbGF5ZXItc2V0dGluZy1pdGVtIGRwbGF5ZXItc2V0dGluZy1kYW5tYWt1XCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLWxhYmVsXCI+JytuKFwiT3BhY2l0eSBmb3IgZGFubWFrdVwiKSsnPC9zcGFuPjxkaXYgY2xhc3M9XCJkcGxheWVyLWRhbm1ha3UtYmFyLXdyYXBcIj48ZGl2IGNsYXNzPVwiZHBsYXllci1kYW5tYWt1LWJhclwiPjxkaXYgY2xhc3M9XCJkcGxheWVyLWRhbm1ha3UtYmFyLWlubmVyXCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLXRodW1iXCI+PC9zcGFuPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJkcGxheWVyLXNldHRpbmctc3BlZWQtcGFuZWxcIj48ZGl2IGNsYXNzPVwiZHBsYXllci1zZXR0aW5nLXNwZWVkLWl0ZW1cIiBkYXRhLXNwZWVkPVwiMC41XCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLWxhYmVsXCI+MC41PC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XCJkcGxheWVyLXNldHRpbmctc3BlZWQtaXRlbVwiIGRhdGEtc3BlZWQ9XCIwLjc1XCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLWxhYmVsXCI+MC43NTwvc3Bhbj48L2Rpdj48ZGl2IGNsYXNzPVwiZHBsYXllci1zZXR0aW5nLXNwZWVkLWl0ZW1cIiBkYXRhLXNwZWVkPVwiMVwiPjxzcGFuIGNsYXNzPVwiZHBsYXllci1sYWJlbFwiPicrbihcIk5vcm1hbFwiKSsnPC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XCJkcGxheWVyLXNldHRpbmctc3BlZWQtaXRlbVwiIGRhdGEtc3BlZWQ9XCIxLjI1XCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLWxhYmVsXCI+MS4yNTwvc3Bhbj48L2Rpdj48ZGl2IGNsYXNzPVwiZHBsYXllci1zZXR0aW5nLXNwZWVkLWl0ZW1cIiBkYXRhLXNwZWVkPVwiMS41XCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLWxhYmVsXCI+MS41PC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XCJkcGxheWVyLXNldHRpbmctc3BlZWQtaXRlbVwiIGRhdGEtc3BlZWQ9XCIyXCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLWxhYmVsXCI+Mjwvc3Bhbj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwiZHBsYXllci1mdWxsXCI+PGJ1dHRvbiBjbGFzcz1cImRwbGF5ZXItaWNvbiBkcGxheWVyLWZ1bGwtaW4taWNvblwiIGRhdGEtYmFsbG9vbj1cIicrbihcIldlYiBmdWxsIHNjcmVlblwiKSsnXCIgZGF0YS1iYWxsb29uLXBvcz1cInVwXCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLWljb24tY29udGVudFwiPicraS5nZXQoXCJmdWxsLWluXCIpKyc8L3NwYW4+PC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cImRwbGF5ZXItaWNvbiBkcGxheWVyLWZ1bGwtaWNvblwiIGRhdGEtYmFsbG9vbj1cIicrbihcIkZ1bGwgc2NyZWVuXCIpKydcIiBkYXRhLWJhbGxvb24tcG9zPVwidXBcIj48c3BhbiBjbGFzcz1cImRwbGF5ZXItaWNvbi1jb250ZW50XCI+JytpLmdldChcImZ1bGxcIikrJzwvc3Bhbj48L2J1dHRvbj48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwiZHBsYXllci1iYXItd3JhcFwiPjxkaXYgY2xhc3M9XCJkcGxheWVyLWJhci10aW1lIGhpZGRlblwiPjAwOjAwPC9kaXY+PGRpdiBjbGFzcz1cImRwbGF5ZXItYmFyLXByZXZpZXdcIj48L2Rpdj48ZGl2IGNsYXNzPVwiZHBsYXllci1iYXJcIj48ZGl2IGNsYXNzPVwiZHBsYXllci1sb2FkZWRcIiBzdHlsZT1cIndpZHRoOiAwO1wiPjwvZGl2PjxkaXYgY2xhc3M9XCJkcGxheWVyLXBsYXllZFwiIHN0eWxlPVwid2lkdGg6IDA7IGJhY2tncm91bmQ6ICcrZS50aGVtZSsnXCI+PHNwYW4gY2xhc3M9XCJkcGxheWVyLXRodW1iXCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiAnK2UudGhlbWUrJ1wiPjwvc3Bhbj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj4nK3RoaXMudHBsQ29udGV4dG1lbnVMaXN0KGUuY29udGV4dG1lbnUsbikrJzxkaXYgY2xhc3M9XCJkcGxheWVyLW5vdGljZVwiPjwvZGl2Pid9fSx7a2V5OlwidHBsRGFubWFrdW1hcmdpblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PVwiXCI7aWYoZSlmb3IodmFyIG4gaW4gZSl0Kz1uK1wiOlwiK2Vbbl0rXCI7XCI7cmV0dXJuIHR9fSx7a2V5OlwidHBsQ29udGV4dG1lbnVMaXN0XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49JzxkaXYgY2xhc3M9XCJkcGxheWVyLW1lbnVcIj4nLGk9MDtpPGUubGVuZ3RoO2krKyluKz0nPGRpdiBjbGFzcz1cImRwbGF5ZXItbWVudS1pdGVtXCI+PGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIicrZVtpXS5saW5rKydcIj4nK3QoZVtpXS50ZXh0KStcIjwvYT48L2Rpdj5cIjtyZXR1cm4gbis9XCI8L2Rpdj5cIn19LHtrZXk6XCJ0cGxRdWFsaXR5TGlzdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0nPGRpdiBjbGFzcz1cImRwbGF5ZXItcXVhbGl0eS1saXN0XCI+JyxuPTA7bjxlLmxlbmd0aDtuKyspdCs9JzxkaXYgY2xhc3M9XCJkcGxheWVyLXF1YWxpdHktaXRlbVwiIGRhdGEtaW5kZXg9XCInK24rJ1wiPicrZVtuXS5uYW1lK1wiPC9kaXY+XCI7cmV0dXJuIHQrPVwiPC9kaXY+XCJ9fSx7a2V5OlwidHBsVmlkZW9cIix2YWx1ZTpmdW5jdGlvbihlLHQsbixpLGEsbyl7dmFyIHM9byYmXCJ3ZWJ2dHRcIj09PW8udHlwZTtyZXR1cm4nPHZpZGVvIGNsYXNzPVwiZHBsYXllci12aWRlbyAnKyhlPydkcGxheWVyLXZpZGVvLWN1cnJlbnRcIic6XCJcIikrJ1wiICcrKHQ/J3Bvc3Rlcj1cIicrdCsnXCInOlwiXCIpK1wiIHdlYmtpdC1wbGF5c2lubGluZSBwbGF5c2lubGluZSBcIisobnx8cz8nY3Jvc3NvcmlnaW49XCJhbm9ueW1vdXNcIic6XCJcIikrXCIgXCIrKGk/J3ByZWxvYWQ9XCInK2krJ1wiJzpcIlwiKSsnIHNyYz1cIicrYSsnXCI+Jysocz8nPHRyYWNrIGtpbmQ9XCJtZXRhZGF0YVwiIGRlZmF1bHQgc3JjPVwiJytvLnVybCsnXCI+PC90cmFjaz4nOlwiXCIpK1wiPC92aWRlbz5cIn19XSksZX0oKTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7aSh0aGlzLGUpLHRoaXMuaWNvbnM9dC5pY29ucyx0aGlzLmljb25Db2xvcj10Lmljb25zQ29sb3J9cmV0dXJuIGEoZSxbe2tleTpcImdldFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybic8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIicrKHRoaXMuaWNvbnNbZV1bMl18fFwiMTAwJVwiKSsnXCIgaGVpZ2h0PVwiJysodGhpcy5pY29uc1tlXVsyXXx8XCIxMDAlXCIpKydcIiB2ZXJzaW9uPVwiMS4xXCIgdmlld0JveD1cIicrdGhpcy5pY29uc1tlXVswXSsnXCI+PHBhdGggY2xhc3M9XCJkcGxheWVyLWZpbGxcIiBzdHlsZT1cImZpbGw6Jyt0aGlzLmljb25Db2xvcisnXCIgZD1cIicrdGhpcy5pY29uc1tlXVsxXSsnXCIgaWQ9XCJkcGxheWVyLScrZSsnXCI+PC9wYXRoPjwvc3ZnPid9fV0pLGV9KCk7dC5kZWZhdWx0PW99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7aSh0aGlzLGUpLHRoaXMub3B0aW9ucz10LHRoaXMuY29udGFpbmVyPXRoaXMub3B0aW9ucy5jb250YWluZXIsdGhpcy5kYW5UdW5uZWw9e3JpZ2h0Ont9LHRvcDp7fSxib3R0b206e319LHRoaXMuZGFuSW5kZXg9MCx0aGlzLmRhbj1bXSx0aGlzLnNob3dpbmc9ITAsdGhpcy5fb3BhY2l0eT10aGlzLm9wdGlvbnMub3BhY2l0eSx0aGlzLmV2ZW50cz10aGlzLm9wdGlvbnMuZXZlbnRzLHRoaXMudW5saW1pdGVkPXRoaXMub3B0aW9ucy51bmxpbWl0ZWQsdGhpcy5fbWVhc3VyZShcIlwiKSx0aGlzLmxvYWQoKX1yZXR1cm4gbyhlLFt7a2V5OlwibG9hZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXZvaWQgMDt0PXRoaXMub3B0aW9ucy5hcGkubWF4aW11bT90aGlzLm9wdGlvbnMuYXBpLmFkZHJlc3MrXCJ2Mi8/aWQ9XCIrdGhpcy5vcHRpb25zLmFwaS5pZCtcIiZtYXg9XCIrdGhpcy5vcHRpb25zLmFwaS5tYXhpbXVtOnRoaXMub3B0aW9ucy5hcGkuYWRkcmVzcytcInYyLz9pZD1cIit0aGlzLm9wdGlvbnMuYXBpLmlkO3ZhciBuPSh0aGlzLm9wdGlvbnMuYXBpLmFkZGl0aW9ufHxbXSkuc2xpY2UoMCk7bi5wdXNoKHQpLHRoaXMuZXZlbnRzJiZ0aGlzLmV2ZW50cy50cmlnZ2VyKFwiZGFubWFrdV9sb2FkX3N0YXJ0XCIsbiksdGhpcy5fcmVhZEFsbEVuZHBvaW50cyhuLGZ1bmN0aW9uKHQpe2UuZGFuPVtdLmNvbmNhdC5hcHBseShbXSx0KS5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudGltZS10LnRpbWV9KSx3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7ZS5mcmFtZSgpfSksZS5vcHRpb25zLmNhbGxiYWNrKCksZS5ldmVudHMmJmUuZXZlbnRzLnRyaWdnZXIoXCJkYW5tYWt1X2xvYWRfZW5kXCIpfSl9fSx7a2V5OlwicmVsb2FkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5vcHRpb25zLmFwaT1lLHRoaXMuZGFuPVtdLHRoaXMuY2xlYXIoKSx0aGlzLmxvYWQoKX19LHtrZXk6XCJfcmVhZEFsbEVuZHBvaW50c1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMsaT1bXSxhPTAsbz0wO288ZS5sZW5ndGg7KytvKXRoaXMub3B0aW9ucy5hcGlCYWNrZW5kLnJlYWQoZVtvXSxmdW5jdGlvbihvKXtyZXR1cm4gZnVuY3Rpb24ocyxyKXtpZigrK2EscylzLnJlc3BvbnNlP24ub3B0aW9ucy5lcnJvcihzLnJlc3BvbnNlLm1zZyk6bi5vcHRpb25zLmVycm9yKFwiUmVxdWVzdCB3YXMgdW5zdWNjZXNzZnVsOiBcIitzLnN0YXR1cyksaVtvXT1bXTtlbHNle3ZhciBsPVtcInJpZ2h0XCIsXCJ0b3BcIixcImJvdHRvbVwiXTtpW29dPXI/ci5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3RpbWU6ZVswXSx0eXBlOmxbZVsxXV0sY29sb3I6ZVsyXSxhdXRob3I6ZVszXSx0ZXh0OmVbNF19fSk6W119aWYoYT09PWUubGVuZ3RoKXJldHVybiB0KGkpfX0obykpfX0se2tleTpcInNlbmRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXt0b2tlbjp0aGlzLm9wdGlvbnMuYXBpLnRva2VuLHBsYXllcjp0aGlzLm9wdGlvbnMuYXBpLmlkLGF1dGhvcjp0aGlzLm9wdGlvbnMuYXBpLnVzZXIsdGltZTp0aGlzLm9wdGlvbnMudGltZSgpLHRleHQ6ZS50ZXh0LGNvbG9yOmUuY29sb3IsdHlwZTplLnR5cGV9O3RoaXMub3B0aW9ucy5hcGlCYWNrZW5kLnNlbmQodGhpcy5vcHRpb25zLmFwaS5hZGRyZXNzK1widjIvXCIsbix0KSx0aGlzLmRhbi5zcGxpY2UodGhpcy5kYW5JbmRleCwwLG4pLHRoaXMuZGFuSW5kZXgrKzt2YXIgaT17dGV4dDp0aGlzLmh0bWxFbmNvZGUobi50ZXh0KSxjb2xvcjpuLmNvbG9yLHR5cGU6bi50eXBlLGJvcmRlcjpcIjJweCBzb2xpZCBcIit0aGlzLm9wdGlvbnMuYm9yZGVyQ29sb3J9O3RoaXMuZHJhdyhpKSx0aGlzLmV2ZW50cyYmdGhpcy5ldmVudHMudHJpZ2dlcihcImRhbm1ha3Vfc2VuZFwiLG4pfX0se2tleTpcImZyYW1lXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMuZGFuLmxlbmd0aCYmIXRoaXMucGF1c2VkJiZ0aGlzLnNob3dpbmcpe2Zvcih2YXIgdD10aGlzLmRhblt0aGlzLmRhbkluZGV4XSxuPVtdO3QmJnRoaXMub3B0aW9ucy50aW1lKCk+cGFyc2VGbG9hdCh0LnRpbWUpOyluLnB1c2godCksdD10aGlzLmRhblsrK3RoaXMuZGFuSW5kZXhdO3RoaXMuZHJhdyhuKX13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7ZS5mcmFtZSgpfSl9fSx7a2V5Olwib3BhY2l0eVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PWUpe2Zvcih2YXIgdD10aGlzLmNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZHBsYXllci1kYW5tYWt1LWl0ZW1cIiksbj0wO248dC5sZW5ndGg7bisrKXRbbl0uc3R5bGUub3BhY2l0eT1lO3RoaXMuX29wYWNpdHk9ZSx0aGlzLmV2ZW50cyYmdGhpcy5ldmVudHMudHJpZ2dlcihcImRhbm1ha3Vfb3BhY2l0eVwiLHRoaXMuX29wYWNpdHkpfXJldHVybiB0aGlzLl9vcGFjaXR5fX0se2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMuc2hvd2luZyl7dmFyIG49dGhpcy5vcHRpb25zLmhlaWdodCxpPXRoaXMuY29udGFpbmVyLm9mZnNldFdpZHRoLG89dGhpcy5jb250YWluZXIub2Zmc2V0SGVpZ2h0LHM9cGFyc2VJbnQoby9uKSxyPWZ1bmN0aW9uKGUpe3ZhciBuPWUub2Zmc2V0V2lkdGh8fHBhcnNlSW50KGUuc3R5bGUud2lkdGgpLGk9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodHx8dC5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQrbjtyZXR1cm4gdC5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQtaX0sbD1mdW5jdGlvbihlKXtyZXR1cm4oaStlKS81fSxjPWZ1bmN0aW9uKGUsbixvKXtmb3IodmFyIGM9aS9sKG8pLHU9MDt0LnVubGltaXRlZHx8dTxzO3UrKyl7dmFyIGQ9ZnVuY3Rpb24oYSl7dmFyIG89dC5kYW5UdW5uZWxbbl1bYStcIlwiXTtpZighb3x8IW8ubGVuZ3RoKXJldHVybiB0LmRhblR1bm5lbFtuXVthK1wiXCJdPVtlXSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIixmdW5jdGlvbigpe3QuZGFuVHVubmVsW25dW2ErXCJcIl0uc3BsaWNlKDAsMSl9KSx7djphJXN9O2lmKFwicmlnaHRcIiE9PW4pcmV0dXJuXCJjb250aW51ZVwiO2Zvcih2YXIgdT0wO3U8by5sZW5ndGg7dSsrKXt2YXIgZD1yKG9bdV0pLTEwO2lmKGQ8PWktYypsKHBhcnNlSW50KG9bdV0uc3R5bGUud2lkdGgpKXx8ZDw9MClicmVhaztpZih1PT09by5sZW5ndGgtMSlyZXR1cm4gdC5kYW5UdW5uZWxbbl1bYStcIlwiXS5wdXNoKGUpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLGZ1bmN0aW9uKCl7dC5kYW5UdW5uZWxbbl1bYStcIlwiXS5zcGxpY2UoMCwxKX0pLHt2OmElc319fSh1KTtzd2l0Y2goZCl7Y2FzZVwiY29udGludWVcIjpjb250aW51ZTtkZWZhdWx0OmlmKFwib2JqZWN0XCI9PT0odm9pZCAwPT09ZD9cInVuZGVmaW5lZFwiOmEoZCkpKXJldHVybiBkLnZ9fXJldHVybi0xfTtcIltvYmplY3QgQXJyYXldXCIhPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkmJihlPVtlXSk7Zm9yKHZhciB1PWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxkPTA7ZDxlLmxlbmd0aDtkKyspIWZ1bmN0aW9uKGEpe2VbYV0udHlwZXx8KGVbYV0udHlwZT1cInJpZ2h0XCIpLGVbYV0uY29sb3J8fChlW2FdLmNvbG9yPVwiI2ZmZlwiKTt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO28uY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItZGFubWFrdS1pdGVtXCIpLG8uY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItZGFubWFrdS1cIitlW2FdLnR5cGUpLGVbYV0uYm9yZGVyP28uaW5uZXJIVE1MPSc8c3BhbiBzdHlsZT1cImJvcmRlcjonK2VbYV0uYm9yZGVyKydcIj4nK2VbYV0udGV4dCtcIjwvc3Bhbj5cIjpvLmlubmVySFRNTD1lW2FdLnRleHQsby5zdHlsZS5vcGFjaXR5PXQuX29wYWNpdHksby5zdHlsZS5jb2xvcj1lW2FdLmNvbG9yLG8uYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLGZ1bmN0aW9uKCl7dC5jb250YWluZXIucmVtb3ZlQ2hpbGQobyl9KTt2YXIgcz10Ll9tZWFzdXJlKGVbYV0udGV4dCkscj12b2lkIDA7c3dpdGNoKGVbYV0udHlwZSl7Y2FzZVwicmlnaHRcIjpyPWMobyxlW2FdLnR5cGUscykscj49MCYmKG8uc3R5bGUud2lkdGg9cysxK1wicHhcIixvLnN0eWxlLnRvcD1uKnIrXCJweFwiLG8uc3R5bGUudHJhbnNmb3JtPVwidHJhbnNsYXRlWCgtXCIraStcInB4KVwiKTticmVhaztjYXNlXCJ0b3BcIjpyPWMobyxlW2FdLnR5cGUpLHI+PTAmJihvLnN0eWxlLnRvcD1uKnIrXCJweFwiKTticmVhaztjYXNlXCJib3R0b21cIjpyPWMobyxlW2FdLnR5cGUpLHI+PTAmJihvLnN0eWxlLmJvdHRvbT1uKnIrXCJweFwiKTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoXCJDYW4ndCBoYW5kbGVkIGRhbm1ha3UgdHlwZTogXCIrZVthXS50eXBlKX1yPj0wJiYoby5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1kYW5tYWt1LW1vdmVcIiksdS5hcHBlbmRDaGlsZChvKSl9KGQpO3JldHVybiB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh1KSx1fX19LHtrZXk6XCJwbGF5XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBhdXNlZD0hMX19LHtrZXk6XCJwYXVzZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wYXVzZWQ9ITB9fSx7a2V5OlwiX21lYXN1cmVcIix2YWx1ZTpmdW5jdGlvbihlKXtpZighdGhpcy5jb250ZXh0KXt2YXIgdD1nZXRDb21wdXRlZFN0eWxlKHRoaXMuY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJkcGxheWVyLWRhbm1ha3UtaXRlbVwiKVswXSxudWxsKTt0aGlzLmNvbnRleHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKS5nZXRDb250ZXh0KFwiMmRcIiksdGhpcy5jb250ZXh0LmZvbnQ9dC5nZXRQcm9wZXJ0eVZhbHVlKFwiZm9udFwiKX1yZXR1cm4gdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KGUpLndpZHRofX0se2tleTpcInNlZWtcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY2xlYXIoKTtmb3IodmFyIGU9MDtlPHRoaXMuZGFuLmxlbmd0aDtlKyspe2lmKHRoaXMuZGFuW2VdLnRpbWU+PXRoaXMub3B0aW9ucy50aW1lKCkpe3RoaXMuZGFuSW5kZXg9ZTticmVha310aGlzLmRhbkluZGV4PXRoaXMuZGFuLmxlbmd0aH19fSx7a2V5OlwiY2xlYXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZGFuVHVubmVsPXtyaWdodDp7fSx0b3A6e30sYm90dG9tOnt9fSx0aGlzLmRhbkluZGV4PTAsdGhpcy5vcHRpb25zLmNvbnRhaW5lci5pbm5lckhUTUw9XCJcIix0aGlzLmV2ZW50cyYmdGhpcy5ldmVudHMudHJpZ2dlcihcImRhbm1ha3VfY2xlYXJcIil9fSx7a2V5OlwiaHRtbEVuY29kZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyYvZyxcIiZhbXA7XCIpLnJlcGxhY2UoLzwvZyxcIiZsdDtcIikucmVwbGFjZSgvPi9nLFwiJmd0O1wiKS5yZXBsYWNlKC9cIi9nLFwiJnF1b3Q7XCIpLnJlcGxhY2UoLycvZyxcIiYjeDI3O1wiKS5yZXBsYWNlKC9cXC8vZyxcIiYjeDJmO1wiKX19LHtrZXk6XCJyZXNpemVcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmNvbnRhaW5lci5vZmZzZXRXaWR0aCx0PXRoaXMuY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJkcGxheWVyLWRhbm1ha3UtaXRlbVwiKSxuPTA7bjx0Lmxlbmd0aDtuKyspdFtuXS5zdHlsZS50cmFuc2Zvcm09XCJ0cmFuc2xhdGVYKC1cIitlK1wicHgpXCJ9fSx7a2V5OlwiaGlkZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zaG93aW5nPSExLHRoaXMucGF1c2UoKSx0aGlzLmNsZWFyKCksdGhpcy5ldmVudHMmJnRoaXMuZXZlbnRzLnRyaWdnZXIoXCJkYW5tYWt1X2hpZGVcIil9fSx7a2V5Olwic2hvd1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZWVrKCksdGhpcy5zaG93aW5nPSEwLHRoaXMucGxheSgpLHRoaXMuZXZlbnRzJiZ0aGlzLmV2ZW50cy50cmlnZ2VyKFwiZGFubWFrdV9zaG93XCIpfX0se2tleTpcInVubGltaXRcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnVubGltaXRlZD1lfX1dKSxlfSgpO3QuZGVmYXVsdD1zfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2kodGhpcyxlKSx0aGlzLmV2ZW50cz17fSx0aGlzLnZpZGVvRXZlbnRzPVtcImFib3J0XCIsXCJjYW5wbGF5XCIsXCJjYW5wbGF5dGhyb3VnaFwiLFwiZHVyYXRpb25jaGFuZ2VcIixcImVtcHRpZWRcIixcImVuZGVkXCIsXCJlcnJvclwiLFwibG9hZGVkZGF0YVwiLFwibG9hZGVkbWV0YWRhdGFcIixcImxvYWRzdGFydFwiLFwibW96YXVkaW9hdmFpbGFibGVcIixcInBhdXNlXCIsXCJwbGF5XCIsXCJwbGF5aW5nXCIsXCJwcm9ncmVzc1wiLFwicmF0ZWNoYW5nZVwiLFwic2Vla2VkXCIsXCJzZWVraW5nXCIsXCJzdGFsbGVkXCIsXCJzdXNwZW5kXCIsXCJ0aW1ldXBkYXRlXCIsXCJ2b2x1bWVjaGFuZ2VcIixcIndhaXRpbmdcIl0sdGhpcy5wbGF5ZXJFdmVudHM9W1wic2NyZWVuc2hvdFwiLFwidGh1bWJuYWlsc19zaG93XCIsXCJ0aHVtYm5haWxzX2hpZGVcIixcImRhbm1ha3Vfc2hvd1wiLFwiZGFubWFrdV9oaWRlXCIsXCJkYW5tYWt1X2NsZWFyXCIsXCJkYW5tYWt1X2xvYWRlZFwiLFwiZGFubWFrdV9zZW5kXCIsXCJkYW5tYWt1X29wYWNpdHlcIixcImNvbnRleHRtZW51X3Nob3dcIixcImNvbnRleHRtZW51X2hpZGVcIixcIm5vdGljZV9zaG93XCIsXCJub3RpY2VfaGlkZVwiLFwicXVhbGl0eV9zdGFydFwiLFwicXVhbGl0eV9lbmRcIixcImRlc3Ryb3lcIixcInJlc2l6ZVwiLFwiZnVsbHNjcmVlblwiLFwiZnVsbHNjcmVlbl9jYW5jZWxcIixcIndlYmZ1bGxzY3JlZW5cIixcIndlYmZ1bGxzY3JlZW5fY2FuY2VsXCIsXCJzdWJ0aXRsZV9zaG93XCIsXCJzdWJ0aXRsZV9oaWRlXCIsXCJzdWJ0aXRsZV9jaGFuZ2VcIl19cmV0dXJuIGEoZSxbe2tleTpcIm9uXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLnR5cGUoZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJih0aGlzLmV2ZW50c1tlXXx8KHRoaXMuZXZlbnRzW2VdPVtdKSx0aGlzLmV2ZW50c1tlXS5wdXNoKHQpKX19LHtrZXk6XCJ0cmlnZ2VyXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmV2ZW50c1tlXSYmdGhpcy5ldmVudHNbZV0ubGVuZ3RoKWZvcih2YXIgbj0wO248dGhpcy5ldmVudHNbZV0ubGVuZ3RoO24rKyl0aGlzLmV2ZW50c1tlXVtuXSh0KX19LHtrZXk6XCJ0eXBlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT10aGlzLnBsYXllckV2ZW50cy5pbmRleE9mKGUpP1wicGxheWVyXCI6LTEhPT10aGlzLnZpZGVvRXZlbnRzLmluZGV4T2YoZSk/XCJ2aWRlb1wiOihjb25zb2xlLmVycm9yKFwiVW5rbm93biBldmVudCBuYW1lOiBcIitlKSxudWxsKX19XSksZX0oKTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCksbz1uKDApLHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShvKSxyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgbj10aGlzO2kodGhpcyxlKSx0aGlzLnBsYXllcj10LHRoaXMucGxheWVyLmV2ZW50cy5vbihcIndlYmZ1bGxzY3JlZW5cIixmdW5jdGlvbigpe24ucGxheWVyLnJlc2l6ZSgpfSksdGhpcy5wbGF5ZXIuZXZlbnRzLm9uKFwid2ViZnVsbHNjcmVlbl9jYW5jZWxcIixmdW5jdGlvbigpe24ucGxheWVyLnJlc2l6ZSgpLHMuZGVmYXVsdC5zZXRTY3JvbGxQb3NpdGlvbihuLmxhc3RTY3JvbGxQb3NpdGlvbil9KTt2YXIgYT1mdW5jdGlvbigpe24ucGxheWVyLnJlc2l6ZSgpLG4uaXNGdWxsU2NyZWVuKFwiYnJvd3NlclwiKT9uLnBsYXllci5ldmVudHMudHJpZ2dlcihcImZ1bGxzY3JlZW5cIik6KHMuZGVmYXVsdC5zZXRTY3JvbGxQb3NpdGlvbihuLmxhc3RTY3JvbGxQb3NpdGlvbiksbi5wbGF5ZXIuZXZlbnRzLnRyaWdnZXIoXCJmdWxsc2NyZWVuX2NhbmNlbFwiKSl9O3RoaXMucGxheWVyLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiZnVsbHNjcmVlbmNoYW5nZVwiLGEpLHRoaXMucGxheWVyLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwibW96ZnVsbHNjcmVlbmNoYW5nZVwiLGEpLHRoaXMucGxheWVyLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiLGEpfXJldHVybiBhKGUsW3trZXk6XCJpc0Z1bGxTY3JlZW5cIix2YWx1ZTpmdW5jdGlvbigpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06XCJicm93c2VyXCIpe2Nhc2VcImJyb3dzZXJcIjpyZXR1cm4gZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnR8fGRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50fHxkb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudDtjYXNlXCJ3ZWJcIjpyZXR1cm4gdGhpcy5wbGF5ZXIuY29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucyhcImRwbGF5ZXItZnVsbGVkXCIpfX19LHtrZXk6XCJyZXF1ZXN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06XCJicm93c2VyXCIsdD1cImJyb3dzZXJcIj09PWU/XCJ3ZWJcIjpcImJyb3dzZXJcIixuPXRoaXMuaXNGdWxsU2NyZWVuKHQpO3N3aXRjaChufHwodGhpcy5sYXN0U2Nyb2xsUG9zaXRpb249cy5kZWZhdWx0LmdldFNjcm9sbFBvc2l0aW9uKCkpLGUpe2Nhc2VcImJyb3dzZXJcIjp0aGlzLnBsYXllci5jb250YWluZXIucmVxdWVzdEZ1bGxzY3JlZW4/dGhpcy5wbGF5ZXIuY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuKCk6dGhpcy5wbGF5ZXIuY29udGFpbmVyLm1velJlcXVlc3RGdWxsU2NyZWVuP3RoaXMucGxheWVyLmNvbnRhaW5lci5tb3pSZXF1ZXN0RnVsbFNjcmVlbigpOnRoaXMucGxheWVyLmNvbnRhaW5lci53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbj90aGlzLnBsYXllci5jb250YWluZXIud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oKTp0aGlzLnBsYXllci52aWRlby53ZWJraXRFbnRlckZ1bGxzY3JlZW4mJnRoaXMucGxheWVyLnZpZGVvLndlYmtpdEVudGVyRnVsbHNjcmVlbigpO2JyZWFrO2Nhc2VcIndlYlwiOnRoaXMucGxheWVyLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1mdWxsZWRcIiksZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci13ZWItZnVsbHNjcmVlbi1maXhcIiksdGhpcy5wbGF5ZXIuZXZlbnRzLnRyaWdnZXIoXCJ3ZWJmdWxsc2NyZWVuXCIpfW4mJnRoaXMuY2FuY2VsKHQpfX0se2tleTpcImNhbmNlbFwiLHZhbHVlOmZ1bmN0aW9uKCl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcImJyb3dzZXJcIil7Y2FzZVwiYnJvd3NlclwiOmRvY3VtZW50LmNhbmNlbEZ1bGxTY3JlZW4/ZG9jdW1lbnQuY2FuY2VsRnVsbFNjcmVlbigpOmRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4/ZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbigpOmRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4mJmRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4oKTticmVhaztjYXNlXCJ3ZWJcIjp0aGlzLnBsYXllci5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcImRwbGF5ZXItZnVsbGVkXCIpLGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImRwbGF5ZXItd2ViLWZ1bGxzY3JlZW4tZml4XCIpLHRoaXMucGxheWVyLmV2ZW50cy50cmlnZ2VyKFwid2ViZnVsbHNjcmVlbl9jYW5jZWxcIil9fX0se2tleTpcInRvZ2dsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlwiYnJvd3NlclwiO3RoaXMuaXNGdWxsU2NyZWVuKGUpP3RoaXMuY2FuY2VsKGUpOnRoaXMucmVxdWVzdChlKX19XSksZX0oKTt0LmRlZmF1bHQ9cn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCksbz1uKDApLHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShvKSxyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtpKHRoaXMsZSksdGhpcy5zdG9yYWdlTmFtZT17b3BhY2l0eTpcImRwbGF5ZXItZGFubWFrdS1vcGFjaXR5XCIsdm9sdW1lOlwiZHBsYXllci12b2x1bWVcIix1bmxpbWl0ZWQ6XCJkcGxheWVyLWRhbm1ha3UtdW5saW1pdGVkXCIsZGFubWFrdTpcImRwbGF5ZXItZGFubWFrdS1zaG93XCIsc3VidGl0bGU6XCJkcGxheWVyLXN1YnRpdGxlLXNob3dcIn0sdGhpcy5kZWZhdWx0PXtvcGFjaXR5Oi43LHZvbHVtZTp0Lm9wdGlvbnMudm9sdW1lfHwuNyx1bmxpbWl0ZWQ6KHQub3B0aW9ucy5kYW5tYWt1JiZ0Lm9wdGlvbnMuZGFubWFrdS51bmxpbWl0ZWQ/MTowKXx8MCxkYW5tYWt1OjEsc3VidGl0bGU6MX0sdGhpcy5kYXRhPXt9LHRoaXMuaW5pdCgpfXJldHVybiBhKGUsW3trZXk6XCJpbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5zdG9yYWdlTmFtZSl7dmFyIHQ9dGhpcy5zdG9yYWdlTmFtZVtlXTt0aGlzLmRhdGFbZV09cGFyc2VGbG9hdChzLmRlZmF1bHQuc3RvcmFnZS5nZXQodCl8fHRoaXMuZGVmYXVsdFtlXSl9fX0se2tleTpcImdldFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRhdGFbZV19fSx7a2V5Olwic2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLmRhdGFbZV09dCxzLmRlZmF1bHQuc3RvcmFnZS5zZXQodGhpcy5zdG9yYWdlTmFtZVtlXSx0KX19XSksZX0oKTt0LmRlZmF1bHQ9cn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuLGEsbyl7aSh0aGlzLGUpLHRoaXMuY29udGFpbmVyPXQsdGhpcy52aWRlbz1uLHRoaXMub3B0aW9ucz1hLHRoaXMuZXZlbnRzPW8sdGhpcy5pbml0KCl9cmV0dXJuIGEoZSxbe2tleTpcImluaXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy5jb250YWluZXIuc3R5bGUuZm9udFNpemU9dGhpcy5vcHRpb25zLmZvbnRTaXplLHRoaXMuY29udGFpbmVyLnN0eWxlLmJvdHRvbT10aGlzLm9wdGlvbnMuYm90dG9tLHRoaXMuY29udGFpbmVyLnN0eWxlLmNvbG9yPXRoaXMub3B0aW9ucy5jb2xvcix0aGlzLnZpZGVvLnRleHRUcmFja3MmJnRoaXMudmlkZW8udGV4dFRyYWNrc1swXSl7dmFyIHQ9dGhpcy52aWRlby50ZXh0VHJhY2tzWzBdO3Qub25jdWVjaGFuZ2U9ZnVuY3Rpb24oKXt2YXIgbj10LmFjdGl2ZUN1ZXNbMF07aWYobil7ZS5jb250YWluZXIuaW5uZXJIVE1MPVwiXCI7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7aS5hcHBlbmRDaGlsZChuLmdldEN1ZUFzSFRNTCgpKSxlLmNvbnRhaW5lci5hcHBlbmRDaGlsZChpKX1lbHNlIGUuY29udGFpbmVyLmlubmVySFRNTD1cIlwiO2UuZXZlbnRzLnRyaWdnZXIoXCJzdWJ0aXRsZV9jaGFuZ2VcIil9fX19LHtrZXk6XCJzaG93XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiZHBsYXllci1zdWJ0aXRsZS1oaWRlXCIpLHRoaXMuZXZlbnRzLnRyaWdnZXIoXCJzdWJ0aXRsZV9zaG93XCIpfX0se2tleTpcImhpZGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLXN1YnRpdGxlLWhpZGVcIiksdGhpcy5ldmVudHMudHJpZ2dlcihcInN1YnRpdGxlX2hpZGVcIil9fSx7a2V5OlwidG9nZ2xlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoXCJkcGxheWVyLXN1YnRpdGxlLWhpZGVcIik/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCl9fV0pLGV9KCk7dC5kZWZhdWx0PW99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe2kodGhpcyxlKSx0aGlzLmVsZW1lbnRzPXt9LHRoaXMuZWxlbWVudHMudm9sdW1lPXQudm9sdW1lQmFyLHRoaXMuZWxlbWVudHMucGxheWVkPXQucGxheWVkQmFyLHRoaXMuZWxlbWVudHMubG9hZGVkPXQubG9hZGVkQmFyLHRoaXMuZWxlbWVudHMuZGFubWFrdT10LmRhbm1ha3VPcGFjaXR5QmFyfXJldHVybiBhKGUsW3trZXk6XCJzZXRcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dD1NYXRoLm1heCh0LDApLHQ9TWF0aC5taW4odCwxKSx0aGlzLmVsZW1lbnRzW2VdLnN0eWxlW25dPTEwMCp0K1wiJVwifX0se2tleTpcImdldFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUZsb2F0KHRoaXMuZWxlbWVudHNbZV0uc3R5bGUud2lkdGgpLzEwMH19XSksZX0oKTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCksbz1uKDApLHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShvKSxyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtpKHRoaXMsZSksdGhpcy5wbGF5ZXI9dCx3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGUpe3dpbmRvdy5zZXRUaW1lb3V0KGUsMWUzLzYwKX19KCksdGhpcy50eXBlcz1bXCJsb2FkaW5nXCIsXCJwcm9ncmVzc1wiXSx0aGlzLmluaXQoKX1yZXR1cm4gYShlLFt7a2V5OlwiaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLnR5cGVzLmxlbmd0aDtlKyspe3RoaXNbXCJpbml0XCIrdGhpcy50eXBlc1tlXStcIkNoZWNrZXJcIl0oKX19fSx7a2V5OlwiaW5pdGxvYWRpbmdDaGVja2VyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9MCxuPTAsaT0hMTt0aGlzLmxvYWRpbmdDaGVja2VyPXNldEludGVydmFsKGZ1bmN0aW9uKCl7ZS5lbmFibGVsb2FkaW5nQ2hlY2tlciYmKG49ZS5wbGF5ZXIudmlkZW8uY3VycmVudFRpbWUsaXx8biE9PXR8fGUucGxheWVyLnZpZGVvLnBhdXNlZHx8KGUucGxheWVyLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1sb2FkaW5nXCIpLGk9ITApLGkmJm4+dCYmIWUucGxheWVyLnZpZGVvLnBhdXNlZCYmKGUucGxheWVyLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiZHBsYXllci1sb2FkaW5nXCIpLGk9ITEpLHQ9bil9LDEwMCl9fSx7a2V5OlwiaW5pdHByb2dyZXNzQ2hlY2tlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnByb2dyZXNzQ2hlY2tlcj1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2lmKGUuZW5hYmxlcHJvZ3Jlc3NDaGVja2VyKXtlLnBsYXllci5iYXIuc2V0KFwicGxheWVkXCIsZS5wbGF5ZXIudmlkZW8uY3VycmVudFRpbWUvZS5wbGF5ZXIudmlkZW8uZHVyYXRpb24sXCJ3aWR0aFwiKTt2YXIgdD1zLmRlZmF1bHQuc2Vjb25kVG9UaW1lKGUucGxheWVyLnZpZGVvLmN1cnJlbnRUaW1lKTtlLnBsYXllci50ZW1wbGF0ZS5wdGltZS5pbm5lckhUTUwhPT10JiYoZS5wbGF5ZXIudGVtcGxhdGUucHRpbWUuaW5uZXJIVE1MPXMuZGVmYXVsdC5zZWNvbmRUb1RpbWUoZS5wbGF5ZXIudmlkZW8uY3VycmVudFRpbWUpKX19LDEwMCl9fSx7a2V5OlwiZW5hYmxlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoZSl0aGlzW1wiZW5hYmxlXCIrZStcIkNoZWNrZXJcIl09ITA7ZWxzZSBmb3IodmFyIHQ9MDt0PHRoaXMudHlwZXMubGVuZ3RoO3QrKyl7dmFyIG49dGhpcy50eXBlc1t0XTt0aGlzW1wiZW5hYmxlXCIrbitcIkNoZWNrZXJcIl09ITB9fX0se2tleTpcImRpc2FibGVcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihlKXRoaXNbXCJlbmFibGVcIitlK1wiQ2hlY2tlclwiXT0hMTtlbHNlIGZvcih2YXIgdD0wO3Q8dGhpcy50eXBlcy5sZW5ndGg7dCsrKXt2YXIgbj10aGlzLnR5cGVzW3RdO3RoaXNbXCJlbmFibGVcIituK1wiQ2hlY2tlclwiXT0hMX19fSx7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKGUpY2xlYXJJbnRlcnZhbCh0aGlzW2UrXCJDaGVja2VyXCJdKTtlbHNlIGZvcih2YXIgdD0wO3Q8dGhpcy50eXBlcy5sZW5ndGg7dCsrKWNsZWFySW50ZXJ2YWwodGhpc1t0aGlzLnR5cGVzW3RdK1wiQ2hlY2tlclwiXSl9fV0pLGV9KCk7dC5kZWZhdWx0PXJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBuPXRoaXM7aSh0aGlzLGUpLHRoaXMuY29udGFpbmVyPXQsdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLGZ1bmN0aW9uKCl7bi5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcImRwbGF5ZXItYmV6ZWwtdHJhbnNpdGlvblwiKX0pfXJldHVybiBhKGUsW3trZXk6XCJzd2l0Y2hcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmNvbnRhaW5lci5pbm5lckhUTUw9ZSx0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1iZXplbC10cmFuc2l0aW9uXCIpfX1dKSxlfSgpO3QuZGVmYXVsdD1vfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gYShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxzPW4oMCkscj1pKHMpLGw9bigyNCksYz1pKGwpLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBuPXRoaXM7YSh0aGlzLGUpLHRoaXMucGxheWVyPXQsdGhpcy5hdXRvSGlkZVRpbWVyPTAsci5kZWZhdWx0LmlzTW9iaWxlfHwodGhpcy5wbGF5ZXIuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixmdW5jdGlvbigpe24uc2V0QXV0b0hpZGUoKX0pLHRoaXMucGxheWVyLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe24uc2V0QXV0b0hpZGUoKX0pLHRoaXMucGxheWVyLm9uKFwicGxheVwiLGZ1bmN0aW9uKCl7bi5zZXRBdXRvSGlkZSgpfSksdGhpcy5wbGF5ZXIub24oXCJwYXVzZVwiLGZ1bmN0aW9uKCl7bi5zZXRBdXRvSGlkZSgpfSkpLHRoaXMuaW5pdFBsYXlCdXR0b24oKSx0aGlzLmluaXRUaHVtYm5haWxzKCksdGhpcy5pbml0UGxheWVkQmFyKCksdGhpcy5pbml0RnVsbEJ1dHRvbigpLHRoaXMuaW5pdFF1YWxpdHlCdXR0b24oKSx0aGlzLmluaXRTY3JlZW5zaG90QnV0dG9uKCksdGhpcy5pbml0U3VidGl0bGVCdXR0b24oKSxyLmRlZmF1bHQuaXNNb2JpbGV8fHRoaXMuaW5pdFZvbHVtZUJ1dHRvbigpfXJldHVybiBvKGUsW3trZXk6XCJpbml0UGxheUJ1dHRvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnBsYXllci50ZW1wbGF0ZS5wbGF5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7ZS5wbGF5ZXIudG9nZ2xlKCl9KSxyLmRlZmF1bHQuaXNNb2JpbGU/KHRoaXMucGxheWVyLnRlbXBsYXRlLnZpZGVvV3JhcC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe2UudG9nZ2xlKCl9KSx0aGlzLnBsYXllci50ZW1wbGF0ZS5jb250cm9sbGVyTWFzay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe2UudG9nZ2xlKCl9KSk6KHRoaXMucGxheWVyLnRlbXBsYXRlLnZpZGVvV3JhcC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe2UucGxheWVyLnRvZ2dsZSgpfSksdGhpcy5wbGF5ZXIudGVtcGxhdGUuY29udHJvbGxlck1hc2suYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtlLnBsYXllci50b2dnbGUoKX0pKX19LHtrZXk6XCJpbml0VGh1bWJuYWlsc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnBsYXllci5vcHRpb25zLnZpZGVvLnRodW1ibmFpbHMmJih0aGlzLnRodW1ibmFpbHM9bmV3IGMuZGVmYXVsdCh7Y29udGFpbmVyOnRoaXMucGxheWVyLnRlbXBsYXRlLmJhclByZXZpZXcsYmFyV2lkdGg6dGhpcy5wbGF5ZXIudGVtcGxhdGUuYmFyV3JhcC5vZmZzZXRXaWR0aCx1cmw6dGhpcy5wbGF5ZXIub3B0aW9ucy52aWRlby50aHVtYm5haWxzLGV2ZW50czp0aGlzLnBsYXllci5ldmVudHN9KSx0aGlzLnBsYXllci5vbihcImxvYWRlZG1ldGFkYXRhXCIsZnVuY3Rpb24oKXtlLnRodW1ibmFpbHMucmVzaXplKDE2MCxlLnBsYXllci52aWRlby52aWRlb0hlaWdodC9lLnBsYXllci52aWRlby52aWRlb1dpZHRoKjE2MCl9KSl9fSx7a2V5OlwiaW5pdFBsYXllZEJhclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWZ1bmN0aW9uKHQpe3ZhciBuPSgodC5jbGllbnRYfHx0LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFgpLXIuZGVmYXVsdC5nZXRFbGVtZW50Vmlld0xlZnQoZS5wbGF5ZXIudGVtcGxhdGUucGxheWVkQmFyV3JhcCkpL2UucGxheWVyLnRlbXBsYXRlLnBsYXllZEJhcldyYXAuY2xpZW50V2lkdGg7bj1NYXRoLm1heChuLDApLG49TWF0aC5taW4obiwxKSxlLnBsYXllci5iYXIuc2V0KFwicGxheWVkXCIsbixcIndpZHRoXCIpLGUucGxheWVyLnRlbXBsYXRlLnB0aW1lLmlubmVySFRNTD1yLmRlZmF1bHQuc2Vjb25kVG9UaW1lKG4qZS5wbGF5ZXIudmlkZW8uZHVyYXRpb24pfSxuPWZ1bmN0aW9uIG4oaSl7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQubmFtZU1hcC5kcmFnRW5kLG4pLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoci5kZWZhdWx0Lm5hbWVNYXAuZHJhZ01vdmUsdCk7dmFyIGE9KChpLmNsaWVudFh8fGkuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCktci5kZWZhdWx0LmdldEVsZW1lbnRWaWV3TGVmdChlLnBsYXllci50ZW1wbGF0ZS5wbGF5ZWRCYXJXcmFwKSkvZS5wbGF5ZXIudGVtcGxhdGUucGxheWVkQmFyV3JhcC5jbGllbnRXaWR0aDthPU1hdGgubWF4KGEsMCksYT1NYXRoLm1pbihhLDEpLGUucGxheWVyLmJhci5zZXQoXCJwbGF5ZWRcIixhLFwid2lkdGhcIiksZS5wbGF5ZXIuc2VlayhlLnBsYXllci5iYXIuZ2V0KFwicGxheWVkXCIpKmUucGxheWVyLnZpZGVvLmR1cmF0aW9uKSxlLnBsYXllci50aW1lLmVuYWJsZShcInByb2dyZXNzXCIpfTt0aGlzLnBsYXllci50ZW1wbGF0ZS5wbGF5ZWRCYXJXcmFwLmFkZEV2ZW50TGlzdGVuZXIoci5kZWZhdWx0Lm5hbWVNYXAuZHJhZ1N0YXJ0LGZ1bmN0aW9uKCl7ZS5wbGF5ZXIudGltZS5kaXNhYmxlKFwicHJvZ3Jlc3NcIiksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQubmFtZU1hcC5kcmFnTW92ZSx0KSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5uYW1lTWFwLmRyYWdFbmQsbil9KSx0aGlzLnBsYXllci50ZW1wbGF0ZS5wbGF5ZWRCYXJXcmFwLmFkZEV2ZW50TGlzdGVuZXIoci5kZWZhdWx0Lm5hbWVNYXAuZHJhZ01vdmUsZnVuY3Rpb24odCl7aWYoZS5wbGF5ZXIudmlkZW8uZHVyYXRpb24pe3ZhciBuPXIuZGVmYXVsdC5jdW11bGF0aXZlT2Zmc2V0KGUucGxheWVyLnRlbXBsYXRlLnBsYXllZEJhcldyYXApLmxlZnQsaT0odC5jbGllbnRYfHx0LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFgpLW47aWYoaTwwfHxpPmUucGxheWVyLnRlbXBsYXRlLnBsYXllZEJhcldyYXAub2Zmc2V0V2lkdGgpcmV0dXJuO3ZhciBhPWUucGxheWVyLnZpZGVvLmR1cmF0aW9uKihpL2UucGxheWVyLnRlbXBsYXRlLnBsYXllZEJhcldyYXAub2Zmc2V0V2lkdGgpO2UudGh1bWJuYWlscyYmZS50aHVtYm5haWxzLm1vdmUoaSksZS5wbGF5ZXIudGVtcGxhdGUucGxheWVkQmFyVGltZS5zdHlsZS5sZWZ0PWktMjArXCJweFwiLGUucGxheWVyLnRlbXBsYXRlLnBsYXllZEJhclRpbWUuaW5uZXJUZXh0PXIuZGVmYXVsdC5zZWNvbmRUb1RpbWUoYSksZS5wbGF5ZXIudGVtcGxhdGUucGxheWVkQmFyVGltZS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpfX0pLHRoaXMucGxheWVyLnRlbXBsYXRlLnBsYXllZEJhcldyYXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIixmdW5jdGlvbigpe2UucGxheWVyLnZpZGVvLmR1cmF0aW9uJiYoZS50aHVtYm5haWxzJiZlLnRodW1ibmFpbHMuc2hvdygpLGUucGxheWVyLnRlbXBsYXRlLnBsYXllZEJhclRpbWUuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKSl9KSx0aGlzLnBsYXllci50ZW1wbGF0ZS5wbGF5ZWRCYXJXcmFwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsZnVuY3Rpb24oKXtlLnBsYXllci52aWRlby5kdXJhdGlvbiYmKGUudGh1bWJuYWlscyYmZS50aHVtYm5haWxzLmhpZGUoKSxlLnBsYXllci50ZW1wbGF0ZS5wbGF5ZWRCYXJUaW1lLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIikpfSl9fSx7a2V5OlwiaW5pdEZ1bGxCdXR0b25cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5wbGF5ZXIudGVtcGxhdGUuYnJvd3NlckZ1bGxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtlLnBsYXllci5mdWxsU2NyZWVuLnRvZ2dsZShcImJyb3dzZXJcIil9KSx0aGlzLnBsYXllci50ZW1wbGF0ZS53ZWJGdWxsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7ZS5wbGF5ZXIuZnVsbFNjcmVlbi50b2dnbGUoXCJ3ZWJcIil9KX19LHtrZXk6XCJpbml0Vm9sdW1lQnV0dG9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZnVuY3Rpb24odCl7dmFyIG49dHx8d2luZG93LmV2ZW50LGk9KChuLmNsaWVudFh8fG4uY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCktci5kZWZhdWx0LmdldEVsZW1lbnRWaWV3TGVmdChlLnBsYXllci50ZW1wbGF0ZS52b2x1bWVCYXJXcmFwKS01LjUpLzM1O2UucGxheWVyLnZvbHVtZShpKX0sbj1mdW5jdGlvbiBuKCl7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQubmFtZU1hcC5kcmFnRW5kLG4pLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoci5kZWZhdWx0Lm5hbWVNYXAuZHJhZ01vdmUsdCksZS5wbGF5ZXIudGVtcGxhdGUudm9sdW1lQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJkcGxheWVyLXZvbHVtZS1hY3RpdmVcIil9O3RoaXMucGxheWVyLnRlbXBsYXRlLnZvbHVtZUJhcldyYXBXcmFwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKHQpe3ZhciBuPXR8fHdpbmRvdy5ldmVudCxpPSgobi5jbGllbnRYfHxuLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFgpLXIuZGVmYXVsdC5nZXRFbGVtZW50Vmlld0xlZnQoZS5wbGF5ZXIudGVtcGxhdGUudm9sdW1lQmFyV3JhcCktNS41KS8zNTtlLnBsYXllci52b2x1bWUoaSl9KSx0aGlzLnBsYXllci50ZW1wbGF0ZS52b2x1bWVCYXJXcmFwV3JhcC5hZGRFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5uYW1lTWFwLmRyYWdTdGFydCxmdW5jdGlvbigpe2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoci5kZWZhdWx0Lm5hbWVNYXAuZHJhZ01vdmUsdCksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQubmFtZU1hcC5kcmFnRW5kLG4pLGUucGxheWVyLnRlbXBsYXRlLnZvbHVtZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci12b2x1bWUtYWN0aXZlXCIpfSksdGhpcy5wbGF5ZXIudGVtcGxhdGUudm9sdW1lSWNvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe2UucGxheWVyLnZpZGVvLm11dGVkPyhlLnBsYXllci52aWRlby5tdXRlZD0hMSxlLnBsYXllci5zd2l0Y2hWb2x1bWVJY29uKCksZS5wbGF5ZXIuYmFyLnNldChcInZvbHVtZVwiLGUucGxheWVyLnZvbHVtZSgpLFwid2lkdGhcIikpOihlLnBsYXllci52aWRlby5tdXRlZD0hMCxlLnBsYXllci50ZW1wbGF0ZS52b2x1bWVJY29uLmlubmVySFRNTD1lLnBsYXllci5pY29ucy5nZXQoXCJ2b2x1bWUtb2ZmXCIpLGUucGxheWVyLmJhci5zZXQoXCJ2b2x1bWVcIiwwLFwid2lkdGhcIikpfSl9fSx7a2V5OlwiaW5pdFF1YWxpdHlCdXR0b25cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5wbGF5ZXIub3B0aW9ucy52aWRlby5xdWFsaXR5JiZ0aGlzLnBsYXllci50ZW1wbGF0ZS5xdWFsaXR5TGlzdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbih0KXt0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJkcGxheWVyLXF1YWxpdHktaXRlbVwiKSYmZS5wbGF5ZXIuc3dpdGNoUXVhbGl0eSh0LnRhcmdldC5kYXRhc2V0LmluZGV4KX0pfX0se2tleTpcImluaXRTY3JlZW5zaG90QnV0dG9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMucGxheWVyLm9wdGlvbnMuc2NyZWVuc2hvdCYmdGhpcy5wbGF5ZXIudGVtcGxhdGUuY2FtYXJlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTt0LndpZHRoPWUucGxheWVyLnZpZGVvLnZpZGVvV2lkdGgsdC5oZWlnaHQ9ZS5wbGF5ZXIudmlkZW8udmlkZW9IZWlnaHQsdC5nZXRDb250ZXh0KFwiMmRcIikuZHJhd0ltYWdlKGUucGxheWVyLnZpZGVvLDAsMCx0LndpZHRoLHQuaGVpZ2h0KTt2YXIgbj10LnRvRGF0YVVSTCgpO2UucGxheWVyLnRlbXBsYXRlLmNhbWFyZUJ1dHRvbi5ocmVmPW4sZS5wbGF5ZXIudGVtcGxhdGUuY2FtYXJlQnV0dG9uLmRvd25sb2FkPVwiRFBsYXllci5wbmdcIixlLnBsYXllci5ldmVudHMudHJpZ2dlcihcInNjcmVlbnNob3RcIixuKX0pfX0se2tleTpcImluaXRTdWJ0aXRsZUJ1dHRvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnBsYXllci5vcHRpb25zLnN1YnRpdGxlJiYodGhpcy5wbGF5ZXIuZXZlbnRzLm9uKFwic3VidGl0bGVfc2hvd1wiLGZ1bmN0aW9uKCl7ZS5wbGF5ZXIudGVtcGxhdGUuc3VidGl0bGVCdXR0b24uZGF0YXNldC5iYWxsb29uPWUucGxheWVyLnRyYW4oXCJIaWRlIHN1YnRpdGxlXCIpLGUucGxheWVyLnRlbXBsYXRlLnN1YnRpdGxlQnV0dG9uSW5uZXIuc3R5bGUub3BhY2l0eT1cIlwiLGUucGxheWVyLnVzZXIuc2V0KFwic3VidGl0bGVcIiwxKX0pLHRoaXMucGxheWVyLmV2ZW50cy5vbihcInN1YnRpdGxlX2hpZGVcIixmdW5jdGlvbigpe2UucGxheWVyLnRlbXBsYXRlLnN1YnRpdGxlQnV0dG9uLmRhdGFzZXQuYmFsbG9vbj1lLnBsYXllci50cmFuKFwiU2hvdyBzdWJ0aXRsZVwiKSxlLnBsYXllci50ZW1wbGF0ZS5zdWJ0aXRsZUJ1dHRvbklubmVyLnN0eWxlLm9wYWNpdHk9XCIwLjRcIixlLnBsYXllci51c2VyLnNldChcInN1YnRpdGxlXCIsMCl9KSx0aGlzLnBsYXllci50ZW1wbGF0ZS5zdWJ0aXRsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe2UucGxheWVyLnN1YnRpdGxlLnRvZ2dsZSgpfSkpfX0se2tleTpcInNldEF1dG9IaWRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuc2hvdygpLGNsZWFyVGltZW91dCh0aGlzLmF1dG9IaWRlVGltZXIpLHRoaXMuYXV0b0hpZGVUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IWUucGxheWVyLnZpZGVvLnBsYXllZC5sZW5ndGh8fGUucGxheWVyLnBhdXNlZHx8ZS5kaXNhYmxlQXV0b0hpZGV8fGUuaGlkZSgpfSwzZTMpfX0se2tleTpcInNob3dcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGxheWVyLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiZHBsYXllci1oaWRlLWNvbnRyb2xsZXJcIil9fSx7a2V5OlwiaGlkZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wbGF5ZXIuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLWhpZGUtY29udHJvbGxlclwiKSx0aGlzLnBsYXllci5zZXR0aW5nLmhpZGUoKSx0aGlzLnBsYXllci5jb21tZW50JiZ0aGlzLnBsYXllci5jb21tZW50LmhpZGUoKX19LHtrZXk6XCJpc1Nob3dcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiF0aGlzLnBsYXllci5jb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZHBsYXllci1oaWRlLWNvbnRyb2xsZXJcIil9fSx7a2V5OlwidG9nZ2xlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmlzU2hvdygpP3RoaXMuaGlkZSgpOnRoaXMuc2hvdygpfX0se2tleTpcImRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLmF1dG9IaWRlVGltZXIpfX1dKSxlfSgpO3QuZGVmYXVsdD11fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtpKHRoaXMsZSksdGhpcy5jb250YWluZXI9dC5jb250YWluZXIsdGhpcy5iYXJXaWR0aD10LmJhcldpZHRoLHRoaXMuY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRJbWFnZT1cInVybCgnXCIrdC51cmwrXCInKVwiLHRoaXMuZXZlbnRzPXQuZXZlbnRzfXJldHVybiBhKGUsW3trZXk6XCJyZXNpemVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuY29udGFpbmVyLnN0eWxlLndpZHRoPWUrXCJweFwiLHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodD10K1wicHhcIix0aGlzLmNvbnRhaW5lci5zdHlsZS50b3A9Mi10K1wicHhcIn19LHtrZXk6XCJzaG93XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0aGlzLmV2ZW50cyYmdGhpcy5ldmVudHMudHJpZ2dlcihcInRodW1ibmFpbHNfc2hvd1wiKX19LHtrZXk6XCJtb3ZlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5jb250YWluZXIuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uPVwiLVwiKzE2MCooTWF0aC5jZWlsKGUvdGhpcy5iYXJXaWR0aCoxMDApLTEpK1wicHggMFwiLHRoaXMuY29udGFpbmVyLnN0eWxlLmxlZnQ9ZS10aGlzLmNvbnRhaW5lci5vZmZzZXRXaWR0aC8yK1wicHhcIn19LHtrZXk6XCJoaWRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHRoaXMuZXZlbnRzJiZ0aGlzLmV2ZW50cy50cmlnZ2VyKFwidGh1bWJuYWlsc19oaWRlXCIpfX1dKSxlfSgpO3QuZGVmYXVsdD1vfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxvPW4oMCkscz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG8pLHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBuPXRoaXM7aSh0aGlzLGUpLHRoaXMucGxheWVyPXQsdGhpcy5wbGF5ZXIudGVtcGxhdGUubWFzay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe24uaGlkZSgpfSksdGhpcy5wbGF5ZXIudGVtcGxhdGUuc2V0dGluZ0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe24uc2hvdygpfSksdGhpcy5sb29wPXRoaXMucGxheWVyLm9wdGlvbnMubG9vcCx0aGlzLnBsYXllci50ZW1wbGF0ZS5sb29wVG9nZ2xlLmNoZWNrZWQ9dGhpcy5sb29wLHRoaXMucGxheWVyLnRlbXBsYXRlLmxvb3AuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtuLnBsYXllci50ZW1wbGF0ZS5sb29wVG9nZ2xlLmNoZWNrZWQ9IW4ucGxheWVyLnRlbXBsYXRlLmxvb3BUb2dnbGUuY2hlY2tlZCxuLnBsYXllci50ZW1wbGF0ZS5sb29wVG9nZ2xlLmNoZWNrZWQ/bi5sb29wPSEwOm4ubG9vcD0hMSxuLmhpZGUoKX0pLHRoaXMuc2hvd0Rhbm1ha3U9dGhpcy5wbGF5ZXIudXNlci5nZXQoXCJkYW5tYWt1XCIpLHRoaXMuc2hvd0Rhbm1ha3V8fHRoaXMucGxheWVyLmRhbm1ha3UmJnRoaXMucGxheWVyLmRhbm1ha3UuaGlkZSgpLHRoaXMucGxheWVyLnRlbXBsYXRlLnNob3dEYW5tYWt1VG9nZ2xlLmNoZWNrZWQ9dGhpcy5zaG93RGFubWFrdSx0aGlzLnBsYXllci50ZW1wbGF0ZS5zaG93RGFubWFrdS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe24ucGxheWVyLnRlbXBsYXRlLnNob3dEYW5tYWt1VG9nZ2xlLmNoZWNrZWQ9IW4ucGxheWVyLnRlbXBsYXRlLnNob3dEYW5tYWt1VG9nZ2xlLmNoZWNrZWQsbi5wbGF5ZXIudGVtcGxhdGUuc2hvd0Rhbm1ha3VUb2dnbGUuY2hlY2tlZD8obi5zaG93RGFubWFrdT0hMCxuLnBsYXllci5kYW5tYWt1LnNob3coKSk6KG4uc2hvd0Rhbm1ha3U9ITEsbi5wbGF5ZXIuZGFubWFrdS5oaWRlKCkpLG4ucGxheWVyLnVzZXIuc2V0KFwiZGFubWFrdVwiLG4uc2hvd0Rhbm1ha3U/MTowKSxuLmhpZGUoKX0pLHRoaXMudW5saW1pdERhbm1ha3U9dGhpcy5wbGF5ZXIudXNlci5nZXQoXCJ1bmxpbWl0ZWRcIiksdGhpcy5wbGF5ZXIudGVtcGxhdGUudW5saW1pdERhbm1ha3VUb2dnbGUuY2hlY2tlZD10aGlzLnVubGltaXREYW5tYWt1LHRoaXMucGxheWVyLnRlbXBsYXRlLnVubGltaXREYW5tYWt1LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7bi5wbGF5ZXIudGVtcGxhdGUudW5saW1pdERhbm1ha3VUb2dnbGUuY2hlY2tlZD0hbi5wbGF5ZXIudGVtcGxhdGUudW5saW1pdERhbm1ha3VUb2dnbGUuY2hlY2tlZCxuLnBsYXllci50ZW1wbGF0ZS51bmxpbWl0RGFubWFrdVRvZ2dsZS5jaGVja2VkPyhuLnVubGltaXREYW5tYWt1PSEwLG4ucGxheWVyLmRhbm1ha3UudW5saW1pdCghMCkpOihuLnVubGltaXREYW5tYWt1PSExLG4ucGxheWVyLmRhbm1ha3UudW5saW1pdCghMSkpLG4ucGxheWVyLnVzZXIuc2V0KFwidW5saW1pdGVkXCIsbi51bmxpbWl0RGFubWFrdT8xOjApLG4uaGlkZSgpfSksdGhpcy5wbGF5ZXIudGVtcGxhdGUuc3BlZWQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtuLnBsYXllci50ZW1wbGF0ZS5zZXR0aW5nQm94LmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLXNldHRpbmctYm94LW5hcnJvd1wiKSxuLnBsYXllci50ZW1wbGF0ZS5zZXR0aW5nQm94LmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLXNldHRpbmctYm94LXNwZWVkXCIpfSk7Zm9yKHZhciBhPTA7YTx0aGlzLnBsYXllci50ZW1wbGF0ZS5zcGVlZEl0ZW0ubGVuZ3RoO2ErKykhZnVuY3Rpb24oZSl7bi5wbGF5ZXIudGVtcGxhdGUuc3BlZWRJdGVtW2VdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7bi5wbGF5ZXIuc3BlZWQobi5wbGF5ZXIudGVtcGxhdGUuc3BlZWRJdGVtW2VdLmRhdGFzZXQuc3BlZWQpLG4uaGlkZSgpfSl9KGEpO2lmKHRoaXMucGxheWVyLmRhbm1ha3Upe3RoaXMucGxheWVyLm9uKFwiZGFubWFrdV9vcGFjaXR5XCIsZnVuY3Rpb24oZSl7bi5wbGF5ZXIuYmFyLnNldChcImRhbm1ha3VcIixlLFwid2lkdGhcIiksbi5wbGF5ZXIudXNlci5zZXQoXCJvcGFjaXR5XCIsZSl9KSx0aGlzLnBsYXllci5kYW5tYWt1Lm9wYWNpdHkodGhpcy5wbGF5ZXIudXNlci5nZXQoXCJvcGFjaXR5XCIpKTt2YXIgbz1mdW5jdGlvbihlKXt2YXIgdD1lfHx3aW5kb3cuZXZlbnQsaT0oKHQuY2xpZW50WHx8dC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYKS1zLmRlZmF1bHQuZ2V0RWxlbWVudFZpZXdMZWZ0KG4ucGxheWVyLnRlbXBsYXRlLmRhbm1ha3VPcGFjaXR5QmFyV3JhcCkpLzEzMDtpPU1hdGgubWF4KGksMCksaT1NYXRoLm1pbihpLDEpLG4ucGxheWVyLmRhbm1ha3Uub3BhY2l0eShpKX0scj1mdW5jdGlvbiBlKCl7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihzLmRlZmF1bHQubmFtZU1hcC5kcmFnRW5kLGUpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIocy5kZWZhdWx0Lm5hbWVNYXAuZHJhZ01vdmUsbyksbi5wbGF5ZXIudGVtcGxhdGUuZGFubWFrdU9wYWNpdHlCb3guY2xhc3NMaXN0LnJlbW92ZShcImRwbGF5ZXItc2V0dGluZy1kYW5tYWt1LWFjdGl2ZVwiKX07dGhpcy5wbGF5ZXIudGVtcGxhdGUuZGFubWFrdU9wYWNpdHlCYXJXcmFwV3JhcC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihlKXt2YXIgdD1lfHx3aW5kb3cuZXZlbnQsaT0oKHQuY2xpZW50WHx8dC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYKS1zLmRlZmF1bHQuZ2V0RWxlbWVudFZpZXdMZWZ0KG4ucGxheWVyLnRlbXBsYXRlLmRhbm1ha3VPcGFjaXR5QmFyV3JhcCkpLzEzMDtpPU1hdGgubWF4KGksMCksaT1NYXRoLm1pbihpLDEpLG4ucGxheWVyLmRhbm1ha3Uub3BhY2l0eShpKX0pLHRoaXMucGxheWVyLnRlbXBsYXRlLmRhbm1ha3VPcGFjaXR5QmFyV3JhcFdyYXAuYWRkRXZlbnRMaXN0ZW5lcihzLmRlZmF1bHQubmFtZU1hcC5kcmFnU3RhcnQsZnVuY3Rpb24oKXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHMuZGVmYXVsdC5uYW1lTWFwLmRyYWdNb3ZlLG8pLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIocy5kZWZhdWx0Lm5hbWVNYXAuZHJhZ0VuZCxyKSxuLnBsYXllci50ZW1wbGF0ZS5kYW5tYWt1T3BhY2l0eUJveC5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1zZXR0aW5nLWRhbm1ha3UtYWN0aXZlXCIpfSl9fXJldHVybiBhKGUsW3trZXk6XCJoaWRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMucGxheWVyLnRlbXBsYXRlLnNldHRpbmdCb3guY2xhc3NMaXN0LnJlbW92ZShcImRwbGF5ZXItc2V0dGluZy1ib3gtb3BlblwiKSx0aGlzLnBsYXllci50ZW1wbGF0ZS5tYXNrLmNsYXNzTGlzdC5yZW1vdmUoXCJkcGxheWVyLW1hc2stc2hvd1wiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5wbGF5ZXIudGVtcGxhdGUuc2V0dGluZ0JveC5jbGFzc0xpc3QucmVtb3ZlKFwiZHBsYXllci1zZXR0aW5nLWJveC1uYXJyb3dcIiksZS5wbGF5ZXIudGVtcGxhdGUuc2V0dGluZ0JveC5jbGFzc0xpc3QucmVtb3ZlKFwiZHBsYXllci1zZXR0aW5nLWJveC1zcGVlZFwiKX0sMzAwKSx0aGlzLnBsYXllci5jb250cm9sbGVyLmRpc2FibGVBdXRvSGlkZT0hMX19LHtrZXk6XCJzaG93XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBsYXllci50ZW1wbGF0ZS5zZXR0aW5nQm94LmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLXNldHRpbmctYm94LW9wZW5cIiksdGhpcy5wbGF5ZXIudGVtcGxhdGUubWFzay5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1tYXNrLXNob3dcIiksdGhpcy5wbGF5ZXIuY29udHJvbGxlci5kaXNhYmxlQXV0b0hpZGU9ITB9fV0pLGV9KCk7dC5kZWZhdWx0PXJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBuPXRoaXM7aSh0aGlzLGUpLHRoaXMucGxheWVyPXQsdGhpcy5wbGF5ZXIudGVtcGxhdGUubWFzay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe24uaGlkZSgpfSksdGhpcy5wbGF5ZXIudGVtcGxhdGUuY29tbWVudEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe24uc2hvdygpfSksdGhpcy5wbGF5ZXIudGVtcGxhdGUuY29tbWVudFNldHRpbmdCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtuLnRvZ2dsZVNldHRpbmcoKX0pLHRoaXMucGxheWVyLnRlbXBsYXRlLmNvbW1lbnRDb2xvclNldHRpbmdCb3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtpZihuLnBsYXllci50ZW1wbGF0ZS5jb21tZW50Q29sb3JTZXR0aW5nQm94LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dDpjaGVja2VkK3NwYW5cIikpe3ZhciBlPW4ucGxheWVyLnRlbXBsYXRlLmNvbW1lbnRDb2xvclNldHRpbmdCb3gucXVlcnlTZWxlY3RvcihcImlucHV0OmNoZWNrZWRcIikudmFsdWU7bi5wbGF5ZXIudGVtcGxhdGUuY29tbWVudFNldHRpbmdGaWxsLnN0eWxlLmZpbGw9ZSxuLnBsYXllci50ZW1wbGF0ZS5jb21tZW50SW5wdXQuc3R5bGUuY29sb3I9ZSxuLnBsYXllci50ZW1wbGF0ZS5jb21tZW50U2VuZEZpbGwuc3R5bGUuZmlsbD1lfX0pLHRoaXMucGxheWVyLnRlbXBsYXRlLmNvbW1lbnRJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe24uaGlkZVNldHRpbmcoKX0pLHRoaXMucGxheWVyLnRlbXBsYXRlLmNvbW1lbnRJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLGZ1bmN0aW9uKGUpezEzPT09KGV8fHdpbmRvdy5ldmVudCkua2V5Q29kZSYmbi5zZW5kKCl9KSx0aGlzLnBsYXllci50ZW1wbGF0ZS5jb21tZW50U2VuZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe24uc2VuZCgpfSl9cmV0dXJuIGEoZSxbe2tleTpcInNob3dcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGxheWVyLmNvbnRyb2xsZXIuZGlzYWJsZUF1dG9IaWRlPSEwLHRoaXMucGxheWVyLnRlbXBsYXRlLmNvbnRyb2xsZXIuY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItY29udHJvbGxlci1jb21tZW50XCIpLHRoaXMucGxheWVyLnRlbXBsYXRlLm1hc2suY2xhc3NMaXN0LmFkZChcImRwbGF5ZXItbWFzay1zaG93XCIpLHRoaXMucGxheWVyLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZHBsYXllci1zaG93LWNvbnRyb2xsZXJcIiksdGhpcy5wbGF5ZXIudGVtcGxhdGUuY29tbWVudElucHV0LmZvY3VzKCl9fSx7a2V5OlwiaGlkZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wbGF5ZXIudGVtcGxhdGUuY29udHJvbGxlci5jbGFzc0xpc3QucmVtb3ZlKFwiZHBsYXllci1jb250cm9sbGVyLWNvbW1lbnRcIiksdGhpcy5wbGF5ZXIudGVtcGxhdGUubWFzay5jbGFzc0xpc3QucmVtb3ZlKFwiZHBsYXllci1tYXNrLXNob3dcIiksdGhpcy5wbGF5ZXIuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJkcGxheWVyLXNob3ctY29udHJvbGxlclwiKSx0aGlzLnBsYXllci5jb250cm9sbGVyLmRpc2FibGVBdXRvSGlkZT0hMSx0aGlzLmhpZGVTZXR0aW5nKCl9fSx7a2V5Olwic2hvd1NldHRpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGxheWVyLnRlbXBsYXRlLmNvbW1lbnRTZXR0aW5nQm94LmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLWNvbW1lbnQtc2V0dGluZy1vcGVuXCIpfX0se2tleTpcImhpZGVTZXR0aW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBsYXllci50ZW1wbGF0ZS5jb21tZW50U2V0dGluZ0JveC5jbGFzc0xpc3QucmVtb3ZlKFwiZHBsYXllci1jb21tZW50LXNldHRpbmctb3BlblwiKX19LHtrZXk6XCJ0b2dnbGVTZXR0aW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBsYXllci50ZW1wbGF0ZS5jb21tZW50U2V0dGluZ0JveC5jbGFzc0xpc3QuY29udGFpbnMoXCJkcGxheWVyLWNvbW1lbnQtc2V0dGluZy1vcGVuXCIpP3RoaXMuaGlkZVNldHRpbmcoKTp0aGlzLnNob3dTZXR0aW5nKCl9fSx7a2V5Olwic2VuZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLnBsYXllci50ZW1wbGF0ZS5jb21tZW50SW5wdXQuYmx1cigpLCF0aGlzLnBsYXllci50ZW1wbGF0ZS5jb21tZW50SW5wdXQudmFsdWUucmVwbGFjZSgvXlxccyt8XFxzKyQvZyxcIlwiKSlyZXR1cm4gdm9pZCB0aGlzLnBsYXllci5ub3RpY2UodGhpcy5wbGF5ZXIudHJhbihcIlBsZWFzZSBpbnB1dCBkYW5tYWt1IGNvbnRlbnQhXCIpKTt0aGlzLnBsYXllci5kYW5tYWt1LnNlbmQoe3RleHQ6dGhpcy5wbGF5ZXIudGVtcGxhdGUuY29tbWVudElucHV0LnZhbHVlLGNvbG9yOnRoaXMucGxheWVyLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItY29tbWVudC1zZXR0aW5nLWNvbG9yIGlucHV0OmNoZWNrZWRcIikudmFsdWUsdHlwZTp0aGlzLnBsYXllci5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLWNvbW1lbnQtc2V0dGluZy10eXBlIGlucHV0OmNoZWNrZWRcIikudmFsdWV9LGZ1bmN0aW9uKCl7ZS5wbGF5ZXIudGVtcGxhdGUuY29tbWVudElucHV0LnZhbHVlPVwiXCIsZS5oaWRlKCl9KX19XSksZX0oKTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uIGUodCl7aSh0aGlzLGUpLHQub3B0aW9ucy5ob3RrZXkmJmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsZnVuY3Rpb24oZSl7aWYodC5mb2N1cyl7dmFyIG49ZG9jdW1lbnQuYWN0aXZlRWxlbWVudC50YWdOYW1lLnRvVXBwZXJDYXNlKCksaT1kb2N1bWVudC5hY3RpdmVFbGVtZW50LmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKTtpZihcIklOUFVUXCIhPT1uJiZcIlRFWFRBUkVBXCIhPT1uJiZcIlwiIT09aSYmXCJ0cnVlXCIhPT1pKXt2YXIgYT1lfHx3aW5kb3cuZXZlbnQsbz12b2lkIDA7c3dpdGNoKGEua2V5Q29kZSl7Y2FzZSAzMjphLnByZXZlbnREZWZhdWx0KCksdC50b2dnbGUoKTticmVhaztjYXNlIDM3OmEucHJldmVudERlZmF1bHQoKSx0LnNlZWsodC52aWRlby5jdXJyZW50VGltZS01KSx0LmNvbnRyb2xsZXIuc2V0QXV0b0hpZGUoKTticmVhaztjYXNlIDM5OmEucHJldmVudERlZmF1bHQoKSx0LnNlZWsodC52aWRlby5jdXJyZW50VGltZSs1KSx0LmNvbnRyb2xsZXIuc2V0QXV0b0hpZGUoKTticmVhaztjYXNlIDM4OmEucHJldmVudERlZmF1bHQoKSxvPXQudm9sdW1lKCkrLjEsdC52b2x1bWUobyk7YnJlYWs7Y2FzZSA0MDphLnByZXZlbnREZWZhdWx0KCksbz10LnZvbHVtZSgpLS4xLHQudm9sdW1lKG8pfX19fSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixmdW5jdGlvbihlKXtzd2l0Y2goKGV8fHdpbmRvdy5ldmVudCkua2V5Q29kZSl7Y2FzZSAyNzp0LmZ1bGxTY3JlZW4uaXNGdWxsU2NyZWVuKFwid2ViXCIpJiZ0LmZ1bGxTY3JlZW4uY2FuY2VsKFwid2ViXCIpfX0pfTt0LmRlZmF1bHQ9YX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49dGhpcztpKHRoaXMsZSksdGhpcy5wbGF5ZXI9dCx0aGlzLnBsYXllci5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8d2luZG93LmV2ZW50O3QucHJldmVudERlZmF1bHQoKTt2YXIgaT1uLnBsYXllci5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7bi5zaG93KHQuY2xpZW50WC1pLmxlZnQsdC5jbGllbnRZLWkudG9wKSxuLnBsYXllci50ZW1wbGF0ZS5tYXNrLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7bi5oaWRlKCl9KX0pfXJldHVybiBhKGUsW3trZXk6XCJzaG93XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLnBsYXllci50ZW1wbGF0ZS5tZW51LmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLW1lbnUtc2hvd1wiKTt2YXIgbj10aGlzLnBsYXllci5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7ZSt0aGlzLnBsYXllci50ZW1wbGF0ZS5tZW51Lm9mZnNldFdpZHRoPj1uLndpZHRoPyh0aGlzLnBsYXllci50ZW1wbGF0ZS5tZW51LnN0eWxlLnJpZ2h0PW4ud2lkdGgtZStcInB4XCIsdGhpcy5wbGF5ZXIudGVtcGxhdGUubWVudS5zdHlsZS5sZWZ0PVwiaW5pdGlhbFwiKToodGhpcy5wbGF5ZXIudGVtcGxhdGUubWVudS5zdHlsZS5sZWZ0PWUrXCJweFwiLHRoaXMucGxheWVyLnRlbXBsYXRlLm1lbnUuc3R5bGUucmlnaHQ9XCJpbml0aWFsXCIpLHQrdGhpcy5wbGF5ZXIudGVtcGxhdGUubWVudS5vZmZzZXRIZWlnaHQ+PW4uaGVpZ2h0Pyh0aGlzLnBsYXllci50ZW1wbGF0ZS5tZW51LnN0eWxlLmJvdHRvbT1uLmhlaWdodC10K1wicHhcIix0aGlzLnBsYXllci50ZW1wbGF0ZS5tZW51LnN0eWxlLnRvcD1cImluaXRpYWxcIik6KHRoaXMucGxheWVyLnRlbXBsYXRlLm1lbnUuc3R5bGUudG9wPXQrXCJweFwiLHRoaXMucGxheWVyLnRlbXBsYXRlLm1lbnUuc3R5bGUuYm90dG9tPVwiaW5pdGlhbFwiKSx0aGlzLnBsYXllci50ZW1wbGF0ZS5tYXNrLmNsYXNzTGlzdC5hZGQoXCJkcGxheWVyLW1hc2stc2hvd1wiKSx0aGlzLnBsYXllci5ldmVudHMudHJpZ2dlcihcImNvbnRleHRtZW51X3Nob3dcIil9fSx7a2V5OlwiaGlkZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wbGF5ZXIudGVtcGxhdGUubWFzay5jbGFzc0xpc3QucmVtb3ZlKFwiZHBsYXllci1tYXNrLXNob3dcIiksdGhpcy5wbGF5ZXIudGVtcGxhdGUubWVudS5jbGFzc0xpc3QucmVtb3ZlKFwiZHBsYXllci1tZW51LXNob3dcIiksdGhpcy5wbGF5ZXIuZXZlbnRzLnRyaWdnZXIoXCJjb250ZXh0bWVudV9oaWRlXCIpfX1dKSxlfSgpO3QuZGVmYXVsdD1vfV0pLmRlZmF1bHR9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURQbGF5ZXIubWluLmpzLm1hcCIsImNvbnN0IGMgPSBjb25zb2xlLmxvZyxcbiAgZCA9IGRvY3VtZW50LFxuICBuID0gbmF2aWdhdG9yLFxuICB3ID0gd2luZG93XG5cbmV4cG9ydCBjb25zdCBjYXRlZ29yaWVzID0gKCkgPT4ge1xuXG4gIGNvbnN0IHJlYWR5U3RhdGUgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG5cbiAgICBpZiAoIGQucmVhZHlTdGF0ZSAgPT09ICdjb21wbGV0ZScgKSB7XG5cbiAgICAgIGNsZWFySW50ZXJ2YWwocmVhZHlTdGF0ZSlcblxuICAgICAgbGV0IHRwbCA9ICcnXG5cbiAgICAgIC8vTmFiaWdhemlvIGJvdG9pYVxuICAgICAgZC5nZXRFbGVtZW50QnlJZChcImNhdGVnb3JpZXMtYnRuXCIpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcub2ZmLWNhbnZhcy1tZW51JykuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtb3BlbicpXG5cbiAgICAgICAgLy9LYXRlZ29yaWFuIGlrb25vYSAobWVudSBvZmYtY2FudmFzKVxuICAgICAgICBpZiggZC5xdWVyeVNlbGVjdG9yKCcubmF2LWljb24nKS5jbGFzc0xpc3QuY29udGFpbnMoXCJpcy1hY3RpdmVcIikpe1xuICAgICAgICAgIGQucXVlcnlTZWxlY3RvcignLm5hdi1pY29uJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJylcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgIGQucXVlcnlTZWxlY3RvcignLm5hdi1pY29uJykuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC8vc2NhcGUgdGVrbGEgYmlkZXogaXR4aSBtZW51YVxuICAgICAgZC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChlKSA9PiB7XG4gICAgICAgIGlmIChlLmtleUNvZGUgPT0gMjcpIHtcbiAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5vZmYtY2FudmFzLW1lbnUnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1vcGVuJylcbiAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5uYXYtaWNvbicpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIC8vS2F0ZWdvcmlhayBla2FycmlcbiAgICAgIGZ1bmN0aW9uIGZldGNoQWxsQ2F0ZWdvcmllcyhkYXRhLCByZXF1ZXN0RnJvbUJHU3luYykge1xuICAgICAgICAvL0JlaGFycmV6a28gc2VremlvYWsgZXprdXRhdHVcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbicpLmZvckVhY2goIHNlY3Rpb24gPT4ge1xuICAgICAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LmFkZCgndS1oaWRlJylcbiAgICAgICAgfSlcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcuY2F0ZWdvcmllcycpLmNsYXNzTGlzdC5yZW1vdmUoJ3UtaGlkZScpXG4gICAgICAgIGQucXVlcnlTZWxlY3RvcignLnR2JykuY2xhc3NMaXN0LnJlbW92ZSgndS1oaWRlJylcblxuICAgICAgICBmZXRjaChkYXRhKVxuICAgICAgICAgIC50aGVuKCByZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkgKVxuICAgICAgICAgIC50aGVuKGpzb24gPT4ge1xuXG4gICAgICAgICAgICBpZiAoICFyZXF1ZXN0RnJvbUJHU3luYyApIHtcbiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2NhdGVnb3J5LWxpc3QnKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbG9jYWxKc29uQ2F0ZWdvcmllcycsIEpTT04uc3RyaW5naWZ5KGpzb24pKTtcblxuICAgICAgICAgICAganNvbi5tZW1iZXIuZm9yRWFjaChqc29uQ2F0ID0+IHtcbiAgICAgICAgICAgICAgdHBsICs9IGBcbiAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJjYXRlZ29yeS1pZFwiIGRhdGEtY2F0ZWdvcnk9XCIke2pzb25DYXRbXCJAaWRcIl19XCI+XG4gICAgICAgICAgICAgICAgXHQke2pzb25DYXQudGl0bGV9XG4gICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICBgXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5jYXRlZ29yaWVzX19saXN0JykuaW5uZXJIVE1MID0gdHBsXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZXJyID0+XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2F0ZWdvcnktbGlzdCcsIGRhdGEpXG4gICAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICAvL0FwbGlrYXppb3JhIHNhcnR6ZW4gZGVuZWFuIGVnaW4gYmVoYXJyZWtvYVxuICAgICAgbGV0IGRhdGEgPSAnLy9zdGlsbC1jYXN0bGUtOTk3NDkuaGVyb2t1YXBwLmNvbS9wcm9ncmFtLXR5cGUtbGlzdCdcbiAgICAgICAgXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2F0ZWdvcnktbGlzdCcsIGRhdGEpXG5cbiAgICAgIGZldGNoQWxsQ2F0ZWdvcmllcyhkYXRhLCBmYWxzZSlcblxuICAgICAgLy9CYWNrZ3JvdW5kIFN5bmMgKHByb2dyYW1haylcbiAgICAgIGlmICggJ3NlcnZpY2VXb3JrZXInIGluIG4gJiYgJ1N5bmNNYW5hZ2VyJyBpbiB3ICkge1xuICAgICAgICBmdW5jdGlvbiByZWdpc3RlckJHU3luYyAoKSB7XG4gICAgICAgICAgbi5zZXJ2aWNlV29ya2VyLnJlYWR5XG4gICAgICAgICAgLnRoZW4ocmVnaXN0cmF0aW9uID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZWdpc3RyYXRpb24uc3luYy5yZWdpc3RlcignbmFoaWVyYW4tdHYtY2F0ZWdvcmllcycpXG4gICAgICAgICAgICAgIC50aGVuKCAoKSA9PiBjKCdBdHpla28gc2lua3Jvbml6YXppb2EgZXJyZWdpc3RyYXR1YScpIClcbiAgICAgICAgICAgICAgLmNhdGNoKCBlcnIgPT4gYygnRXJyb3JlYSBhdHpla28gc2lua3Jvbml6YXppb2EgZXJyZWdpc3RyYXR6ZWFuJywgZXJyKSApXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICByZWdpc3RlckJHU3luYygpXG4gICAgICB9XG4gICAgICAvL0JhY2tncm91bmQgU3luYyAocHJvZ3JhbWFrKVxuICAgICAgbi5zZXJ2aWNlV29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBlID0+IHtcbiAgICAgICAgYygnQXR6ZWtvIHNpbmtyb25pemF6aW9hIG1lc3NhZ2UgYmlkZXo6ICcsIGUuZGF0YSlcbiAgICAgICAgaWYoIGUuZGF0YSA9PT0gJ29ubGluZSBuYWhpZXJhbi10di1jYXRlZ29yaWVzJyApXG4gICAgICAgICAgZmV0Y2hBbGxDYXRlZ29yaWVzKCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2F0ZWdvcnktbGlzdCcpLCB0cnVlKVxuICAgICAgfSlcblxuICAgIH0gLy9yZWFkeVN0YXRlXG5cbiAgfSwgMTAwICkvL2ludGVydmFsXG5cbiAgcmV0dXJuIGBcbiAgICA8ZGl2IGNsYXNzPVwiY2F0ZWdvcmllcyBvZmYtY2FudmFzLW1lbnVcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJsb2FkZXJcIj48L2Rpdj5cbiAgICAgIDx1bCBjbGFzcz1cImNhdGVnb3JpZXNfX2xpc3RcIj48L3VsPlxuICAgIDwvZGl2PlxuICAgIGBcbn1cbiIsImNvbnN0IGMgPSBjb25zb2xlLmxvZyxcbiAgZCA9IGRvY3VtZW50LFxuICBuID0gbmF2aWdhdG9yLFxuICB3ID0gd2luZG93XG5cbmV4cG9ydCBjb25zdCBjYXRlZ29yaWVzU2luZ2xlID0gKCkgPT4ge1xuXG4gIGNvbnN0IHJlYWR5U3RhdGUgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG5cbiAgICBpZiAoIGQucmVhZHlTdGF0ZSAgPT09ICdjb21wbGV0ZScgKSB7XG5cbiAgICAgIGNsZWFySW50ZXJ2YWwocmVhZHlTdGF0ZSlcblxuICAgICAgLy9LYXRlZ29yaWEgemVycmVuZGEgZWthcnJpXG4gIFx0ICBmdW5jdGlvbiBmZXRjaENhdGVnb3J5KGpzb25EYXRhLCByZXF1ZXN0RnJvbUJHU3luYywgY2F0TmFtZSkge1xuXG5cdFx0ICBcdGxldCBkYXRhID0ganNvbkRhdGEuc2xpY2UoNSksXG5cdFx0ICBcdCAgdHBsID0gJydcblxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5vZmYtY2FudmFzLW1lbnUnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1vcGVuJylcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcubmF2LWljb24nKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKVxuICAgICAgICAvL0xvYWRlciBlcmFrdXRzaVxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXItY2F0JykuY2xhc3NMaXN0LmFkZCgnbG9hZGVyLXNob3cnKVxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXItdGVtcGxhdGUtY2F0JykuY2xhc3NMaXN0LmFkZCgnbG9hZGVyLXNob3cnKVxuICAgICAgICAvL0JlaGFycmV6a28gc2VremlvYWsgZXprdXRhdHVcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbicpLmZvckVhY2goIHNlY3Rpb24gPT4ge1xuICAgICAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LmFkZCgndS1oaWRlJylcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIC8vQmlkZW9hIG1hcnR4YW4gYmFkYWdvIGVyZSwgZ2VyYXR1XG4gICAgICAgIGlmKGQucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXZpZGVvXCIpKSB7XG4gICAgICAgICAgZC5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItdmlkZW9cIikucGF1c2UoKVxuICAgICAgICB9XG5cbiAgICAgICAgZmV0Y2goZGF0YSlcbiAgICAgICAgICAudGhlbiggcmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpIClcbiAgICAgICAgICAudGhlbihqc29uID0+IHtcblxuICAgICAgICAgICAgaWYgKCAhcmVxdWVzdEZyb21CR1N5bmMgKSB7XG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdjYXRlZ29yeScpXG4gICAgICBcdFx0XHR9XG5cbiAgICAgICAgICAgIC8vTG9hZGVyIGV6a3V0YXR1XG4gICAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXItY2F0JykuY2xhc3NMaXN0LnJlbW92ZSgnbG9hZGVyLXNob3cnKVxuICAgICAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyLXRlbXBsYXRlLWNhdCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2xvYWRlci1zaG93JylcblxuICAgICAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcuc2luZ2xlLWNhdCcpLmNsYXNzTGlzdC5yZW1vdmUoJ3UtaGlkZScpXG5cbiAgICAgICAgXHRcdGpzb24ubWVtYmVyLmZvckVhY2goanNvbkNhdCA9PiB7XG4gICAgICAgICAgICAgIHRwbCArPSBgXG4gICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cInByb2dyYW0taWRcIiBkYXRhLXByb2dyYW09XCIke2pzb25DYXRbXCJAaWRcIl19XCI+XG4gICAgICAgICAgICAgICAgICAgICR7anNvbkNhdC50aXRsZX1cbiAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGQucXVlcnlTZWxlY3RvcignLnNpbmdsZS1jYXRfX2xpc3QnKS5pbm5lckhUTUwgPSB0cGxcbiAgICAgICAgICAgIGQucXVlcnlTZWxlY3RvcignLnNpbmdsZS1jYXRfX2hlYWRlcicpLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInR2X190aXRsZVwiPiR7Y2F0TmFtZX08L2Rpdj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0dl9fbnVtYmVyXCI+KCR7anNvbi5tZW1iZXIubGVuZ3RofSk8L3NwYW4+IHNhaW8gZXJha3VzdGVuXG4gICAgICAgICAgICAgIGBcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSlcblxuICAgICAgfSAvL2ZldGNoQ2F0ZWdvcnlcblxuICAgICAgZC5xdWVyeVNlbGVjdG9yKCcuY2F0ZWdvcmllc19fbGlzdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcblxuICAgICAgICBpZiggZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXRlZ29yeS1pZCcpICkge1xuICAgICAgICAgIHZhciBjYXROYW1lID0gZS50YXJnZXQuaW5uZXJIVE1MXG4gICAgICAgICAgbGV0IGRhdGEgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2F0ZWdvcnknKVxuXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NhdGVnb3J5JywgZGF0YSlcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2F0ZWdvcnktbmFtZScsIGNhdE5hbWUpXG5cbiAgICAgICAgICBmZXRjaENhdGVnb3J5KGRhdGEsIGZhbHNlLCBjYXROYW1lKVxuXG4gICAgICAgICAgLy9CYWNrZ3JvdW5kIFN5bmMgKGthdGVnb3JpYSlcbiAgICAgICAgICBpZiAoICdzZXJ2aWNlV29ya2VyJyBpbiBuICYmICdTeW5jTWFuYWdlcicgaW4gdyApIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyQkdTeW5jICgpIHtcbiAgICAgICAgICAgICAgbi5zZXJ2aWNlV29ya2VyLnJlYWR5XG4gICAgICAgICAgICAgIC50aGVuKHJlZ2lzdHJhdGlvbiA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2lzdHJhdGlvbi5zeW5jLnJlZ2lzdGVyKCduYWhpZXJhbi1jYXRlZ29yeScpXG4gICAgICAgICAgICAgICAgLnRoZW4oICgpID0+IGMoJ0F0emVrbyBzaW5rcm9uaXphemlvYSBlcnJlZ2lzdHJhdHVhJykgKVxuICAgICAgICAgICAgICAgIC5jYXRjaCggZXJyID0+IGMoJ0Vycm9yZWEgYXR6ZWtvIHNpbmtyb25pemF6aW9hIGVycmVnaXN0cmF0emVhbicsIGVycikgKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVnaXN0ZXJCR1N5bmMoKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC8vQmFja2dyb3VuZCBTeW5jIChrYXRlZ29yaWEpXG4gICAgICBuLnNlcnZpY2VXb3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGUgPT4ge1xuXHRcdCAgICBjb25zb2xlLmxvZygnQXR6ZWtvIHNpbmtyb25pemF6aW9hIG1lc3NhZ2UgYmlkZXogYWt0aWJhdHVhOiAnLCBlLmRhdGEpXG5cdFx0ICAgIGlmKCBlLmRhdGEgPT09ICdvbmxpbmUgbmFoaWVyYW4tY2F0ZWdvcnknKVxuXHRcdCAgICBcdGZldGNoQ2F0ZWdvcnkobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NhdGVnb3J5JyksIHRydWUsIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXRlZ29yeS1uYW1lJykpXG5cdFx0ICB9KVxuXG4gICAgfSAvL3JlYWR5U3RhdGVcblxuICB9LCAxMDAgKSAvL2ludGVydmFsXG5cbiAgcmV0dXJuIGBcbiAgICA8ZGl2IGNsYXNzPVwibG9hZGVyLXRlbXBsYXRlIGxvYWRlci10ZW1wbGF0ZS1jYXRcIj5cbiAgICBcdDxkaXYgY2xhc3M9XCJsb2FkZXIgbG9hZGVyLWNhdFwiPjwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJzaW5nbGUtY2F0IHNlY3Rpb24gdS1oaWRlXCI+XG4gICAgICA8aGVhZGVyIGNsYXNzPVwic2VjdGlvbi1oZWFkZXIgdHZfX2hlYWRlciBzaW5nbGUtY2F0X19oZWFkZXJcIj48L2hlYWRlcj5cbiAgICAgIDx1bCBjbGFzcz1cInR2X19saXN0IHNpbmdsZS1jYXRfX2xpc3RcIj48L3VsPlxuICAgIDwvZGl2PlxuICAgIGBcbn1cbiIsImltcG9ydCB7dHZ9IGZyb20gJy4vdHYnO1xuXG5jb25zdCBjID0gY29uc29sZS5sb2csXG4gIGQgPSBkb2N1bWVudCxcbiAgbiA9IG5hdmlnYXRvcixcbiAgdyA9IHdpbmRvd1xuXG5leHBvcnQgY29uc3QgcHdhID0gKCkgPT4ge1xuICAvL1NlcnZpY2UgV29ya2VycmEgZXJyZWdpc3RyYXR1XG4gIGlmICggJ3NlcnZpY2VXb3JrZXInIGluIG4gKSB7XG4gICAgbi5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKCcuL3N3LmpzJylcbiAgICAudGhlbiggcmVnaXN0cmF0aW9uID0+IHtcbiAgICAgIGMoJ1NlcnZpY2UgV29ya2VyIGVycmVnaXN0cmF0dWEnLCByZWdpc3RyYXRpb24uc2NvcGUpXG4gICAgfSlcbiAgICAuY2F0Y2goIGVyciA9PiBjKGBSZWdpc3RybyBkZSBTZXJ2aWNlIFdvcmtlciBmYWxsaWRvYCwgZXJyKSApXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGlzT25saW5lID0gKCkgPT4ge1xuICAvL0tvbmV4aW9hcmVuIGVnb2VyYSAob25saW5lL29mZmxpbmUpXG4gIGNvbnN0IG1ldGFUYWdUaGVtZSA9IGQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPXRoZW1lLWNvbG9yXScpXG5cbiAgZnVuY3Rpb24gbmV0d29ya1N0YXR1cyAoZSkge1xuXG4gICAgaWYgKCBuLm9uTGluZSApIHtcbiAgICAgIG1ldGFUYWdUaGVtZS5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnLCAnI2ZmZmZmZicpXG4gICAgICBkLnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1mb290ZXJfX3N0YXR1c1wiKS5jbGFzc0xpc3QucmVtb3ZlKFwib2ZmbGluZVwiKVxuICAgICAgZC5xdWVyeVNlbGVjdG9yKFwiLm9mZmxpbmVcIikuaW5uZXJIVE1MID0gXCJcIlxuICAgIH0gZWxzZSB7XG4gICAgICBtZXRhVGFnVGhlbWUuc2V0QXR0cmlidXRlKCdjb250ZW50JywgJyNjOWM5YzknKVxuICAgICAgZC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tZm9vdGVyX19zdGF0dXNcIikuY2xhc3NMaXN0LmFkZChcIm9mZmxpbmVcIilcbiAgICAgIGQucXVlcnlTZWxlY3RvcihcIi5vZmZsaW5lXCIpLmlubmVySFRNTCA9IFwiPGRpdiBjbGFzcz0ndGV4dCc+U2FyZWEgYmVycmVza3VyYXR6ZW4uLi48L2Rpdj5cIlxuICAgIH1cbiAgfVxuXG4gIHcuYWRkRXZlbnRMaXN0ZW5lcignb25saW5lJywgbmV0d29ya1N0YXR1cylcbiAgdy5hZGRFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgbmV0d29ya1N0YXR1cylcbn1cblxuZXhwb3J0IGNvbnN0IGluaXQgPSAoKSA9PiB7XG4gIFxuICBjb25zdCByZWFkeVN0YXRlID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgIC8vQXBsaWthemlvYS9sZWlob2EgZWd1bmVyYXR1XG4gICAgaWYgKCBkLnJlYWR5U3RhdGUgID09PSAnY29tcGxldGUnICkge1xuICAgICAgY2xlYXJJbnRlcnZhbChyZWFkeVN0YXRlKVxuICAgICAgZC5nZXRFbGVtZW50QnlJZChcInJlbG9hZC1hcHBcIikuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKVxuICAgICAgfSlcbiAgICB9XG4gIH0sIDEwMCApXG5cbiAgcmV0dXJuIGBcbiAgPGhlYWRlciBjbGFzcz1cIm1haW4taGVhZGVyXCI+XG4gICAgPGRpdiBjbGFzcz1cIm1haW4taGVhZGVyX19jb2xzXCI+XG4gICAgICA8aW1nIHNyYz1cIi4vYXNzZXRzL2VpdGItbG9nby1ibHVlLnN2Z1wiIGFsdD1cIk5haGllcmFuXCIgY2xhc3M9XCJtYWluLWhlYWRlcl9fbG9nb1wiIGlkPVwicmVsb2FkLWFwcFwiPlxuICAgICAgPHNwYW4gY2xhc3M9XCJtYWluLWhlYWRlcl9fc2xvZ2FuXCI+bmFoaWVyYW48L3NwYW4+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cIm1haW4taGVhZGVyX19jb2xzIHJpZ2h0XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwibmF2LWljb25cIiBpZD1cImNhdGVnb3JpZXMtYnRuXCI+XG4gICAgICBcdDxkaXYgY2xhc3M9XCJuYXYtaWNvbl9fYmFyXCI+PC9kaXY+XG4gICAgICBcdDxkaXYgY2xhc3M9XCJuYXYtaWNvbl9fYmFyXCI+PC9kaXY+XG4gICAgICBcdDxkaXYgY2xhc3M9XCJuYXYtaWNvbl9fYmFyXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9oZWFkZXI+XG5cbiAgJHt0digpfVxuXG4gIDxmb290ZXIgY2xhc3M9XCJtYWluLWZvb3RlclwiPlxuICAgIDxkaXYgY2xhc3M9XCJtYWluLWZvb3Rlcl9fc3RhdHVzXCI+PC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cIm1haW4tZm9vdGVyX19yb3dcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJtYWluLWZvb3Rlcl9fY29sLWxvZ29cIj5cbiAgICAgIFx0PGltZyBzcmM9XCIuL2Fzc2V0cy9laXRiLWxvZ28td2hpdGUuc3ZnXCIgYWx0PVwiZWl0YiBuYWhpZXJhblwiIGNsYXNzPVwibWFpbi1mb290ZXJfX2xvZ29cIj5cbiAgICAgIFx0PGRpdiBjbGFzcz1cIm1haW4tZm9vdGVyX190ZXh0XCI+QXprZW4gZWd1bmVyYWtldGE6XG4gICAgICBcdFx0PHNwYW4gY2xhc3M9XCJzYXZlZC1kYXRlXCI+JHtsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImpzb25EYXRlXCIpfTwvc3Bhbj5cbiAgICAgIFx0PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJtYWluLWZvb3Rlcl9fY29sLWJ0biBkZWxldGVTdG9yYWdlXCI+XG4gICAgICBcdDxpbWcgc3JjPVwiLi9hc3NldHMvcmVsb2FkLnN2Z1wiIGFsdD1cIkRhdHVhayBlZ3VuZXJhdHVcIiBjbGFzcz1cIm1haW4tZm9vdGVyX19yZWxvYWRcIj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBjbGFzcz1cIm1haW4tZm9vdGVyX19yb3dcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJtYWluLWZvb3Rlcl9fcG93ZXJlZC1ieVwiPlxuICAgICAgXHRQV0EgZ2FyYXBlbmEgPGEgb25jbGljaz1cIndpbmRvdy5sb2NhdGlvbj0naHR0cHM6Ly90d2l0dGVyLmNvbS9hc2llcm11c2EnXCIgaHJlZj1cIiNcIj5AYXNpZXJtdXNhPC9hPiB8XG4gICAgICBcdGVpdGIgQVBJYSA8YSBvbmNsaWNrPVwid2luZG93LmxvY2F0aW9uPSdodHRwczovL3R3aXR0ZXIuY29tL2VycmFsaW4nXCIgaHJlZj1cIiNcIj5AZXJyYWxpbjwvYT5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Zvb3Rlcj5cbiAgYFxufVxuIiwiaW1wb3J0IHtjYXRlZ29yaWVzfSBmcm9tICcuL2NhdGVnb3JpZXMnXG5pbXBvcnQge3NlbGVjdFByb2dyYW19IGZyb20gJy4vdHZQcm9ncmFtJ1xuaW1wb3J0IHtzZWxlY3RFcGlzb2RlfSBmcm9tICcuL3R2UHJvZ3JhbUVwaXNvZGUnXG5pbXBvcnQge2NhdGVnb3JpZXNTaW5nbGV9IGZyb20gJy4vY2F0ZWdvcmllc1NpbmdsZSdcblxuY29uc3QgYyA9IGNvbnNvbGUubG9nLFxuICBkID0gZG9jdW1lbnQsXG4gIG4gPSBuYXZpZ2F0b3IsXG4gIHcgPSB3aW5kb3dcblxuY29uc3QgZmlsdGVyaW5nID0gKHVsKSA9PiB7XG5cbiAgZC5nZXRFbGVtZW50QnlJZCgnZmluZC1wcm9ncmFtcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGUpID0+IHtcblxuICAgIGxldCBqc29uID0gSlNPTi5wYXJzZSggbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvY2FsSnNvbicpKSxcbiAgICAgIGxpc3RhID0gbnVsbCxcbiAgICAgIHRwbCA9ICcnXG5cbiAgICBsaXN0YSA9IGpzb24ubWVtYmVyLmZpbHRlciggbGlzdCA9PiB7XG4gICAgICByZXR1cm4gbGlzdC50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGUudGFyZ2V0LnZhbHVlLnRvTG93ZXJDYXNlKCkpXG4gICAgfSlcblxuICAgIGxpc3RhLmZvckVhY2goanNvbiA9PiB7XG4gICAgICB0cGwgKz1cbiAgICAgIGBcbiAgICAgIDxsaT5cbiAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cInByb2dyYW0taWRcIiBkYXRhLXByb2dyYW09XCIke2pzb25bXCJAaWRcIl19XCI+XG4gICAgICAgICR7anNvbi50aXRsZX1cbiAgICAgICAgPC9hPlxuICAgICAgPC9saT5cbiAgICAgIGBcbiAgICB9KVxuXG4gICAgZC5xdWVyeVNlbGVjdG9yKHVsKS5pbm5lckhUTUwgPSB0cGxcbiAgICBkLnF1ZXJ5U2VsZWN0b3IoJy50dl9faGVhZGVyJykuaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwidHZfX251bWJlclwiPiR7bGlzdGEubGVuZ3RofTwvc3Bhbj4gc2FpbyBlcmFrdXN0ZW5gXG4gIH0pXG59XG5cbmV4cG9ydCBjb25zdCB0diA9ICgpID0+IHtcblxuICBjb25zdCByZWFkeVN0YXRlID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuXG4gICAgaWYgKCBkLnJlYWR5U3RhdGUgID09PSAnY29tcGxldGUnICkge1xuXG4gICAgICBjbGVhckludGVydmFsKHJlYWR5U3RhdGUpXG5cbiAgICAgIC8vUHJvZ3JhbWEgZXJha3V0c2kgKGJ1a2xlYSlcbiAgICAgIGZ1bmN0aW9uIGdldFByb2dyYW1zKGpzb24pIHtcblxuICAgICAgICBsZXQgdHBsID0gJydcblxuICAgICAgICBKU09OLnBhcnNlKGpzb24pLm1lbWJlci5mb3JFYWNoKGpzb24gPT4ge1xuXG4gICAgICAgICAgdHBsICs9IGBcbiAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cInByb2dyYW0taWRcIiBkYXRhLXByb2dyYW09XCIke2pzb25bXCJAaWRcIl19XCI+XG4gICAgICAgICAgICAgICAgJHtqc29uLnRpdGxlfVxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgYFxuICAgICAgICB9KVxuXG4gICAgICAgIGQucXVlcnlTZWxlY3RvcignLnR2X19saXN0JykuaW5uZXJIVE1MID0gdHBsXG4gICAgICAgIGQucXVlcnlTZWxlY3RvcignLnR2X19oZWFkZXInKS5pbm5lckhUTUwgPSBgU2FpbyBndXp0aWFrIGVyYWt1c3RlbiA8c3BhbiBjbGFzcz1cInR2X19udW1iZXJcIj4oJHtKU09OLnBhcnNlKCBqc29uICkubWVtYmVyLmxlbmd0aH0pPC9zcGFuPmBcbiAgICAgICAgLy9Mb2FkZXIgZXprdXRhdHVcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyLXR2JykuY2xhc3NMaXN0LnJlbW92ZSgnbG9hZGVyLXNob3cnKVxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXItdGVtcGxhdGUtdHYnKS5jbGFzc0xpc3QucmVtb3ZlKCdsb2FkZXItc2hvdycpXG4gICAgICAgIC8vRm9vdGVycmVhbiBBUElhcmVuIGVndW5lcmFrZXRhIGRhdGEgYmlzdGFyYXR1XG4gICAgICAgIGQucXVlcnlTZWxlY3RvcignLm1haW4tZm9vdGVyX190ZXh0JykuY2xhc3NMaXN0LmFkZCgnaXMtY2FjaGUnKVxuICAgICAgfVxuXG4gICAgICAvL1Byb2dyYW1hayBla2FycmlcbiAgICAgIGZ1bmN0aW9uIGZldGNoQWxsUHJvZ3JhbXMoZGF0YSwgcmVxdWVzdEZyb21CR1N5bmMsIHJlc2V0KSB7XG5cbiAgICAgICAgbGV0IHRwbCA9ICcnXG5cbiAgICAgICAgLy9Mb2FkZXIgZXJha3V0c2lcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyLXRlbXBsYXRlLXR2JykuY2xhc3NMaXN0LmFkZCgnbG9hZGVyLXNob3cnKVxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXItdHYnKS5jbGFzc0xpc3QuYWRkKCdsb2FkZXItc2hvdycpXG4gICAgICAgIC8vQmVoYXJyZXprbyBzZWt6aW9hayBlemt1dGF0dVxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uJykuZm9yRWFjaCggc2VjdGlvbiA9PiB7XG4gICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QuYWRkKCd1LWhpZGUnKVxuICAgICAgICB9KVxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5jYXRlZ29yaWVzJykuY2xhc3NMaXN0LnJlbW92ZSgndS1oaWRlJylcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcudHYnKS5jbGFzc0xpc3QucmVtb3ZlKCd1LWhpZGUnKVxuICAgICAgICBcbiAgICAgICAgLy9CaWRlb2EgbWFydHhhbiBiYWRhZ28gZXJlLCBnZXJhdHVcbiAgICAgICAgaWYoZC5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItdmlkZW9cIikpIHtcbiAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci12aWRlb1wiKS5wYXVzZSgpXG4gICAgICAgIH1cblxuICAgICAgICAvL0FQSWEgZGVpdHUgYmVoYXIgYmFkYS4uLlxuICAgICAgICBpZihyZXNldCkge1xuXG4gICAgICAgICAgZmV0Y2goZGF0YSlcbiAgICAgICAgICAgIC50aGVuKCByZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkgKVxuICAgICAgICAgICAgLnRoZW4oanNvbiA9PiB7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAoICFyZXF1ZXN0RnJvbUJHU3luYyApIHtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndHYnKVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xvY2FsSnNvbicsIEpTT04uc3RyaW5naWZ5KGpzb24pKTtcblxuICAgICAgICAgICAgICBsZXQgc2F2ZWREYXRlID0gbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBkYXRlID0gc2F2ZWREYXRlLmdldEZ1bGxZZWFyKCkgKyAnLycgKyAoJzAnICsgKHNhdmVkRGF0ZS5nZXRNb250aCgpKzEpKS5zbGljZSgtMikgKyAnLycgKyAoJzAnICsgc2F2ZWREYXRlLmdldERhdGUoKSkuc2xpY2UoLTIpICsgJyAtICcsXG4gICAgICAgICAgICAgICAgdGltZSA9ICgnMCcgKyBzYXZlZERhdGUuZ2V0SG91cnMoKSkuc2xpY2UoLTIpICsgXCI6XCIgKyAoJzAnICsgc2F2ZWREYXRlLmdldE1pbnV0ZXMoKSkuc2xpY2UoLTIpLFxuICAgICAgICAgICAgICAgIGRhdGVUaW1lID0gZGF0ZSArICcgJyArIHRpbWVcblxuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImpzb25EYXRlXCIsIGRhdGVUaW1lKVxuICAgICAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5zYXZlZC1kYXRlJykuaW5uZXJIVE1MID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJqc29uRGF0ZVwiKVxuXG4gICAgICAgICAgICAgIGdldFByb2dyYW1zKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2NhbEpzb24nKSlcblxuICAgICAgICAgICAgICAvL05vdGlmaWthemlvIGJpZGV6IG9oYXJ0YXJhemlcbiAgICAgICAgICAgICAgaWYoIHcuTm90aWZpY2F0aW9uICYmIE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uICE9PSAnZGVuaWVkJyApIHtcbiAgICAgICAgICAgICAgICBOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oc3RhdHVzID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXR1cylcbiAgICAgICAgICAgICAgICAgIGxldCBuID0gbmV3IE5vdGlmaWNhdGlvbignTmFoaWVyYW4nLCB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHk6ICdQcm9ncmFtYSB6ZXJyZW5kYSBlZ3VuZXJhdHUgZGEgOiknLFxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnLi9hc3NldHMvZmF2aWNvbi5wbmcnXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3R2JywgZGF0YSlcbiAgICAgICAgICB9KVxuXG4gICAgICAgIC8vUHJvZ3JhbWFrIGxvY2FsLWVhbiBnb3JkZXRhIGJhZGFnb1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBnZXRQcm9ncmFtcyhkYXRhKVxuICAgICAgICB9XG5cbiAgICAgIH0vL2ZldGNoQWxsUHJvZ3JhbXNcblxuICAgICAgLy9GaWx0cm9hIGVnaW5cbiAgICAgIGZpbHRlcmluZygnLnR2X19saXN0JylcblxuICAgICAgLy9Hb3JkZXRha28gQVBJYSBlemFiYXR1IGV0YSBiZXJyaWEgZWthcnR6ZWtvIC0gRVpBQkFUVVxuICAgICAgZC5xdWVyeVNlbGVjdG9yKCcuZGVsZXRlU3RvcmFnZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgaWYgKCBjb25maXJtKCdQcm9ncmFtYSB6ZXJyZW5kYSBlZ3VuZXJhdHUgbmFoaSBhbCBkdXp1PycpID09IHRydWUpIHtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbG9jYWxKc29uJylcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnanNvbkRhdGUnKVxuXG4gICAgICAgICAgbGV0IHJlc2V0ID0gdHJ1ZSxcbiAgICAgICAgICAgIGRhdGE9ICcvL3N0aWxsLWNhc3RsZS05OTc0OS5oZXJva3VhcHAuY29tL3BsYXlsaXN0J1xuXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3R2JywgZGF0YSlcblxuICAgICAgICAgIGZldGNoQWxsUHJvZ3JhbXMoZGF0YSwgZmFsc2UsIHJlc2V0KVxuXG4gICAgICAgICAgLy9CYWNrZ3JvdW5kIFN5bmMgKHByb2dyYW1haylcbiAgICAgICAgICBpZiAoICdzZXJ2aWNlV29ya2VyJyBpbiBuICYmICdTeW5jTWFuYWdlcicgaW4gdyApIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyQkdTeW5jICgpIHtcbiAgICAgICAgICAgICAgbi5zZXJ2aWNlV29ya2VyLnJlYWR5XG4gICAgICAgICAgICAgIC50aGVuKHJlZ2lzdHJhdGlvbiA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2lzdHJhdGlvbi5zeW5jLnJlZ2lzdGVyKCduYWhpZXJhbi10dicpXG4gICAgICAgICAgICAgICAgICAudGhlbiggKCkgPT4gYygnQXR6ZWtvIHNpbmtyb25pemF6aW9hIGVycmVnaXN0cmF0dWEnKSApXG4gICAgICAgICAgICAgICAgICAuY2F0Y2goIGVyciA9PiBjKCdFcnJvcmVhIGF0emVrbyBzaW5rcm9uaXphemlvYSBlcnJlZ2lzdHJhdHplYW4nLCBlcnIpIClcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlZ2lzdGVyQkdTeW5jKClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIC8vQXBsaWthemlvcmEgc2FydHplbiBkZW5lYW4gZWdpbiBiZWhhcnJla29hIChBUElhIGRlaXR1IGVkbyBleilcbiAgICAgIGlmKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2NhbEpzb24nKSl7XG4gICAgICAgIGZldGNoQWxsUHJvZ3JhbXMobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvY2FsSnNvbicpLCBmYWxzZSwgZmFsc2UpXG4gICAgICB9ZWxzZXtcbiAgICAgICAgbGV0IHJlc2V0ID0gdHJ1ZSxcbiAgICAgICAgICBkYXRhPSAnLy9zdGlsbC1jYXN0bGUtOTk3NDkuaGVyb2t1YXBwLmNvbS9wbGF5bGlzdCdcblxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndHYnLCBkYXRhKVxuXG4gICAgICAgIGZldGNoQWxsUHJvZ3JhbXMoZGF0YSwgZmFsc2UsIHJlc2V0KVxuXG4gICAgICAgIC8vQmFja2dyb3VuZCBTeW5jIChwcm9ncmFtYWspXG4gICAgICAgIGlmICggJ3NlcnZpY2VXb3JrZXInIGluIG4gJiYgJ1N5bmNNYW5hZ2VyJyBpbiB3ICkge1xuICAgICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyQkdTeW5jICgpIHtcbiAgICAgICAgICAgIG4uc2VydmljZVdvcmtlci5yZWFkeVxuICAgICAgICAgICAgLnRoZW4ocmVnaXN0cmF0aW9uID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2lzdHJhdGlvbi5zeW5jLnJlZ2lzdGVyKCduYWhpZXJhbi10dicpXG4gICAgICAgICAgICAgIC50aGVuKCAoKSA9PiBjKCdBdHpla28gc2lua3Jvbml6YXppb2EgZXJyZWdpc3RyYXR1YScpIClcbiAgICAgICAgICAgICAgLmNhdGNoKCBlcnIgPT4gYygnRXJyb3JlYSBhdHpla28gc2lua3Jvbml6YXppb2EgZXJyZWdpc3RyYXR6ZWFuJywgZXJyKSApXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgICByZWdpc3RlckJHU3luYygpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vQmFja2dyb3VuZCBTeW5jIChwcm9ncmFtYWspXG4gICAgICBuLnNlcnZpY2VXb3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGUgPT4ge1xuICAgICAgICBjKCdBdHpla28gc2lua3Jvbml6YXppb2EgbWVzc2FnZSBiaWRlejogJywgZS5kYXRhKVxuICAgICAgICBpZiggZS5kYXRhID09PSAnb25saW5lIG5haGllcmFuLXR2JyApXG4gICAgICAgICAgZmV0Y2hBbGxQcm9ncmFtcyggbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3R2JyksIHRydWUsIGZhbHNlIClcbiAgICAgIH0pXG5cbiAgICB9IC8vcmVhZHlTdGF0ZVxuICB9LCAxMDAgKS8vaW50ZXJ2YWxcblxuICByZXR1cm4gYFxuICAgICR7Y2F0ZWdvcmllcygpfVxuICAgIDxkaXYgY2xhc3M9XCJ0diBzZWN0aW9uXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwidHZfX2Zvcm1cIj5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJmaW5kLXByb2dyYW1zXCIgY2xhc3M9XCJ0dl9faW5wdXRcIiBwbGFjZWhvbGRlcj1cImVpdGJrbyBzYWlvZW4gYXJ0ZWFuIGJpbGF0dS4uLlwiIHRpdGxlPVwiU2Fpb2FrIGJpbGF0dVwiPlxuICAgICAgPC9kaXY+XG4gICAgICA8aGVhZGVyIGNsYXNzPVwic2VjdGlvbi1oZWFkZXIgdHZfX2hlYWRlclwiPjwvaGVhZGVyPlxuICAgICAgPHVsIGNsYXNzPVwidHZfX2xpc3RcIj48L3VsPlxuICAgICAgPGRpdiBjbGFzcz1cImxvYWRlci10ZW1wbGF0ZSBsb2FkZXItdGVtcGxhdGUtdHZcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImxvYWRlciBsb2FkZXItdHZcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgICR7c2VsZWN0UHJvZ3JhbSgpfVxuICAgICR7c2VsZWN0RXBpc29kZSgpfVxuICAgICR7Y2F0ZWdvcmllc1NpbmdsZSgpfVxuICAgIGBcbn1cbiIsImNvbnN0IGMgPSBjb25zb2xlLmxvZyxcbiAgZCA9IGRvY3VtZW50LFxuICBuID0gbmF2aWdhdG9yLFxuICB3ID0gd2luZG93XG5cbmV4cG9ydCBjb25zdCBzZWxlY3RQcm9ncmFtID0gKCkgPT4ge1xuXG4gIGNvbnN0IHJlYWR5U3RhdGUgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG5cbiAgICBpZiAoIGQucmVhZHlTdGF0ZSAgPT09ICdjb21wbGV0ZScgKSB7XG5cbiAgICAgIGNsZWFySW50ZXJ2YWwocmVhZHlTdGF0ZSlcblxuICAgICAgLy9Qcm9ncmFtYSBla2FycmkgKHplcnJlbmRhKVxuICAgICAgZnVuY3Rpb24gZmV0Y2hQcm9ncmFtKGpzb25EYXRhLCByZXF1ZXN0RnJvbUJHU3luYykge1xuXHQgXHRcdFxuICAgICAgICBsZXQgZGF0YSA9IGpzb25EYXRhLnNsaWNlKDUpLFxuICAgICAgICAgIHRwbCA9ICcnLFxuICAgICAgICAgIGRhdGUgPSAnJ1xuXG4gICAgICAgIC8vQmVoYXJyZXprbyBzZWt6aW9hayBlemt1dGF0dVxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uJykuZm9yRWFjaCggc2VjdGlvbiA9PiB7XG4gICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QuYWRkKCd1LWhpZGUnKVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vTG9hZGVyIGVyYWt1dHNpXG4gICAgICAgIGQucXVlcnlTZWxlY3RvcignLmxvYWRlci1wcm9ncmFtJykuY2xhc3NMaXN0LmFkZCgnbG9hZGVyLXNob3cnKVxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXItdGVtcGxhdGUtcHJvZ3JhbScpLmNsYXNzTGlzdC5hZGQoJ2xvYWRlci1zaG93JylcbiAgICAgICAgXG4gICAgICAgIC8vQmlkZW9hIG1hcnR4YW4gYmFkYWdvIGVyZSwgZ2VyYXR1XG4gICAgICAgIGlmKGQucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXZpZGVvXCIpKSB7XG4gICAgICAgICAgZC5xdWVyeVNlbGVjdG9yKFwiLmRwbGF5ZXItdmlkZW9cIikucGF1c2UoKVxuICAgICAgICB9XG5cbiAgICAgICAgZmV0Y2goZGF0YSlcbiAgICAgICAgICAudGhlbiggcmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpIClcbiAgICAgICAgICAudGhlbihqc29uID0+IHtcblxuICAgICAgICAgICAgaWYgKCAhcmVxdWVzdEZyb21CR1N5bmMgKSB7XG4gIFx0XHRcdFx0XHQgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0di1wcm9ncmFtJylcbiAgICAgICAgICAgIH1cblxuICBcdFx0XHRcdCAgZC5xdWVyeVNlbGVjdG9yKCcucHJvZ3JhbScpLmNsYXNzTGlzdC5yZW1vdmUoJ3UtaGlkZScpXG4gIFx0XHRcdFx0ICAvL0xvYWRlciBlemt1dGF0dVxuICAgICAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyLXByb2dyYW0nKS5jbGFzc0xpc3QucmVtb3ZlKCdsb2FkZXItc2hvdycpXG4gICAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXItdGVtcGxhdGUtcHJvZ3JhbScpLmNsYXNzTGlzdC5yZW1vdmUoJ2xvYWRlci1zaG93JylcblxuICAgICAgICAgICAganNvbi5tZW1iZXIuZm9yRWFjaChqc29uID0+IHtcbiAgICAgICAgICAgICAgaWYoanNvbi5icm9hZGNhc3RfZGF0ZSkge1xuICAgICAgICAgICAgICAgIGRhdGUgPSBqc29uLmJyb2FkY2FzdF9kYXRlLnNsaWNlKDAsMTApXG4gIFx0XHRcdFx0ICBcdH1cbiAgICAgICAgICAgICAgdHBsICs9IGBcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJjdXN0b20tZXBpc29kZVwiIGRhdGEtZXBpc29kZT1cIiR7anNvbltcIkBpZFwiXX1cIj5cbiAgICAgIFx0XHRcdFx0XHQgIDxkaXYgY2xhc3M9XCJwcm9ncmFtX19pbWFnZVwiPlxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7anNvbi5lcGlzb2RlX2ltYWdlLnNsaWNlKDUpfVwiIGNsYXNzPVwicHJvZ3JhbV9faW1nIGN1c3RvbS1lcGlzb2RlXCIgZGF0YS1lcGlzb2RlPVwiJHtqc29uW1wiQGlkXCJdfVwiPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmFtX19jb250ZW50IGN1c3RvbS1lcGlzb2RlXCIgZGF0YS1lcGlzb2RlPVwiJHtqc29uW1wiQGlkXCJdfVwiPlxuICAgICAgICAgICAgICAgICAgICAke2pzb24udGl0bGV9XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3JhbV9fZGF0ZVwiPiR7ZGF0ZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgIFx0ZC5xdWVyeVNlbGVjdG9yKCcucHJvZ3JhbV9fbGlzdCcpLmlubmVySFRNTCA9IHRwbFxuICAgICAgICAgIFx0ZC5xdWVyeVNlbGVjdG9yKCcucHJvZ3JhbV9faGVhZGVyJykuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIFx0XHQ8ZGl2IGNsYXNzPVwicHJvZ3JhbV9fdGl0bGVcIj4ke2pzb24ubmFtZX08L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyYW1fX2Rlc2NcIj4ke2pzb24uZGVzY19ncm91cH08L2Rpdj5cbiAgICAgICAgICAgICAgYFxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKVxuXHRcdCAgfVxuXG4gICAgICAvL1Byb2dyYW1hIGVrYXJyaSAoY2xpY2sgZWJlbnR1YSlcbiAgICAgIGQuZ2V0RWxlbWVudEJ5SWQoXCJhcHBcIikuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICBpZiggZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwcm9ncmFtLWlkJykgKSB7XG5cbiAgXHRcdCAgICBsZXQgZGF0YSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9ncmFtJylcblxuICBcdFx0ICBcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0di1wcm9ncmFtJywgZGF0YSlcblxuICAgICAgICAgIGZldGNoUHJvZ3JhbSggZGF0YSwgZmFsc2UpXG5cbiAgICAgICAgICAvL0JhY2tncm91bmQgU3luYyAocHJvZ3JhbWFrKVxuICAgICAgICAgIGlmICggJ3NlcnZpY2VXb3JrZXInIGluIG4gJiYgJ1N5bmNNYW5hZ2VyJyBpbiB3ICkge1xuICBcdFx0XHQgICAgZnVuY3Rpb24gcmVnaXN0ZXJCR1N5bmMgKCkge1xuICBcdFx0XHQgICAgICBuLnNlcnZpY2VXb3JrZXIucmVhZHlcbiAgXHRcdFx0ICAgICAgICAudGhlbihyZWdpc3RyYXRpb24gPT4ge1xuICBcdFx0XHQgICAgICAgICAgcmV0dXJuIHJlZ2lzdHJhdGlvbi5zeW5jLnJlZ2lzdGVyKCduYWhpZXJhbi10di1wcm9ncmFtJylcbiAgXHRcdFx0ICAgICAgICAgICAgLnRoZW4oICgpID0+IGMoJ0F0emVrbyBzaW5rcm9uaXphemlvYSBlcnJlZ2lzdHJhdHVhJykgKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goIGVyciA9PiBjKCdFcnJvcmVhIGF0emVrbyBzaW5rcm9uaXphemlvYSBlcnJlZ2lzdHJhdHplYW4nLCBlcnIpIClcbiAgXHRcdFx0ICAgICAgICB9KVxuICBcdFx0XHQgICAgfVxuICBcdFx0XHQgICAgcmVnaXN0ZXJCR1N5bmMoKVxuICBcdFx0XHQgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC8vQmFja2dyb3VuZCBTeW5jIChwcm9ncmFtYWspXG4gICAgICBuLnNlcnZpY2VXb3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGUgPT4ge1xuXHRcdCAgICBjb25zb2xlLmxvZygnQXR6ZWtvIHNpbmtyb25pemF6aW9hIG1lc3NhZ2UgYmlkZXogYWt0aWJhdHVhOiAnLCBlLmRhdGEpXG5cdFx0ICAgIGlmKCBlLmRhdGEgPT09ICdvbmxpbmUgbmFoaWVyYW4tdHYtcHJvZ3JhbScgKVxuXHRcdCAgICBcdGZldGNoUHJvZ3JhbSggbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3R2LXByb2dyYW0nKSwgdHJ1ZSApXG5cdFx0ICB9KVxuICAgIH0gLy9yZWFkeVN0YXRlXG4gIH0sIDEwMCApLy9pbnRlcnZhbFxuXG4gIHJldHVybiBgXG4gICAgPGRpdiBjbGFzcz1cImxvYWRlci10ZW1wbGF0ZSBsb2FkZXItdGVtcGxhdGUtcHJvZ3JhbVwiPlxuICBcdCAgPGRpdiBjbGFzcz1cImxvYWRlciBsb2FkZXItcHJvZ3JhbVwiPjwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJwcm9ncmFtIHNlY3Rpb24gdS1oaWRlXCI+XG4gIFx0ICA8aGVhZGVyIGNsYXNzPVwic2VjdGlvbi1oZWFkZXIgcHJvZ3JhbV9faGVhZGVyXCI+PC9oZWFkZXI+XG4gICAgICA8dWwgY2xhc3M9XCJwcm9ncmFtX19saXN0XCI+PC91bD5cbiAgICA8L2Rpdj5cbiAgICBgXG59XG4iLCJpbXBvcnQgRFBsYXllciBmcm9tICdEUGxheWVyJ1xuXG5jb25zdCBjID0gY29uc29sZS5sb2csXG4gIGQgPSBkb2N1bWVudCxcbiAgbiA9IG5hdmlnYXRvcixcbiAgdyA9IHdpbmRvd1xuXG5leHBvcnQgY29uc3Qgc2VsZWN0RXBpc29kZSA9ICgpID0+IHtcblxuICBjb25zdCByZWFkeVN0YXRlID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuXG4gICAgaWYgKCBkLnJlYWR5U3RhdGUgID09PSAnY29tcGxldGUnICkge1xuICAgICAgY2xlYXJJbnRlcnZhbChyZWFkeVN0YXRlKVxuXG4gICAgICAvL0F0emVyYSBqb2FuIChwcm9ncmFtZXRhcmEpXG4gICAgICBkLmdldEVsZW1lbnRCeUlkKCdlcGlzb2RlX19iYWNrJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAvL0JlaGFycmV6a28gc2VremlvYWsgZXprdXRhdHVcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbicpLmZvckVhY2goIHNlY3Rpb24gPT4ge1xuICAgICAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LmFkZCgndS1oaWRlJylcbiAgICAgICAgfSlcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcucHJvZ3JhbScpLmNsYXNzTGlzdC5yZW1vdmUoJ3UtaGlkZScpXG4gICAgICAgIFxuICAgICAgICAvL0JpZGVvYSBtYXJ0eGFuIGJhZGFnbyBlcmUsIGdlcmF0dVxuICAgICAgICBpZihkLnF1ZXJ5U2VsZWN0b3IoXCIuZHBsYXllci12aWRlb1wiKSkge1xuICAgICAgICAgIGQucXVlcnlTZWxlY3RvcihcIi5kcGxheWVyLXZpZGVvXCIpLnBhdXNlKClcbiAgICAgICAgfVxuICAgIFxuICAgICAgfSlcblxuICAgICAgLy9lcGlzb2RlIGthcmdhdHVcbiAgICAgIGZ1bmN0aW9uIGZldGNoRXBpc29kZShqc29uRGF0YSwgcmVxdWVzdEZyb21CR1N5bmMpIHtcblxuICAgICAgICBsZXQgZGF0YSA9IGpzb25EYXRhLnNsaWNlKDUpLFxuICAgICAgICAgIHRwbCA9ICcnXG5cbiAgICAgICAgLy9Mb2FkZXIgZXJha3V0c2lcbiAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyLWVwaXNvZGUnKS5jbGFzc0xpc3QuYWRkKCdsb2FkZXItc2hvdycpXG4gICAgICAgIGQucXVlcnlTZWxlY3RvcignLmxvYWRlci10ZW1wbGF0ZS1lcGlzb2RlJykuY2xhc3NMaXN0LmFkZCgnbG9hZGVyLXNob3cnKVxuXG4gICAgICAgIC8vQmVoYXJyZXprbyBzZWt6aW9hayBlemt1dGF0dVxuICAgICAgICBkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uJykuZm9yRWFjaCggc2VjdGlvbiA9PiB7XG4gICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QuYWRkKCd1LWhpZGUnKVxuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgLy9BUElhIGRlaXR1IChlcGlzb2RlKVxuICAgICAgICBmZXRjaChkYXRhKVxuXG4gICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgICAgICAgIC50aGVuKGpzb24gPT4ge1xuXG4gICAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5lcGlzb2RlJykuY2xhc3NMaXN0LnJlbW92ZSgndS1oaWRlJylcblxuICAgICAgICAgICAgaWYgKCFyZXF1ZXN0RnJvbUJHU3luYykge1xuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndHYtcHJvZ3JhbS1lcGlzb2RlJylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9Mb2FkZXIgZXprdXRhdHVcbiAgICAgICAgICAgIGQucXVlcnlTZWxlY3RvcignLmxvYWRlci1lcGlzb2RlJykuY2xhc3NMaXN0LnJlbW92ZSgnbG9hZGVyLXNob3cnKVxuICAgICAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyLXRlbXBsYXRlLWVwaXNvZGUnKS5jbGFzc0xpc3QucmVtb3ZlKCdsb2FkZXItc2hvdycpXG5cbiAgICAgICAgICAgIGxldCB1cmxFbmQgPSBqc29uLnVybC5zbGljZSgtMyk7XG5cbiAgICAgICAgICAgIGlmKHVybEVuZCA9PT0gJ21wNCcpIHtcbiAgICAgICAgICAgICAgdXJsRW5kID0ganNvbi51cmxcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICB1cmxFbmQgPSBqc29uLmZvcm1hdHNbN10udXJsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKGQuZ2V0RWxlbWVudEJ5SWQoJ2RwbGF5ZXInKSl7XG4gICAgICAgICAgICAgIHZhciBkcCA9IG5ldyBEUGxheWVyKHtcbiAgICAgICAgICAgICAgICBjb250YWluZXI6IGQuZ2V0RWxlbWVudEJ5SWQoJ2RwbGF5ZXInKSxcbiAgICAgICAgICAgICAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdGhlbWU6ICcjMDA4Y2QwJyxcbiAgICAgICAgICAgICAgICB2aWRlbzoge1xuICAgICAgICAgICAgICAgICAgdXJsOiB1cmxFbmQgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBkLnF1ZXJ5U2VsZWN0b3IoJy5lcGlzb2RlX19oZWFkZXInKS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlcGlzb2RlX190aXRsZVwiPiR7anNvbi50aXRsZX08L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImVwaXNvZGVfX2Rlc2NcIj4ke2pzb24uZGVzY3JpcHRpb259PC9kaXY+XG4gICAgICAgICAgICAgIGBcbiAgICAgICAgXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0di1wcm9ncmFtLWVwaXNvZGUnLCBqc29uRGF0YSlcbiAgICAgICAgICAgIGQucXVlcnlTZWxlY3RvcignLmVwaXNvZGVfX3BsYXknKS5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz1cImVycm9yXCI+S29uZXhpb2FrIGh1dHMgZWdpbiBkdTwvZGl2PidcbiAgICAgICAgICB9KVxuICAgICAgfSAvL2ZldGNoRXBpc29kZVxuXG4gICAgICAvL1Byb2dyYW1hIHplcnJlbmRhdGlrIGVwaXNvZGUgZWthcnJpIChjbGljaylcbiAgICAgIGQucXVlcnlTZWxlY3RvcignLnByb2dyYW1fX2xpc3QnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgICAgIGlmKCBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2N1c3RvbS1lcGlzb2RlJykgKSB7XG5cbiAgICAgICAgICBsZXQgZGF0YSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1lcGlzb2RlJylcblxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0di1wcm9ncmFtLWVwaXNvZGUnLCBkYXRhKVxuICAgICAgICAgIGZldGNoRXBpc29kZShkYXRhLCBmYWxzZSlcblxuICAgICAgICAgIC8vQmFja2dyb3VuZCBTeW5jIChlcGlzb2RlKVxuICAgICAgICAgIGlmICggJ3NlcnZpY2VXb3JrZXInIGluIG4gJiYgJ1N5bmNNYW5hZ2VyJyBpbiB3ICkge1xuICAgICAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJCR1N5bmMgKCkge1xuICAgICAgICAgICAgICBuLnNlcnZpY2VXb3JrZXIucmVhZHlcbiAgICAgICAgICAgICAgLnRoZW4ocmVnaXN0cmF0aW9uID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVnaXN0cmF0aW9uLnN5bmMucmVnaXN0ZXIoJ25haGllcmFuLXR2LXByb2dyYW0tZXBpc29kZScpXG4gICAgICAgICAgICAgICAgICAudGhlbiggKCkgPT4gYygnQXR6ZWtvIHNpbmtyb25pemF6aW9hIGVycmVnaXN0cmF0dWEnKSApXG4gICAgICAgICAgICAgICAgICAuY2F0Y2goIGVyciA9PiBjKCdFcnJvcmVhIGF0emVrbyBzaW5rcm9uaXphemlvYSBlcnJlZ2lzdHJhdHplYW4nLCBlcnIpIClcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlZ2lzdGVyQkdTeW5jKClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAvL0JhY2tncm91bmQgU3luYyAoZXBpc29kZSlcbiAgICAgIG4uc2VydmljZVdvcmtlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZSA9PiB7XG4gICAgICAgIGMoJ0F0emVrbyBzaW5rcm9uaXphemlvYSBtZXNzYWdlIGJpZGV6OiAnLCBlLmRhdGEpXG4gICAgICAgIGlmKCBlLmRhdGEgPT09ICdvbmxpbmUgbmFoaWVyYW4tdHYtcHJvZ3JhbS1lcGlzb2RlJylcbiAgICAgICAgICBmZXRjaEVwaXNvZGUobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3R2LXByb2dyYW0tZXBpc29kZScpLCB0cnVlKVxuICAgICAgfSlcblxuICAgIH0gLy9yZWFkeVN0YXRlXG4gIH0sIDEwMCApLy9pbnRlcnZhbFxuXG4gIHJldHVybiBgXG4gICAgPGRpdiBjbGFzcz1cImxvYWRlci10ZW1wbGF0ZSBsb2FkZXItdGVtcGxhdGUtZXBpc29kZVwiPlxuICAgICAgPGRpdiBjbGFzcz1cImxvYWRlciBsb2FkZXItZXBpc29kZVwiPjwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBjbGFzcz1cImVwaXNvZGUgc2VjdGlvbiB1LWhpZGVcIj5cbiAgICAgIDxoZWFkZXIgY2xhc3M9XCJzZWN0aW9uLWhlYWRlciBlcGlzb2RlX19oZWFkZXJcIj48L2hlYWRlcj5cbiAgICAgIDxkaXYgY2xhc3M9XCJlcGlzb2RlX19wbGF5XCI+XG4gICAgICAgIDxkaXYgaWQ9XCJkcGxheWVyXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJlcGlzb2RlX19uYXZcIj48YSBocmVmPVwiI1wiIGlkPVwiZXBpc29kZV9fYmFja1wiPjwgQXR6ZXJhPC9hPjwvZGl2PlxuICAgIDwvZGl2PlxuICAgIGBcbn1cbiIsImltcG9ydCB7IGluaXQsIHB3YSwgaXNPbmxpbmUgfSBmcm9tICcuL2NvbXBvbmVudHMvaW5pdCc7XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcHAnKS5pbm5lckhUTUwgPSBpbml0KClcblxuLy9BcGxpa3ppb2Egd2ViIHByb2dyZXNpYm9hIGVycmVnaXN0cmF0dVxucHdhKClcbi8vT25saW5lL2ZmbGluZSBnYXVkZW4gemVoYXp0dVxuaXNPbmxpbmUoKVxuIl19
